{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"!C:\\\\FH\\\\fh-cloud-app\\\\node_modules\\\\@ngtools\\\\webpack\\\\src\\\\loaders\\\\direct-resource.js!./all-carriers.component.html\";\nimport __NG_CLI_RESOURCE__1 from \"./all-carriers.component.css\";\nimport { Component } from '@angular/core';\nimport { ApiService } from 'src/app/services';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Auth } from 'aws-amplify';\nimport { Router } from '@angular/router';\nlet AllCarriersComponent = class AllCarriersComponent {\n  constructor(apiService, spinner, router) {\n    this.apiService = apiService;\n    this.spinner = spinner;\n    this.router = router;\n    this.carriersList = [];\n    this.dataMessage = 'Fetching Data.....';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.fetchCarriers();\n    })();\n  }\n\n  fetchCarriers() {\n    this.spinner.show();\n    this.apiService.getData('carriers').subscribe(result => {\n      if (result.Items.length == 0) {\n        this.dataMessage = 'No Data Found';\n      }\n\n      this.carriersList = result.Items;\n      this.spinner.hide();\n    }, err => {\n      this.spinner.hide();\n    });\n  }\n\n  Logout() {\n    Auth.signOut();\n    localStorage.removeItem('vehicle');\n    localStorage.removeItem('driver');\n    localStorage.removeItem('LoggedIn');\n    localStorage.removeItem('user');\n    localStorage.removeItem('carrierID'); // localStorage.removeItem('jwt');\n\n    this.router.navigate(['/Login']);\n  }\n\n  selectCarrier(carrierID, carrierBusiness) {\n    localStorage.setItem('carrierID', carrierID);\n    localStorage.setItem('carrierBusiness', carrierBusiness);\n    this.router.navigate(['/Map-Dashboard']);\n  }\n\n};\n\nAllCarriersComponent.ctorParameters = () => [{\n  type: ApiService\n}, {\n  type: NgxSpinnerService\n}, {\n  type: Router\n}];\n\nAllCarriersComponent = __decorate([Component({\n  selector: 'app-all-carriers',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], AllCarriersComponent);\nexport { AllCarriersComponent };","map":null,"metadata":{},"sourceType":"module"}