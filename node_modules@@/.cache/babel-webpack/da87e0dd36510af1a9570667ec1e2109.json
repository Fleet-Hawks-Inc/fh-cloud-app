{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { map } from \"rxjs/operators\";\nimport { from, Subject } from 'rxjs';\nimport * as moment from \"moment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/platform-browser\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"../../../../../services/modal.service\";\nimport * as i9 from \"src/app/services/route-management-service.service\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@ng-select/ng-select\";\nconst _c0 = [\"issueF\"];\n\nfunction AddIssueComponent_div_34_ng_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const vehicle_r24 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", vehicle_r24.vehicleID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", vehicle_r24.vehicleIdentification, \" \");\n  }\n}\n\nfunction AddIssueComponent_div_34_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" vehicle is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_34_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_34_div_9_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r21 = i0.ɵɵreference(7);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r21.errors.required);\n  }\n}\n\nfunction AddIssueComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelementStart(1, \"label\", 29);\n    i0.ɵɵtext(2, \" Select Vehicle\");\n    i0.ɵɵelementStart(3, \"span\", 30);\n    i0.ɵɵelementStart(4, \"sup\");\n    i0.ɵɵtext(5, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ng-select\", 70, 71);\n    i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_div_34_Template_ng_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.unitID = $event;\n    });\n    i0.ɵɵtemplate(8, AddIssueComponent_div_34_ng_option_8_Template, 2, 2, \"ng-option\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddIssueComponent_div_34_div_9_Template, 2, 1, \"div\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r21 = i0.ɵɵreference(7);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.unitID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.vehicles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r21.invalid && (_r21.dirty || _r21.touched));\n  }\n}\n\nfunction AddIssueComponent_div_35_ng_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const asset_r31 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", asset_r31.assetID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", asset_r31.assetIdentification, \"\");\n  }\n}\n\nfunction AddIssueComponent_div_35_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Asset is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_35_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_35_div_9_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r28 = i0.ɵɵreference(7);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r28.errors.required);\n  }\n}\n\nfunction AddIssueComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelementStart(1, \"label\", 29);\n    i0.ɵɵtext(2, \" Select Asset\");\n    i0.ɵɵelementStart(3, \"span\", 30);\n    i0.ɵɵelementStart(4, \"sup\");\n    i0.ɵɵtext(5, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ng-select\", 75, 76);\n    i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_div_35_Template_ng_select_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.unitID = $event;\n    });\n    i0.ɵɵtemplate(8, AddIssueComponent_div_35_ng_option_8_Template, 2, 2, \"ng-option\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddIssueComponent_div_35_div_9_Template, 2, 1, \"div\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r28 = i0.ɵɵreference(7);\n\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.unitID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.assets);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r28.invalid && (_r28.dirty || _r28.touched));\n  }\n}\n\nfunction AddIssueComponent_div_45_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Issue name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_45_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Issue name must contain alphanumeric characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_45_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵtemplate(2, AddIssueComponent_div_45_div_2_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(44);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.pattern);\n  }\n}\n\nfunction AddIssueComponent_div_56_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Reported date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_56_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r6 = i0.ɵɵreference(55);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors.required);\n  }\n}\n\nfunction AddIssueComponent_div_63_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Odometer miles is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_63_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Odometer miles must contain numbers. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_63_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_63_div_9_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵtemplate(2, AddIssueComponent_div_63_div_9_div_2_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r38 = i0.ɵɵreference(8);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r38.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r38.errors.pattern);\n  }\n}\n\nfunction AddIssueComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 77);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"label\", 45);\n    i0.ɵɵtext(3, \"Odometer(miles)\");\n    i0.ɵɵelementStart(4, \"span\", 30);\n    i0.ɵɵelementStart(5, \"sup\");\n    i0.ɵɵtext(6, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 78, 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_div_63_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return ctx_r42.odometer = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddIssueComponent_div_63_div_9_Template, 3, 2, \"div\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r38 = i0.ɵɵreference(8);\n\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.odometer);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r38.invalid && (_r38.dirty || _r38.touched));\n  }\n}\n\nfunction AddIssueComponent_ng_option_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r44 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", user_r44.userName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", user_r44.firstName, \" \", user_r44.lastName, \"\");\n  }\n}\n\nfunction AddIssueComponent_div_74_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Reported by is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_74_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r9 = i0.ɵɵreference(72);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors.required);\n  }\n}\n\nfunction AddIssueComponent_ng_option_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 72);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r46 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", user_r46.userName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", user_r46.firstName, \" \", user_r46.lastName, \"\");\n  }\n}\n\nfunction AddIssueComponent_div_85_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Assigned to is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIssueComponent_div_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_85_div_1_Template, 2, 0, \"div\", 74);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r12 = i0.ɵɵreference(83);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r12.errors.required);\n  }\n}\n\nfunction AddIssueComponent_div_101_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 82);\n    i0.ɵɵelementStart(1, \"div\", 83);\n    i0.ɵɵelement(2, \"img\", 84);\n    i0.ɵɵelement(3, \"hr\", 85);\n    i0.ɵɵelementStart(4, \"div\", 17);\n    i0.ɵɵelementStart(5, \"div\", 86);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 87);\n    i0.ɵɵelementStart(8, \"i\", 88);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_div_101_div_1_Template_i_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const photo_r49 = restoredCtx.$implicit;\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return ctx_r51.delete(\"image\", photo_r49.name);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const photo_r49 = ctx.$implicit;\n    const i_r50 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", photo_r49.path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Image \", i_r50 + 1, \"\");\n  }\n}\n\nfunction AddIssueComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80);\n    i0.ɵɵtemplate(1, AddIssueComponent_div_101_div_1_Template, 9, 2, \"div\", 81);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.issueImages);\n  }\n}\n\nfunction AddIssueComponent_div_110_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 94);\n    i0.ɵɵelementStart(1, \"div\", 95);\n    i0.ɵɵelementStart(2, \"a\", 96);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 97);\n    i0.ɵɵelementStart(5, \"i\", 98);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_div_110_div_9_Template_i_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const doc_r54 = restoredCtx.$implicit;\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return ctx_r56.setPDFSrc(doc_r54.path);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 99);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_div_110_div_9_Template_a_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const doc_r54 = restoredCtx.$implicit;\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return ctx_r58.delete(\"doc\", doc_r54.name);\n    });\n    i0.ɵɵelement(7, \"i\", 100);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const doc_r54 = ctx.$implicit;\n    const d_r55 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", doc_r54.path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Document \", d_r55 + 1, \"\");\n  }\n}\n\nfunction AddIssueComponent_div_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"div\", 89);\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵelementStart(5, \"label\", 90);\n    i0.ɵɵtext(6, \"Document(s)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"div\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"hr\", 92);\n    i0.ɵɵtemplate(9, AddIssueComponent_div_110_div_9_Template, 8, 2, \"div\", 93);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.issueDocs);\n  }\n}\n\nfunction AddIssueComponent_button_119_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_button_119_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext();\n      return ctx_r59.addIssue();\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n  }\n}\n\nfunction AddIssueComponent_button_120_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_button_120_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r61 = i0.ɵɵnextContext();\n      return ctx_r61.addIssue();\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r18.submitDisabled);\n  }\n}\n\nfunction AddIssueComponent_button_121_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r64 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_button_121_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r64);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return ctx_r63.updateIssue();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n  }\n}\n\nfunction AddIssueComponent_button_122_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function AddIssueComponent_button_122_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r65 = i0.ɵɵnextContext();\n      return ctx_r65.updateIssue();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r20.submitDisabled);\n  }\n}\n\nexport class AddIssueComponent {\n  // date: {year: number, month: number};\n  constructor(apiService, router, route, toaster, spinner, location, domSanitizer, ngbCalendar, modalService, modalServiceOwn, dateAdapter, routerMgmtService) {\n    this.apiService = apiService;\n    this.router = router;\n    this.route = route;\n    this.toaster = toaster;\n    this.spinner = spinner;\n    this.location = location;\n    this.domSanitizer = domSanitizer;\n    this.ngbCalendar = ngbCalendar;\n    this.modalService = modalService;\n    this.modalServiceOwn = modalServiceOwn;\n    this.dateAdapter = dateAdapter;\n    this.routerMgmtService = routerMgmtService;\n    this.takeUntil$ = new Subject();\n    this.Asseturl = this.apiService.AssetUrl;\n    this.fileName = \"\";\n    /**\r\n     * Issue Prop\r\n     */\n\n    this.clone = false;\n    this.issueName = \"\";\n    this.isSubmitted = false;\n    this.unitID = null;\n    this.unitType = \"vehicle\";\n    this.currentStatus = \"OPEN\";\n    this.reportedDate = moment().format(\"YYYY-MM-DD\");\n    this.description = \"\";\n    this.reportedBy = \"\";\n    this.assignedTo = \"\";\n    this.vehicles = [];\n    this.assets = [];\n    this.contacts = [];\n    this.drivers = [];\n    this.users = [];\n    this.uploadedFiles = [];\n    this.imageNameArray = [];\n    this.uploadedPhotos = [];\n    this.uploadedDocs = [];\n    this.existingPhotos = [];\n    this.existingDocs = [];\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.submitDisabled = false;\n    this.Error = \"\";\n    this.errors = {};\n    this.Success = \"\";\n    this.issueImages = [];\n    this.issueDocs = [];\n    this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(\"\");\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.selectedFileNames = new Map();\n    this.sessionID = this.routerMgmtService.vehicleUpdateSessionID;\n  }\n\n  get today() {\n    return this.dateAdapter.toModel(this.ngbCalendar.getToday());\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.fetchUsers();\n\n      _this.issueID = _this.route.snapshot.params[`issueID`]; // if (this.issueID || this.cloneID) {\n\n      if (_this.issueID) {\n        _this.title = \"Edit Issue\";\n        yield _this.fetchIssueByID();\n      } else {\n        _this.title = \"Add Issue\";\n      }\n\n      yield _this.fetchVehicles();\n      yield _this.fetchAssets();\n\n      _this.route.queryParams.subscribe(params => {\n        _this.cloneID = params.cloneID;\n\n        if (_this.cloneID != undefined && _this.cloneID != \"\") {\n          _this.cloneIssue(_this.cloneID);\n        }\n      });\n    })();\n  }\n\n  cancel() {\n    this.location.back(); // <-- go back to previous location on cancel\n  }\n\n  fetchVehicles() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this2.apiService.getData(\"vehicles\").toPromise();\n      result.Items.forEach(element => {\n        if (element.isDeleted === 0) {\n          _this2.vehicles.push(element);\n        }\n\n        if (element.isDeleted === 1 && _this2.unitID === element.vehicleID) {\n          _this2.unitID = null;\n        }\n      });\n    })();\n  }\n\n  fetchAssets() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this3.apiService.getData(\"assets\").toPromise();\n      result.Items.forEach(element => {\n        if (element.isDeleted === 0) {\n          _this3.assets.push(element);\n        }\n\n        if (element.isDeleted === 1 && _this3.unitID === element.assetID) {\n          _this3.unitID = null;\n        }\n      });\n    })();\n  }\n\n  fetchUsers() {\n    this.apiService.getData(\"common/users/fetch/records\").subscribe(result => {\n      this.users = result.Items;\n    });\n  }\n\n  getToday() {\n    return new Date().toISOString().split(\"T\")[0];\n  }\n\n  onChangeUnitType(value) {\n    if (this.issueID) {\n      if (value != this.fetchedUnitType) {\n        this.unitID = null;\n        this.unitType = value;\n      } else {\n        this.unitID = this.fetchedUnitID;\n        this.unitType = this.fetchedUnitType;\n      }\n    } else {\n      this.unitType = value;\n      this.unitID = null;\n    }\n  }\n\n  addIssue() {\n    this.hideErrors();\n    this.submitDisabled = true;\n    const data = {\n      issueName: this.issueName.trim(),\n      unitType: this.unitType,\n      unitID: this.unitID,\n      currentStatus: this.currentStatus,\n      reportedDate: this.reportedDate,\n      description: this.description,\n      odometer: this.odometer,\n      reportedBy: this.reportedBy,\n      assignedTo: this.assignedTo,\n      uploadedPhotos: this.uploadedPhotos,\n      uploadedDocs: this.uploadedDocs\n    };\n\n    if (this.clone == true) {\n      data.uploadedPhotos = this.existingPhotos;\n      data.uploadedDocs = this.existingDocs;\n    } // create form data instance\n\n\n    const formData = new FormData(); // append photos if any\n\n    for (let i = 0; i < this.uploadedPhotos.length; i++) {\n      formData.append(\"uploadedPhotos\", this.uploadedPhotos[i]);\n    } // append docs if any\n\n\n    for (let j = 0; j < this.uploadedDocs.length; j++) {\n      formData.append(\"uploadedDocs\", this.uploadedDocs[j]);\n    } // append other fields\n\n\n    formData.append(\"data\", JSON.stringify(data)); // this.apiService.postData('issues/', data).subscribe({\n\n    this.apiService.postData(\"issues\", formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            // this.throwErrors();\n            this.submitDisabled = false;\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.response = res;\n        this.submitDisabled = false;\n        this.modalServiceOwn.triggerRedirect.next(true);\n        this.takeUntil$.next();\n        this.takeUntil$.complete();\n        this.isSubmitted = true;\n        this.toaster.success(\"Issue Added successfully\");\n        this.router.navigateByUrl(\"/fleet/maintenance/issues/list\");\n        this.router.navigateByUrl('/fleet/maintenance/issues/list/${this.routerMgmtService.maintainanceUpdated()}');\n        this.cancel();\n      }\n    });\n  }\n\n  throwErrors() {\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').after('<label id=\"' + v + '-error\" class=\"error\" for=\"' + v + '\">' + this.errors[v] + \"</label>\").addClass(\"error\");\n    });\n  }\n\n  hideErrors() {\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').removeClass(\"error\").next().remove(\"label\");\n    });\n    this.errors = {};\n  }\n  /*\r\n   * Selecting files before uploading\r\n   */\n\n\n  selectDocuments(event, obj) {\n    let files = [...event.target.files];\n\n    if (obj === \"uploadedDocs\") {\n      this.uploadedDocs = [];\n\n      for (let i = 0; i < files.length; i++) {\n        this.uploadedDocs.push(files[i]);\n      }\n    } else {\n      this.uploadedPhotos = [];\n\n      for (let i = 0; i < files.length; i++) {\n        this.uploadedPhotos.push(files[i]);\n      }\n    }\n  }\n  /*\r\n   * Fetch Issue details before updating\r\n   */\n\n\n  fetchIssueByID() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this4.apiService.getData(`issues/${_this4.issueID}`).toPromise(); // .subscribe((result: any) => {\n\n      result = result[0];\n      _this4.issueID = _this4.issueID;\n      _this4.issueName = result.issueName;\n      _this4.unitID = result.unitID;\n      _this4.fetchedUnitID = result.unitID;\n      _this4.fetchedUnitType = result.unitType;\n      _this4.unitType = result.unitType;\n      _this4.currentStatus = result.currentStatus;\n      _this4.reportedDate = result.reportedDate;\n      _this4.description = result.description;\n      _this4.odometer = result.odometer;\n      _this4.reportedBy = result.reportedBy;\n      _this4.assignedTo = result.assignedTo;\n      _this4.existingPhotos = result.uploadedPhotos;\n      _this4.existingDocs = result.uploadedDocs;\n\n      if (result.uploadedPhotos !== undefined && result.uploadedPhotos.length > 0) {\n        // this.issueImages = result.uploadedPhotos.map((x) => ({\n        //   path: `${this.Asseturl}/${result.pk}/${x}`,\n        //   name: x,\n        // }));\n        _this4.issueImages = result.uploadedPics;\n      }\n\n      if (result.uploadedDocs !== undefined && result.uploadedDocs.length > 0) {\n        // this.issueDocs = result.uploadedDocs.map((x) => ({\n        //   path: `${this.Asseturl}/${result.pk}/${x}`,\n        //   name: x,\n        // }));\n        _this4.issueDocs = result.uploadDocument;\n      }\n    })();\n  }\n\n  setPDFSrc(val) {\n    const pieces = val.split(/[\\s.]+/);\n    const ext = pieces[pieces.length - 1];\n    this.pdfSrc = \"\";\n\n    if (ext === \"doc\" || ext === \"docx\" || ext === \"xlsx\") {\n      this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(\"https://docs.google.com/viewer?url=\" + val + \"&embedded=true\");\n    } else {\n      this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(val);\n    }\n  }\n\n  setSrcValue() {\n    this.pdfSrc = \"\";\n  }\n  /*\r\n   * Update Issue\r\n   */\n\n\n  updateIssue() {\n    this.errors = {};\n    this.submitDisabled = true;\n    this.hasError = false;\n    this.hasSuccess = false;\n    const data = {\n      issueID: this.issueID,\n      issueName: this.issueName.trim(),\n      unitID: this.unitID,\n      unitType: this.unitType,\n      currentStatus: this.currentStatus,\n      reportedDate: this.reportedDate,\n      description: this.description,\n      odometer: this.odometer,\n      reportedBy: this.reportedBy,\n      assignedTo: this.assignedTo,\n      uploadedPhotos: this.existingPhotos,\n      uploadedDocs: this.existingDocs\n    }; // create form data instance\n\n    const formData = new FormData(); // append photos if any\n\n    for (let i = 0; i < this.uploadedPhotos.length; i++) {\n      formData.append(\"uploadedPhotos\", this.uploadedPhotos[i]);\n    } // append docs if any\n\n\n    for (let j = 0; j < this.uploadedDocs.length; j++) {\n      formData.append(\"uploadedDocs\", this.uploadedDocs[j]);\n    } // append other fields\n\n\n    formData.append(\"data\", JSON.stringify(data));\n    this.apiService.putData(`issues/${this.issueID}`, formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            // this.throwErrors();\n            this.submitDisabled = false;\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.response = res;\n        this.submitDisabled = false;\n        this.modalServiceOwn.triggerRedirect.next(true);\n        this.takeUntil$.next();\n        this.takeUntil$.complete();\n        this.isSubmitted = true;\n        this.toaster.success(\"Issue Updated Successfully\"); //this.router.navigateByUrl(\"/fleet/maintenance/issues/list\");\n\n        this.router.navigateByUrl('/fleet/maintenance/issues/list/${this.routerMgmtService.maintainanceUpdated()}');\n      }\n    });\n  } // delete uploaded images and documents\n\n\n  delete(type, name) {\n    this.apiService.deleteData(`issues/uploadDelete/${this.issueID}/${type}/${name}`).subscribe(result => {\n      this.fetchIssueByID();\n      let alertmsg = \"\";\n\n      if (type === \"doc\") {\n        alertmsg = \"Document\";\n      } else {\n        alertmsg = \"Image\";\n      }\n\n      this.toaster.success(alertmsg + \" Deleted Successfully\");\n    });\n  }\n  /*\r\n   * If We CliCk Clone Button Then It Fetch Issue details\r\n   */\n  // let clone = false;\n\n\n  cloneIssue(id) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      _this5.apiService.getData(\"issues/\" + id).subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (result) {\n          result = result[0];\n          _this5.clone = true;\n          _this5.issueID = _this5.issueID;\n          _this5.issueName = result.issueName;\n          _this5.unitID = result.unitID;\n          _this5.fetchedUnitID = result.unitID;\n          _this5.fetchedUnitType = result.unitType;\n          _this5.unitType = result.unitType;\n          _this5.currentStatus = 'OPEN';\n          _this5.reportedDate = result.reportedDate;\n          _this5.description = result.description;\n          _this5.odometer = result.odometer;\n          _this5.reportedBy = result.reportedBy;\n          _this5.assignedTo = result.assignedTo;\n          _this5.existingPhotos = result.uploadedPhotos;\n          _this5.existingDocs = result.uploadedDocs;\n\n          if (result.uploadedPhotos !== undefined && result.uploadedPhotos.length > 0) {\n            _this5.issueImages = result.uploadedPics;\n          }\n\n          if (result.uploadedDocs !== undefined && result.uploadedDocs.length > 0) {\n            _this5.issueDocs = result.uploadDocument;\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n}\n\nAddIssueComponent.ɵfac = function AddIssueComponent_Factory(t) {\n  return new (t || AddIssueComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.Location), i0.ɵɵdirectiveInject(i6.DomSanitizer), i0.ɵɵdirectiveInject(i7.NgbCalendar), i0.ɵɵdirectiveInject(i7.NgbModal), i0.ɵɵdirectiveInject(i8.ModalService), i0.ɵɵdirectiveInject(i7.NgbDateAdapter), i0.ɵɵdirectiveInject(i9.RouteManagementServiceService));\n};\n\nAddIssueComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddIssueComponent,\n  selectors: [[\"app-add-issue\"]],\n  viewQuery: function AddIssueComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.issueF = _t.first);\n    }\n  },\n  decls: 140,\n  vars: 31,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-1\", \"pr-0\", \"pt-0\"], [1, \"page-header\", \"pr8\", \"pl11\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"text-4\", \"font-weight-bold\", \"mt-0\", \"mb-0\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\"], [1, \"btn\", \"btn-default\", \"btn-sm\", 3, \"routerLink\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [\"id\", \"issueForm\", \"method\", \"get\", \"name\", \"issueForm\", 1, \"form-horizontal\", \"form-bordered\"], [\"issueF\", \"ngForm\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"row\"], [1, \"col-lg-2\", \"pt-1\"], [1, \"control-label\", \"font-weight-bold\", \"text-lg-right\"], [1, \"col-lg-6\"], [\"data-toggle\", \"buttons\", 1, \"btn-group-toggle\"], [1, \"btn\", \"btn-outline\", \"btn-fleet\", \"mr-2\", 2, \"width\", \"110px\", 3, \"click\"], [\"type\", \"radio\", \"name\", \"unitType\", \"checked\", \"\", \"hidden\", \"\", \"value\", \"vehicle\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"name\", \"unitType\", \"hidden\", \"\", \"value\", \"asset\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-5\", \"mb-3\"], [1, \"row\", \"pt-2\"], [\"class\", \"col-lg-10\", 4, \"ngIf\"], [1, \"col-lg-10\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"type\", \"text\", \"id\", \"issueName\", \"name\", \"issueName\", \"placeholder\", \"eg. brake issue\", \"required\", \"\", \"pattern\", \"^[a-zA-Z0-9\\\\s]{1,120}$\", \"maxlength\", \"120\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"iName\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"placeholder\", \"yyyy-mm-dd\", \"name\", \"reportedDate\", \"ngbDatepicker\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"keydown\", \"click\"], [\"d\", \"ngbDatepicker\", \"dateReport\", \"ngModel\"], [\"name\", \"description\", \"rows\", \"3\", \"placeholder\", \"Enter description of the issue\", 1, \"form-control\", \"h-auto\", \"heighta\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-5\", \"offset-lg-1\", \"mb-3\"], [\"class\", \"row pt-3\", 4, \"ngIf\"], [\"name\", \"reportedBy\", \"placeholder\", \"Select Contact\", \"required\", \"\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\"], [\"rName\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"assignedTo\", \"placeholder\", \"Select the contact to assign the issue\", \"required\", \"\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\"], [\"aIssue\", \"ngModel\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\"], [1, \"btn\", \"btn-default\", \"btn-file\", \"btn-xs\", \"w100\", \"text-left\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"uploadedPhotos\", 1, \"w100\", 3, \"change\"], [1, \"col-lg-2\", \"mar-top-37\"], [\"class\", \"row mt-2\", 4, \"ngIf\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"uploadedDocs\", 1, \"w100\", 3, \"change\"], [1, \"form-group\", \"row\", \"adddriverpl\"], [1, \"col-lg-11\", \"text-right\", \"pb-3\"], [1, \"col-12\"], [1, \"col-11\", \"pr-0\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", \"btnPrevious\", \"mr-2\", 3, \"click\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"viewDocModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"viewDocModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"viewDocModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-12\"], [\"title\", \"\", \"width\", \"100%\", \"height\", \"400px\", 3, \"src\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-default\", 3, \"click\"], [\"placeholder\", \"Select Vehicle\", \"name\", \"unitID\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"vSlt\", \"ngModel\"], [3, \"value\"], [1, \"text-danger\"], [4, \"ngIf\"], [\"placeholder\", \"Select Asset\", \"name\", \"unitID\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"aSlt\", \"ngModel\"], [1, \"row\", \"pt-3\"], [\"name\", \"odometer\", \"type\", \"text\", \"placeholder\", \"Enter odometer miles at which issue is reported. eg. 10000\", \"required\", \"\", \"pattern\", \"^[0-9]+$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"odoMiles\", \"ngModel\"], [1, \"row\", \"mt-2\"], [\"class\", \"col-lg-5\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-5\"], [1, \"vehicle-photo-box\"], [\"width\", \"100%\", 1, \"img-fluid\", 2, \"height\", \"180px\", \"object-fit\", \"cover\", 3, \"src\"], [1, \"m-3\"], [1, \"col-lg-8\"], [1, \"col-lg-4\", \"text-right\"], [1, \"fas\", \"fa-times\", \"text-danger\", 3, \"click\"], [1, \"vehicle-common-box\", \"p-3\"], [1, \"control-label\", \"font-weight-bold\", \"text-3\"], [1, \"col-lg-6\", \"text-right\"], [1, \"solid\", \"mt-2\"], [\"class\", \"row mb-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mb-1\"], [1, \"col-lg-9\"], [\"target\", \"_blank\", 3, \"href\"], [1, \"col-lg-3\", \"text-right\"], [\"data-toggle\", \"modal\", \"data-target\", \"#viewDocModal\", 1, \"far\", \"fa-file\", \"text-dak\", \"mr-1\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"text-danger\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"]],\n  template: function AddIssueComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r67 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" Issues List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"form\", 11, 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 14);\n      i0.ɵɵelementStart(20, \"div\", 17);\n      i0.ɵɵelementStart(21, \"div\", 18);\n      i0.ɵɵelementStart(22, \"label\", 19);\n      i0.ɵɵtext(23, \"Unit Type:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 20);\n      i0.ɵɵelementStart(25, \"div\", 21);\n      i0.ɵɵelementStart(26, \"label\", 22);\n      i0.ɵɵlistener(\"click\", function AddIssueComponent_Template_label_click_26_listener() {\n        return ctx.onChangeUnitType(\"vehicle\");\n      });\n      i0.ɵɵelementStart(27, \"input\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.unitType = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(28, \" Vehicle \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"label\", 22);\n      i0.ɵɵlistener(\"click\", function AddIssueComponent_Template_label_click_29_listener() {\n        return ctx.onChangeUnitType(\"asset\");\n      });\n      i0.ɵɵelementStart(30, \"input\", 24);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.unitType = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \" Asset \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 25);\n      i0.ɵɵelementStart(33, \"div\", 26);\n      i0.ɵɵtemplate(34, AddIssueComponent_div_34_Template, 10, 3, \"div\", 27);\n      i0.ɵɵtemplate(35, AddIssueComponent_div_35_Template, 10, 3, \"div\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 26);\n      i0.ɵɵelementStart(37, \"div\", 28);\n      i0.ɵɵelementStart(38, \"label\", 29);\n      i0.ɵɵtext(39, \"Issue Name\");\n      i0.ɵɵelementStart(40, \"span\", 30);\n      i0.ɵɵelementStart(41, \"sup\");\n      i0.ɵɵtext(42, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"input\", 31, 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_input_ngModelChange_43_listener($event) {\n        return ctx.issueName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(45, AddIssueComponent_div_45_Template, 3, 2, \"div\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 26);\n      i0.ɵɵelementStart(47, \"div\", 28);\n      i0.ɵɵelementStart(48, \"label\", 29);\n      i0.ɵɵtext(49, \"Reported Date\");\n      i0.ɵɵelementStart(50, \"span\", 30);\n      i0.ɵɵelementStart(51, \"sup\");\n      i0.ɵɵtext(52, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"input\", 34, 35);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_input_ngModelChange_53_listener($event) {\n        return ctx.reportedDate = $event;\n      })(\"keydown\", function AddIssueComponent_Template_input_keydown_53_listener($event) {\n        return $event.preventDefault();\n      })(\"click\", function AddIssueComponent_Template_input_click_53_listener() {\n        i0.ɵɵrestoreView(_r67);\n\n        const _r5 = i0.ɵɵreference(54);\n\n        return _r5.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(56, AddIssueComponent_div_56_Template, 2, 1, \"div\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 26);\n      i0.ɵɵelementStart(58, \"div\", 28);\n      i0.ɵɵelementStart(59, \"label\", 29);\n      i0.ɵɵtext(60, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"textarea\", 36);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_textarea_ngModelChange_61_listener($event) {\n        return ctx.description = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"div\", 37);\n      i0.ɵɵtemplate(63, AddIssueComponent_div_63_Template, 10, 2, \"div\", 38);\n      i0.ɵɵelementStart(64, \"div\", 26);\n      i0.ɵɵelementStart(65, \"div\", 28);\n      i0.ɵɵelementStart(66, \"label\", 29);\n      i0.ɵɵtext(67, \"Reported By\");\n      i0.ɵɵelementStart(68, \"span\", 30);\n      i0.ɵɵelementStart(69, \"sup\");\n      i0.ɵɵtext(70, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"ng-select\", 39, 40);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_ng_select_ngModelChange_71_listener($event) {\n        return ctx.reportedBy = $event;\n      });\n      i0.ɵɵtemplate(73, AddIssueComponent_ng_option_73_Template, 2, 3, \"ng-option\", 41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(74, AddIssueComponent_div_74_Template, 2, 1, \"div\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"div\", 26);\n      i0.ɵɵelementStart(76, \"div\", 28);\n      i0.ɵɵelementStart(77, \"label\", 29);\n      i0.ɵɵtext(78, \"Assigned To\");\n      i0.ɵɵelementStart(79, \"span\", 30);\n      i0.ɵɵelementStart(80, \"sup\");\n      i0.ɵɵtext(81, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"ng-select\", 42, 43);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIssueComponent_Template_ng_select_ngModelChange_82_listener($event) {\n        return ctx.assignedTo = $event;\n      });\n      i0.ɵɵtemplate(84, AddIssueComponent_ng_option_84_Template, 2, 3, \"ng-option\", 41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(85, AddIssueComponent_div_85_Template, 2, 1, \"div\", 33);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"div\", 13);\n      i0.ɵɵelementStart(87, \"div\", 14);\n      i0.ɵɵelementStart(88, \"div\", 15);\n      i0.ɵɵelementStart(89, \"div\", 16);\n      i0.ɵɵelementStart(90, \"div\", 14);\n      i0.ɵɵelementStart(91, \"label\", 44);\n      i0.ɵɵtext(92, \"Additional Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"div\", 25);\n      i0.ɵɵelementStart(94, \"div\", 17);\n      i0.ɵɵelementStart(95, \"div\", 28);\n      i0.ɵɵelementStart(96, \"label\", 45);\n      i0.ɵɵtext(97, \"Attach Photo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"span\", 46);\n      i0.ɵɵelementStart(99, \"input\", 47);\n      i0.ɵɵlistener(\"change\", function AddIssueComponent_Template_input_change_99_listener($event) {\n        return ctx.selectDocuments($event, \"uploadedPhotos\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(100, \"div\", 48);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(101, AddIssueComponent_div_101_Template, 2, 1, \"div\", 49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"div\", 37);\n      i0.ɵɵelementStart(103, \"div\", 17);\n      i0.ɵɵelementStart(104, \"div\", 28);\n      i0.ɵɵelementStart(105, \"label\", 45);\n      i0.ɵɵtext(106, \"Attach Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(107, \"span\", 46);\n      i0.ɵɵelementStart(108, \"input\", 50);\n      i0.ɵɵlistener(\"change\", function AddIssueComponent_Template_input_change_108_listener($event) {\n        return ctx.selectDocuments($event, \"uploadedDocs\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(109, \"div\", 48);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(110, AddIssueComponent_div_110_Template, 10, 1, \"div\", 49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(111, \"div\", 51);\n      i0.ɵɵelementStart(112, \"div\", 52);\n      i0.ɵɵelementStart(113, \"div\", 17);\n      i0.ɵɵelementStart(114, \"div\", 53);\n      i0.ɵɵelementStart(115, \"div\", 17);\n      i0.ɵɵelementStart(116, \"div\", 54);\n      i0.ɵɵelementStart(117, \"a\", 55);\n      i0.ɵɵlistener(\"click\", function AddIssueComponent_Template_a_click_117_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(118, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(119, AddIssueComponent_button_119_Template, 2, 1, \"button\", 56);\n      i0.ɵɵtemplate(120, AddIssueComponent_button_120_Template, 2, 1, \"button\", 56);\n      i0.ɵɵtemplate(121, AddIssueComponent_button_121_Template, 2, 1, \"button\", 56);\n      i0.ɵɵtemplate(122, AddIssueComponent_button_122_Template, 2, 1, \"button\", 56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"div\", 57);\n      i0.ɵɵelementStart(124, \"div\", 58);\n      i0.ɵɵelementStart(125, \"div\", 59);\n      i0.ɵɵelementStart(126, \"div\", 60);\n      i0.ɵɵelementStart(127, \"h5\", 61);\n      i0.ɵɵtext(128, \"View Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(129, \"button\", 62);\n      i0.ɵɵlistener(\"click\", function AddIssueComponent_Template_button_click_129_listener() {\n        return ctx.setSrcValue();\n      });\n      i0.ɵɵelementStart(130, \"span\", 63);\n      i0.ɵɵtext(131, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(132, \"div\", 64);\n      i0.ɵɵelementStart(133, \"div\", 65);\n      i0.ɵɵelementStart(134, \"div\", 66);\n      i0.ɵɵelementStart(135, \"div\");\n      i0.ɵɵelement(136, \"iframe\", 67);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(137, \"div\", 68);\n      i0.ɵɵelementStart(138, \"button\", 69);\n      i0.ɵɵlistener(\"click\", function AddIssueComponent_Template_button_click_138_listener() {\n        return ctx.setSrcValue();\n      });\n      i0.ɵɵtext(139, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(14);\n\n      const _r3 = i0.ɵɵreference(44);\n\n      const _r6 = i0.ɵɵreference(55);\n\n      const _r9 = i0.ɵɵreference(72);\n\n      const _r12 = i0.ɵɵreference(83);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.title, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/fleet/maintenance/issues/list/\", ctx.sessionID, \"\");\n      i0.ɵɵadvance(17);\n      i0.ɵɵclassProp(\"active\", ctx.unitType === \"vehicle\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.unitType);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"active\", ctx.unitType === \"asset\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.unitType);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.unitType === \"vehicle\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.unitType === \"asset\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.issueName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.reportedDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r6.invalid && (_r6.dirty || _r6.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.unitType === \"vehicle\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.reportedBy);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r9.invalid && (_r9.dirty || _r9.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.assignedTo);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r12.invalid && (_r12.dirty || _r12.touched));\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ctx.issueImages == null ? null : ctx.issueImages.length);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.issueDocs == null ? null : ctx.issueDocs.length);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", !ctx.issueID && !_r0.form.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.issueID && _r0.form.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.issueID && !_r0.form.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.issueID && _r0.form.valid);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"src\", ctx.pdfSrc, i0.ɵɵsanitizeResourceUrl);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.NgForm, i10.RadioControlValueAccessor, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgModel, i5.NgIf, i10.RequiredValidator, i10.PatternValidator, i10.MaxLengthValidator, i7.NgbInputDatepicker, i11.NgSelectComponent, i5.NgForOf, i11.ɵr],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}