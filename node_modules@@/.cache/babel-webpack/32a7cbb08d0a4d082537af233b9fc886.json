{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { from } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/services\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@ng-select/ng-select\";\n\nfunction AddPurchaseOrderComponent_ng_option_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 64);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r16 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r16.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", data_r16.companyName, \" \");\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_40_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Vendor is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_div_40_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(38);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.required);\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_75_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_div_75_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r7 = i0.ɵɵreference(70);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors.required);\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Quantity is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid number \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_tr_111_div_8_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵtemplate(2, AddPurchaseOrderComponent_tr_111_div_8_div_2_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r21 = i0.ɵɵreference(7);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r21.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r21.errors.pattern);\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Quantity type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_tr_111_div_12_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r23 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r23.errors.required);\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Rate is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid amount \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_tr_111_div_18_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵtemplate(2, AddPurchaseOrderComponent_tr_111_div_18_div_2_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r25 = i0.ɵɵreference(17);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r25.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r25.errors.pattern);\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Rate type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65);\n    i0.ɵɵtemplate(1, AddPurchaseOrderComponent_tr_111_div_25_div_1_Template, 2, 0, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r27 = i0.ɵɵreference(24);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r27.errors.required);\n  }\n}\n\nfunction AddPurchaseOrderComponent_tr_111_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 67);\n    i0.ɵɵelementStart(2, \"input\", 68);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.comm = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 67);\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelementStart(5, \"div\", 69);\n    i0.ɵɵelementStart(6, \"input\", 70, 71);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.qty = $event;\n    })(\"input\", function AddPurchaseOrderComponent_tr_111_Template_input_input_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const idt_r20 = restoredCtx.index;\n      const ctx_r38 = i0.ɵɵnextContext();\n      return ctx_r38.calcDetailAmount(idt_r20);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AddPurchaseOrderComponent_tr_111_div_8_Template, 3, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 72);\n    i0.ɵɵelementStart(10, \"input\", 73, 74);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.qtyTyp = $event;\n    })(\"input\", function AddPurchaseOrderComponent_tr_111_Template_input_input_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const idt_r20 = restoredCtx.index;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return ctx_r40.setQuanType($event, idt_r20);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AddPurchaseOrderComponent_tr_111_div_12_Template, 2, 1, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 67);\n    i0.ɵɵelementStart(14, \"div\", 4);\n    i0.ɵɵelementStart(15, \"div\", 75);\n    i0.ɵɵelementStart(16, \"input\", 76, 77);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_16_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.rate = $event;\n    })(\"input\", function AddPurchaseOrderComponent_tr_111_Template_input_input_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const idt_r20 = restoredCtx.index;\n      const ctx_r42 = i0.ɵɵnextContext();\n      return ctx_r42.calcDetailAmount(idt_r20);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddPurchaseOrderComponent_tr_111_div_18_Template, 3, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 78);\n    i0.ɵɵelementStart(20, \"label\");\n    i0.ɵɵtext(21, \"per\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 72);\n    i0.ɵɵelementStart(23, \"input\", 73, 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_23_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.rateTyp = $event;\n    })(\"input\", function AddPurchaseOrderComponent_tr_111_Template_input_input_23_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const idt_r20 = restoredCtx.index;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.setQuanType($event, idt_r20);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, AddPurchaseOrderComponent_tr_111_div_25_Template, 2, 1, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 67);\n    i0.ɵɵelementStart(27, \"input\", 80);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_tr_111_Template_input_ngModelChange_27_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const detail_r19 = restoredCtx.$implicit;\n      return detail_r19.amount = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\", 67);\n    i0.ɵɵelementStart(29, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_tr_111_Template_a_click_29_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const idt_r20 = restoredCtx.index;\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.delDetail(idt_r20);\n    });\n    i0.ɵɵelement(30, \"i\", 82);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const detail_r19 = ctx.$implicit;\n    const idt_r20 = ctx.index;\n\n    const _r21 = i0.ɵɵreference(7);\n\n    const _r23 = i0.ɵɵreference(11);\n\n    const _r25 = i0.ɵɵreference(17);\n\n    const _r27 = i0.ɵɵreference(24);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"comm\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.comm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qty\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r21.invalid && (_r21.dirty || _r21.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qtyTyp\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.qtyTyp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r23.invalid && (_r23.dirty || _r23.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rate\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.rate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r25.invalid && (_r25.dirty || _r25.touched));\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rateTyp\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.rateTyp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r27.invalid && (_r27.dirty || _r27.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"amount\", idt_r20, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r19.amount);\n  }\n}\n\nfunction AddPurchaseOrderComponent_span_138_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 65);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.filesError, \" \");\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_139_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 85);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"No document found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_139_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"a\", 86);\n    i0.ɵɵelement(7, \"img\", 87);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 88);\n    i0.ɵɵelementStart(9, \"a\", 89);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_div_139_tr_13_Template_a_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const doc_r49 = restoredCtx.$implicit;\n      const d_r50 = restoredCtx.index;\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return ctx_r51.deleteDocument(doc_r49.displayName, d_r50);\n    });\n    i0.ɵɵelement(10, \"em\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const doc_r49 = ctx.$implicit;\n    const d_r50 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r50 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(doc_r49.displayName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", doc_r49.docPath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", doc_r49.imgPath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction AddPurchaseOrderComponent_div_139_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 83);\n    i0.ɵɵelementStart(1, \"table\", 84);\n    i0.ɵɵelementStart(2, \"thead\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Sr.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Icon/Thumbnail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, AddPurchaseOrderComponent_div_139_tr_12_Template, 4, 0, \"tr\", 66);\n    i0.ɵɵtemplate(13, AddPurchaseOrderComponent_div_139_tr_13_Template, 11, 4, \"tr\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.oldDocs.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.oldDocs);\n  }\n}\n\nfunction AddPurchaseOrderComponent_button_144_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 91);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_button_144_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return ctx_r53.checkEmailStat(\"no\");\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r12.submitDisabled);\n  }\n}\n\nfunction AddPurchaseOrderComponent_button_145_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 91);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_button_145_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return ctx_r55.cloneOrder(\"no\");\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r13.submitDisabled);\n  }\n}\n\nfunction AddPurchaseOrderComponent_button_146_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 91);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_button_146_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r58);\n      const ctx_r57 = i0.ɵɵnextContext();\n      return ctx_r57.updateRecord();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r14.submitDisabled);\n  }\n}\n\nfunction AddPurchaseOrderComponent_button_147_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_button_147_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext();\n      return ctx_r59.checkEmailStat(\"yes\");\n    });\n    i0.ɵɵtext(1, \" Save & Send \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r15.submitDisabled);\n  }\n}\n\nexport class AddPurchaseOrderComponent {\n  constructor(httpClient, listService, accountService, toaster, location, route, apiService) {\n    this.httpClient = httpClient;\n    this.listService = listService;\n    this.accountService = accountService;\n    this.toaster = toaster;\n    this.location = location;\n    this.route = route;\n    this.apiService = apiService;\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.pageTitle = \"Add\";\n    this.orderData = {\n      txnDate: null,\n      refNo: \"\",\n      currency: \"CAD\",\n      poType: \"product\",\n      vendorID: null,\n      detail: [{\n        comm: \"\",\n        qty: 0,\n        qtyTyp: null,\n        rate: 0,\n        rateTyp: null,\n        amount: 0,\n        rowID: uuidv4(),\n        status: \"pending\"\n      }],\n      total: {\n        finalTotal: 0\n      },\n      remarks: \"\",\n      status: \"draft\",\n      billStatus: \"\"\n    };\n    this.quantityTypes = [];\n    this.vendors = [];\n    this.submitDisabled = false;\n    this.errors = {};\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = \"\";\n    this.Success = \"\";\n    this.docs = [];\n    this.oldDocs = [];\n    this.removedDocs = [];\n    this.filesError = '';\n  }\n\n  ngOnInit() {\n    this.purchaseID = this.route.snapshot.params[\"purchaseID\"];\n\n    if (this.purchaseID) {\n      this.pageTitle = \"Edit\";\n      this.fetchDetails();\n    }\n\n    this.route.queryParams.subscribe(params => {\n      this.cloneID = params.cloneID;\n\n      if (this.cloneID != undefined && this.cloneID != \"\") {\n        this.pageTitle = \"Clone\";\n        this.purchaseID = this.cloneID;\n        this.fetchDetails();\n      }\n    });\n    this.listService.fetchVendors();\n    this.fetchQuantityTypes();\n    let vendorList = new Array();\n    this.getValidVendors(vendorList);\n    this.vendors = vendorList;\n    $(\".modal\").on(\"hidden.bs.modal\", e => {\n      localStorage.setItem(\"isOpen\", \"false\");\n    });\n  }\n\n  getValidVendors(vendorList) {\n    let ids = [];\n    this.listService.vendorList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          vendorList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  fetchQuantityTypes() {\n    this.httpClient.get(\"assets/jsonFiles/quantityTypes.json\").subscribe(data => {\n      this.quantityTypes = data;\n    });\n  }\n\n  addDetail() {\n    let obj = {\n      comm: \"\",\n      qty: 0,\n      qtyTyp: null,\n      rate: 0,\n      rateTyp: null,\n      amount: 0,\n      rowID: uuidv4(),\n      status: \"pending\"\n    };\n    const lastAdded = this.orderData.detail[this.orderData.detail.length - 1];\n\n    if (lastAdded.comm !== \"\" && lastAdded.qty !== \"\" && lastAdded.qtyTyp !== \"\" && lastAdded.rate !== \"\" && lastAdded.rateTyp !== \"\" && lastAdded.amount !== 0) {\n      this.orderData.detail.push(obj);\n    }\n  }\n\n  delDetail(index) {\n    if (this.orderData.detail.length > 1) {\n      this.orderData.detail.splice(index, 1);\n    }\n  }\n\n  checkEmailStat(type) {\n    if (this.cloneID) {\n      delete this.orderData['orderNo'];\n      delete this.orderData['purchaseID'];\n      delete this.orderData['paymentLinked'];\n    }\n\n    if (type === \"yes\") {\n      this.orderData[\"sendEmail\"] = true;\n    } else {\n      this.orderData[\"sendEmail\"] = false;\n    }\n\n    this.addRecord();\n  }\n\n  addRecord() {\n    for (let i = 0; i < this.orderData.detail.length; i++) {\n      const element = this.orderData.detail[i];\n\n      if (element.comm === \"\" || element.qty === 0 || element.qtyTyp === null || element.rate === 0 || element.rateTyp === null || element.amount <= 0) {\n        this.toaster.error(\"Please enter valid bill details\");\n        return false;\n      }\n    }\n\n    if (this.orderData.total.finalTotal <= 0) {\n      this.toaster.error(\"Amount should be greater than 0\");\n      return false;\n    }\n\n    this.submitDisabled = true; // create form data instance\n\n    const formData = new FormData(); //append docs if any\n\n    for (let j = 0; j < this.docs.length; j++) {\n      formData.append(\"docs\", this.docs[j]);\n    } //append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.orderData));\n    this.accountService.postData(\"purchase-orders\", formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Purchase order added successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  cancel() {\n    this.location.back();\n  }\n\n  calcDetailAmount(i) {\n    let total = 0;\n    let amount = (this.orderData.detail[i].qty ? this.orderData.detail[i].qty : 0) * (this.orderData.detail[i].rate ? this.orderData.detail[i].rate : 0);\n    this.orderData.detail[i].amount = parseFloat(amount.toFixed(2));\n    this.orderData.detail.forEach(element => {\n      total += element.amount;\n    });\n    this.orderData.total.finalTotal = parseFloat(total);\n  }\n\n  setQuanType(event, index) {\n    this.orderData.detail[index].qtyTyp = event.target.value;\n    this.orderData.detail[index].rateTyp = event.target.value;\n  }\n\n  deleteDocument(name, index) {\n    this.oldDocs.filter(elem => {\n      if (elem.displayName === name) {\n        let obj = {\n          storedName: elem.name,\n          displayName: elem.displayName\n        };\n        this.removedDocs.push(obj);\n        ;\n      }\n    });\n    this.oldDocs.splice(index, 1);\n  }\n\n  fetchDetails() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let res = yield _this.accountService.getData(`purchase-orders/details/${_this.purchaseID}`).toPromise();\n      _this.orderData = res[0];\n\n      if (res[0].docs.length > 0) {\n        res[0].docs.forEach(x => {\n          let obj = {};\n\n          if (x.storedName.split(\".\")[1] === \"jpg\" || x.storedName.split(\".\")[1] === \"png\" || x.storedName.split(\".\")[1] === \"jpeg\") {\n            obj = {\n              imgPath: `${x.urlPath}`,\n              docPath: `${x.urlPath}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n          } else {\n            obj = {\n              imgPath: \"assets/img/icon-pdf.png\",\n              docPath: `${x.urlPath}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n          }\n\n          _this.oldDocs.push(obj);\n        });\n      }\n    })();\n  }\n\n  updateRecord() {\n    for (let i = 0; i < this.orderData.detail.length; i++) {\n      const element = this.orderData.detail[i];\n\n      if (element.comm === \"\" || element.qty === 0 || element.qtyTyp === null || element.rate === 0 || element.rateTyp === null || element.amount <= 0) {\n        this.toaster.error(\"Please enter valid bill details\");\n        return false;\n      }\n    }\n\n    if (this.orderData.total.finalTotal <= 0) {\n      this.toaster.error(\"Amount should be greater than 0\");\n      return false;\n    }\n\n    this.orderData[\"sendEmail\"] = false;\n    this.orderData['removedDocs'] = this.removedDocs;\n    this.submitDisabled = true; // create form data instance\n\n    const formData = new FormData(); //append docs if any\n\n    for (let j = 0; j < this.docs.length; j++) {\n      formData.append(\"docs\", this.docs[j]);\n    } //append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.orderData));\n    this.accountService.putData(`purchase-orders/update/${this.purchaseID}`, formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Purchase order updated successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  openModal(unit) {\n    this.listService.triggerModal(unit);\n    localStorage.setItem(\"isOpen\", \"true\");\n    this.listService.changeButton(false);\n  }\n\n  cloneOrder(type) {\n    if (type === \"yes\") {\n      this.orderData[\"sendEmail\"] = true;\n    } else {\n      this.orderData[\"sendEmail\"] = false;\n    }\n\n    delete this.orderData['orderNo'];\n    delete this.orderData['purchaseID'];\n    delete this.orderData['paymentLinked'];\n    this.addRecord();\n  }\n\n  uploadDocs(documents) {\n    let files = [...documents];\n    let filesSize = 0;\n\n    if (files.length > 5) {\n      this.toaster.error(\"Files count limit exceeded\");\n      this.filesError = \"Files should not be more than 5\";\n      return;\n    }\n\n    for (let i = 0; i < files.length; i++) {\n      this.filesError = '';\n      filesSize += files[i].size / 1024 / 1024;\n\n      if (filesSize > 10) {\n        this.toaster.error(\"Files size limit exceeded\");\n        this.filesError = 'Files size limit exceeded. Files size should be less than 10mb';\n        return;\n      } else {\n        let name = files[i].name.split(\".\");\n        let ext = name[name.length - 1].toLowerCase();\n\n        if (ext == \"doc\" || ext == \"docx\" || ext == \"pdf\" || ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\") {\n          this.docs.push(files[i]);\n        } else {\n          this.filesError = \"Only .doc, .docx, .pdf, .jpg, .jpeg and png files allowed.\";\n        }\n      }\n    }\n  }\n\n}\n\nAddPurchaseOrderComponent.ɵfac = function AddPurchaseOrderComponent_Factory(t) {\n  return new (t || AddPurchaseOrderComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ListService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.Location), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService));\n};\n\nAddPurchaseOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddPurchaseOrderComponent,\n  selectors: [[\"app-add-purchase-order\"]],\n  decls: 148,\n  vars: 27,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\"], [1, \"row\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"text-4\", \"mb-0\", \"font-weight-bold\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-3\"], [\"routerLink\", \"/accounts/purchases/orders/list\", 1, \"btn\", \"mt-2\", \"btn-default\", \"btn-sm\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [\"method\", \"get\", 1, \"form-horizontal\", \"form-bordered\"], [\"purchaseForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"col-lg-6\", \"mb-3\"], [1, \"col-lg-10\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"name\", \"txnDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", \"required\", \"\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"custexp\", \"ngbDatepicker\", \"jDate\", \"ngModel\"], [1, \"row\", \"pt-2\"], [\"name\", \"vendorID\", \"placeholder\", \"Select Vendor\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"vendorID\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"col-lg-2\", \"mar-top-37\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [\"type\", \"text\", \"name\", \"refNo\", \"placeholder\", \"Enter Reference#\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-5\"], [\"name\", \"currency\", \"placeholder\", \"Select currency\", \"required\", \"\", 3, \"ngModel\", \"clearable\", \"ngModelChange\"], [\"curr\", \"ngModel\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [\"name\", \"poType\", \"placeholder\", \"Select type\", \"required\", \"\", 3, \"ngModel\", \"clearable\", \"ngModelChange\"], [\"poType\", \"ngModel\"], [\"value\", \"product\"], [\"value\", \"service\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"col-lg-11\"], [1, \"pt-2\"], [1, \"table\"], [1, \"border\", 2, \"width\", \"250px\"], [1, \"border\", 2, \"width\", \"180px\"], [1, \"border\", 2, \"width\", \"80px\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"3\", 1, \"border-0\", \"pl-0\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [\"colspan\", \"2\", 1, \"border-0\", \"text-right\"], [1, \"font-weight-semibold\", \"mr-1\"], [1, \"col-lg-6\"], [1, \"control-label\", \"font-weight-bold\", \"text-4\", \"text-dark\"], [\"name\", \"remarks\", \"rows\", \"6\", 1, \"form-control\", \"h-auto\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-default\", \"btn-file\", \"btn-xs\", \"w100\", \"text-left\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"files\", 1, \"\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"class\", \"col-10 pl-0 mt-3\", \"style\", \"max-height: 256px; overflow: scroll\", 4, \"ngIf\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"pr-0\", \"text-right\"], [\"type\", \"button\", \"routerLink\", \"/accounts/purchases/orders/list\", 1, \"btn\", \"btn-default\", \"mr-2\"], [\"type\", \"submit\", \"class\", \"btn btn-success mr-2\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"text-danger\"], [4, \"ngIf\"], [1, \"border\"], [\"type\", \"text\", \"placeholder\", \"Enter commodity\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [1, \"col-lg-6\", \"pr-0\", \"mr-2\"], [\"type\", \"text\", \"placeholder\", \"Enter quantity\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"input\"], [\"qtyy\", \"ngModel\"], [1, \"col-lg-5\", \"pl-0\"], [\"type\", \"text\", \"placeholder\", \"e.g. bag\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"input\"], [\"qtyType\", \"ngModel\"], [1, \"col-lg-5\", \"pr-0\", \"mr-2\"], [\"type\", \"text\", \"placeholder\", \"Enter rate\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"input\"], [\"rateQ\", \"ngModel\"], [1, \"col-lg-1\", \"pr-0\", \"pl-0\"], [\"rateType\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter amount\", \"readonly\", \"\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [\"href\", \"javascript:;\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"col-10\", \"pl-0\", \"mt-3\", 2, \"max-height\", \"256px\", \"overflow\", \"scroll\"], [1, \"table\", \"table-bordered\"], [\"colspan\", \"4\"], [\"target\", \"_blank\", 1, \"image-popup-no-margins\", 3, \"href\"], [1, \"img-fluid\", \"img_thumbnail\", 3, \"src\"], [1, \"cursorpoint\", \"text-center\"], [\"href\", \"javascript:;\", 1, \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"text-danger\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mr-2\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"]],\n  template: function AddPurchaseOrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r61 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" All Purchase Orders\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"form\", 11, 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 4);\n      i0.ɵɵelementStart(21, \"div\", 18);\n      i0.ɵɵelementStart(22, \"label\", 19);\n      i0.ɵɵtext(23, \"Purchase Order Date \");\n      i0.ɵɵelementStart(24, \"span\", 20);\n      i0.ɵɵelementStart(25, \"sup\");\n      i0.ɵɵtext(26, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 21, 22);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.orderData.txnDate = $event;\n      })(\"click\", function AddPurchaseOrderComponent_Template_input_click_27_listener() {\n        i0.ɵɵrestoreView(_r61);\n\n        const _r1 = i0.ɵɵreference(28);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 23);\n      i0.ɵɵelementStart(31, \"div\", 18);\n      i0.ɵɵelementStart(32, \"label\", 19);\n      i0.ɵɵtext(33, \"Vendor \");\n      i0.ɵɵelementStart(34, \"span\", 20);\n      i0.ɵɵelementStart(35, \"sup\");\n      i0.ɵɵtext(36, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"ng-select\", 24, 25);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_ng_select_ngModelChange_37_listener($event) {\n        return ctx.orderData.vendorID = $event;\n      });\n      i0.ɵɵtemplate(39, AddPurchaseOrderComponent_ng_option_39_Template, 2, 2, \"ng-option\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, AddPurchaseOrderComponent_div_40_Template, 2, 1, \"div\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 28);\n      i0.ɵɵelementStart(42, \"a\", 29);\n      i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_Template_a_click_42_listener() {\n        return ctx.openModal(\"form\");\n      });\n      i0.ɵɵelement(43, \"i\", 30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 17);\n      i0.ɵɵelementStart(45, \"div\", 4);\n      i0.ɵɵelementStart(46, \"div\", 18);\n      i0.ɵɵelementStart(47, \"label\", 19);\n      i0.ɵɵtext(48, \" Reference# \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"input\", 31);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_input_ngModelChange_49_listener($event) {\n        return ctx.orderData.refNo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 23);\n      i0.ɵɵelementStart(51, \"div\", 32);\n      i0.ɵɵelementStart(52, \"label\", 19);\n      i0.ɵɵtext(53, \"Payment Currency \");\n      i0.ɵɵelementStart(54, \"span\", 20);\n      i0.ɵɵelementStart(55, \"sup\");\n      i0.ɵɵtext(56, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"ng-select\", 33, 34);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_ng_select_ngModelChange_57_listener($event) {\n        return ctx.orderData.currency = $event;\n      });\n      i0.ɵɵelementStart(59, \"ng-option\", 35);\n      i0.ɵɵtext(60, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"ng-option\", 36);\n      i0.ɵɵtext(62, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 32);\n      i0.ɵɵelementStart(64, \"label\", 19);\n      i0.ɵɵtext(65, \" Type \");\n      i0.ɵɵelementStart(66, \"span\", 20);\n      i0.ɵɵelementStart(67, \"sup\");\n      i0.ɵɵtext(68, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"ng-select\", 37, 38);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_ng_select_ngModelChange_69_listener($event) {\n        return ctx.orderData.poType = $event;\n      });\n      i0.ɵɵelementStart(71, \"ng-option\", 39);\n      i0.ɵɵtext(72, \"Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"ng-option\", 40);\n      i0.ɵɵtext(74, \"Service\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(75, AddPurchaseOrderComponent_div_75_Template, 2, 1, \"div\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"div\", 13);\n      i0.ɵɵelementStart(77, \"div\", 14);\n      i0.ɵɵelementStart(78, \"div\", 15);\n      i0.ɵɵelementStart(79, \"div\", 16);\n      i0.ɵɵelementStart(80, \"div\", 18);\n      i0.ɵɵelementStart(81, \"label\", 41);\n      i0.ɵɵtext(82, \"Purchase Order Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"div\", 42);\n      i0.ɵɵelementStart(84, \"div\", 43);\n      i0.ɵɵelementStart(85, \"table\", 44);\n      i0.ɵɵelementStart(86, \"thead\");\n      i0.ɵɵelementStart(87, \"tr\");\n      i0.ɵɵelementStart(88, \"th\", 45);\n      i0.ɵɵtext(89, \" Commodity\");\n      i0.ɵɵelementStart(90, \"span\", 20);\n      i0.ɵɵelementStart(91, \"sup\");\n      i0.ɵɵtext(92, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"th\", 45);\n      i0.ɵɵtext(94, \" Quantity\");\n      i0.ɵɵelementStart(95, \"span\", 20);\n      i0.ɵɵelementStart(96, \"sup\");\n      i0.ɵɵtext(97, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"th\", 45);\n      i0.ɵɵtext(99, \" Rate\");\n      i0.ɵɵelementStart(100, \"span\", 20);\n      i0.ɵɵelementStart(101, \"sup\");\n      i0.ɵɵtext(102, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(103, \"th\", 46);\n      i0.ɵɵtext(104, \" Amount\");\n      i0.ɵɵelementStart(105, \"span\", 20);\n      i0.ɵɵelementStart(106, \"sup\");\n      i0.ɵɵtext(107, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(108, \"th\", 47);\n      i0.ɵɵtext(109, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(110, \"tbody\");\n      i0.ɵɵtemplate(111, AddPurchaseOrderComponent_tr_111_Template, 31, 16, \"tr\", 48);\n      i0.ɵɵelementStart(112, \"tr\");\n      i0.ɵɵelementStart(113, \"td\", 49);\n      i0.ɵɵelementStart(114, \"a\", 50);\n      i0.ɵɵlistener(\"click\", function AddPurchaseOrderComponent_Template_a_click_114_listener() {\n        return ctx.addDetail();\n      });\n      i0.ɵɵelement(115, \"i\", 30);\n      i0.ɵɵtext(116, \" Add Another Line\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"td\", 51);\n      i0.ɵɵelementStart(118, \"span\", 52);\n      i0.ɵɵtext(119);\n      i0.ɵɵpipe(120, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(121, \"div\", 13);\n      i0.ɵɵelementStart(122, \"div\", 14);\n      i0.ɵɵelementStart(123, \"div\", 15);\n      i0.ɵɵelementStart(124, \"div\", 16);\n      i0.ɵɵelementStart(125, \"div\", 53);\n      i0.ɵɵelementStart(126, \"div\", 4);\n      i0.ɵɵelementStart(127, \"div\", 18);\n      i0.ɵɵelementStart(128, \"label\", 54);\n      i0.ɵɵtext(129, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(130, \"textarea\", 55);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPurchaseOrderComponent_Template_textarea_ngModelChange_130_listener($event) {\n        return ctx.orderData.remarks = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(131, \"div\", 53);\n      i0.ɵɵelementStart(132, \"div\", 4);\n      i0.ɵɵelementStart(133, \"div\", 18);\n      i0.ɵɵelementStart(134, \"label\", 19);\n      i0.ɵɵtext(135, \" Attachments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(136, \"span\", 56);\n      i0.ɵɵelementStart(137, \"input\", 57);\n      i0.ɵɵlistener(\"change\", function AddPurchaseOrderComponent_Template_input_change_137_listener($event) {\n        return ctx.uploadDocs($event.target.files);\n      })(\"ngModelChange\", function AddPurchaseOrderComponent_Template_input_ngModelChange_137_listener($event) {\n        return ctx.files = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(138, AddPurchaseOrderComponent_span_138_Template, 2, 1, \"span\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(139, AddPurchaseOrderComponent_div_139_Template, 14, 2, \"div\", 58);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(140, \"div\", 59);\n      i0.ɵɵelementStart(141, \"div\", 60);\n      i0.ɵɵelementStart(142, \"button\", 61);\n      i0.ɵɵtext(143, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(144, AddPurchaseOrderComponent_button_144_Template, 2, 1, \"button\", 62);\n      i0.ɵɵtemplate(145, AddPurchaseOrderComponent_button_145_Template, 2, 1, \"button\", 62);\n      i0.ɵɵtemplate(146, AddPurchaseOrderComponent_button_146_Template, 2, 1, \"button\", 62);\n      i0.ɵɵtemplate(147, AddPurchaseOrderComponent_button_147_Template, 2, 1, \"button\", 63);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r3 = i0.ɵɵreference(38);\n\n      const _r7 = i0.ɵɵreference(70);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" Purchase Order \");\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.txnDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.vendorID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vendors);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.refNo);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.currency)(\"clearable\", false);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.poType)(\"clearable\", false);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r7.invalid && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(36);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orderData.detail);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate2(\" Total: \", ctx.orderData.total.finalTotal ? i0.ɵɵpipeBind2(120, 24, ctx.orderData.total.finalTotal, \"1.2-2\") : 0, \" \", ctx.orderData.currency ? ctx.orderData.currency : \"\", \" \");\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.orderData.remarks);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.files);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.filesError != \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.oldDocs.length > 0);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.purchaseID && !ctx.cloneID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.cloneID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.purchaseID && !ctx.cloneID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.purchaseID || ctx.cloneID);\n    }\n  },\n  directives: [i5.RouterLinkWithHref, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i8.NgSelectComponent, i4.NgForOf, i4.NgIf, i8.ɵr, i5.RouterLink, i6.PatternValidator],\n  pipes: [i4.DecimalPipe],\n  styles: [\".img_thumbnail[_ngcontent-%COMP%] {\\r\\n  width: 90px;\\r\\n  height: 70px;\\r\\n  object-fit: contain;\\r\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module"}