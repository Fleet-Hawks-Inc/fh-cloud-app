{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { map } from 'rxjs/operators';\nimport { from, forkJoin } from 'rxjs';\nimport * as moment from \"moment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"../../../../services/here-map.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ng-select/ng-select\";\n\nfunction MapViewComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelement(1, \"img\", 45);\n    i0.ɵɵelementStart(2, \"div\", 46);\n    i0.ɵɵelementStart(3, \"p\", 47);\n    i0.ɵɵtext(4, \"There are no trips to assign. \");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"a\", 48);\n    i0.ɵɵelement(7, \"i\", 11);\n    i0.ɵɵtext(8, \" Add Trip\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MapViewComponent_li_24_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 60);\n    i0.ɵɵelementStart(1, \"span\", 61);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const customer_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r14.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r14.name, \" \");\n  }\n}\n\nfunction MapViewComponent_li_24_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 62);\n    i0.ɵɵlistener(\"click\", function MapViewComponent_li_24_a_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      const trip_r6 = ctx_r16.$implicit;\n      const i_r7 = ctx_r16.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.showAssignModal(trip_r6.tripID, i_r7);\n    });\n    i0.ɵɵtext(1, \"Assign\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MapViewComponent_li_24_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 63);\n    i0.ɵɵtext(1, \"Assigned\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MapViewComponent_li_24_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 55);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"D/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", trip_r6.deliveryLocation, \"\");\n  }\n}\n\nfunction MapViewComponent_li_24_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 55);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"D/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"- \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MapViewComponent_li_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 49);\n    i0.ɵɵelementStart(1, \"div\", 50);\n    i0.ɵɵelementStart(2, \"h5\", 51);\n    i0.ɵɵtemplate(3, MapViewComponent_li_24_div_3_Template, 4, 2, \"div\", 52);\n    i0.ɵɵtemplate(4, MapViewComponent_li_24_a_4_Template, 2, 0, \"a\", 53);\n    i0.ɵɵtemplate(5, MapViewComponent_li_24_a_5_Template, 2, 0, \"a\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 55);\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8, \"P/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, MapViewComponent_li_24_p_10_Template, 4, 1, \"p\", 56);\n    i0.ɵɵtemplate(11, MapViewComponent_li_24_ng_template_11_Template, 4, 0, \"ng-template\", null, 57, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(13, \"p\", 55);\n    i0.ɵɵelementStart(14, \"b\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"Outsourced\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 58);\n    i0.ɵɵelement(18, \"i\", 59);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r6 = ctx.$implicit;\n\n    const _r12 = i0.ɵɵreference(12);\n\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", trip_r6.customersArr);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", trip_r6.tripStatus == \"confirmed\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", trip_r6.tripStatus != \"confirmed\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", trip_r6.pickupLocation, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", trip_r6.deliveryLocation != \"\")(\"ngIfElse\", _r12);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Trip: #\", trip_r6.tripNo, \", \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", trip_r6.date, \" \", trip_r6.time, \"\");\n  }\n}\n\nfunction MapViewComponent_tr_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 64);\n    i0.ɵɵlistener(\"click\", function MapViewComponent_tr_63_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const vehicle_r19 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.vehicleChange(vehicle_r19, \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"p\", 66);\n    i0.ɵɵelement(4, \"i\", 67);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 68);\n    i0.ɵɵelement(7, \"i\", 69);\n    i0.ɵɵtext(8, \" Kingston, Toronto, ON K7L 5K4 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const vehicle_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"veh_\", vehicle_r19.vehicleID, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", vehicle_r19.vehicleIdentification, \"\");\n  }\n}\n\nfunction MapViewComponent_tr_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 70);\n    i0.ɵɵlistener(\"click\", function MapViewComponent_tr_67_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const asset_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.assetsChange(asset_r22, \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"p\", 71);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 68);\n    i0.ɵɵelement(6, \"i\", 72);\n    i0.ɵɵtext(7, \" Kingston, Toronto, ON K7L 5K4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const asset_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"asset_\", asset_r22.assetID, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", asset_r22.assetIdentification, \"\");\n  }\n}\n\nfunction MapViewComponent_tr_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 73);\n    i0.ɵɵlistener(\"click\", function MapViewComponent_tr_71_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const driver_r25 = restoredCtx.$implicit;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.driverChange(driver_r25, \"driver\", \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 65);\n    i0.ɵɵelementStart(3, \"p\", 71);\n    i0.ɵɵelementStart(4, \"span\", 74);\n    i0.ɵɵtext(5, \"OFF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 68);\n    i0.ɵɵtext(8, \" Crescent Road Vancouver, BC V6T 1Z2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 68);\n    i0.ɵɵelement(10, \"i\", 75);\n    i0.ɵɵelementStart(11, \"span\", 76);\n    i0.ɵɵtext(12, \"Cycle Reset In:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" 2 hrs 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 68);\n    i0.ɵɵelement(15, \"i\", 77);\n    i0.ɵɵelementStart(16, \"span\", 76);\n    i0.ɵɵtext(17, \"HOS:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" 7 hrs 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 68);\n    i0.ɵɵelement(20, \"i\", 78);\n    i0.ɵɵelementStart(21, \"span\", 76);\n    i0.ɵɵtext(22, \"On Duty Hours:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \" 2 hr 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const driver_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"drivr_\", driver_r25.driverID, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", driver_r25.fullName, \"\");\n  }\n}\n\nfunction MapViewComponent_tr_75_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 79);\n    i0.ɵɵlistener(\"click\", function MapViewComponent_tr_75_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const driver_r28 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.driverChange(driver_r28, \"codriver\", \"click\");\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\", 74);\n    i0.ɵɵtext(4, \"OFF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 68);\n    i0.ɵɵelement(6, \"i\", 75);\n    i0.ɵɵelementStart(7, \"span\", 76);\n    i0.ɵɵtext(8, \"Cycle Reset In:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" 2 hrs 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 68);\n    i0.ɵɵelement(11, \"i\", 77);\n    i0.ɵɵelementStart(12, \"span\", 76);\n    i0.ɵɵtext(13, \"HOS:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" 7 hrs 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 68);\n    i0.ɵɵelement(16, \"i\", 78);\n    i0.ɵɵelementStart(17, \"span\", 76);\n    i0.ɵɵtext(18, \"On Duty Hours:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" 2 hr 30 mins\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const driver_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"codrivr_\", driver_r28.driverID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", driver_r28.fullName, \" \");\n  }\n}\n\nexport class MapViewComponent {\n  constructor(apiService, toastr, spinner, hereMap) {\n    this.apiService = apiService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.hereMap = hereMap;\n    this.vehicles = [];\n    this.assets = [];\n    this.drivers = [];\n    this.codrivers = [];\n    this.tempTrips = [];\n    this.trips = [];\n    this.events = [];\n    this.tripData = {\n      tripPlanning: [],\n      tripStatus: '',\n      tripID: '',\n      driverIDs: [],\n      vehicleIDs: [],\n      assetIDs: [],\n      loc: ''\n    };\n    this.response = '';\n    this.tempTextFieldValues = {\n      tripID: '',\n      trailer: []\n    };\n    this.assetDataVehicleID = '';\n    this.assetDataDriverUsername = '';\n    this.assetDataCoDriverUsername = '';\n    this.informationAsset = [];\n    this.OrderIDs = [];\n    this.allCustomers = [];\n    this.tempIndex = '';\n  }\n\n  ngOnInit() {\n    this.mapShow();\n    this.fetchAllTrips();\n    this.fetchTrips(); // this.fetchCustomers();\n\n    this.fetchVehicles();\n    this.fetchAssets();\n    this.fetchDrivers();\n  }\n\n  fetchAllTrips() {\n    let backgroundColor = '';\n    let borderColor = '';\n    this.apiService.getData('trips').subscribe(result => {\n      result.Items.map(i => {\n        if (i.tripStatus == 'confirmed') {\n          backgroundColor = '#005ce6';\n          borderColor = '#005ce6';\n        } else if (i.tripStatus == 'delivered') {\n          backgroundColor = '#29a329';\n          borderColor = '#29a329';\n        } else if (i.tripStatus == 'dispatched') {\n          backgroundColor = '#0099ff';\n          borderColor = '#0099ff';\n        }\n\n        let eventObj = {\n          title: '#' + i.tripNo + '\\n Status: ' + i.tripStatus,\n          date: moment(i.dateCreated, 'YYYY-MM-DD').format('YYYY-MM-DD'),\n          backgroundColor: backgroundColor,\n          borderColor: borderColor\n        };\n        this.events.push(eventObj);\n      });\n    });\n  }\n\n  mapShow() {\n    this.hereMap.mapSetAPI();\n    this.hereMap.mapInit();\n  }\n\n  emptyAssetModalFields() {\n    // empty the values of asset modal and temp_text_fields after adding\n    this.tempTextFieldValues.vehicleName = '';\n    this.tempTextFieldValues.vehicleID = '';\n    this.tempTextFieldValues.trailer = [];\n    this.tempTextFieldValues.driverName = '';\n    this.tempTextFieldValues.driverUsername = '';\n    this.tempTextFieldValues.coDriverName = '';\n    this.tempTextFieldValues.coDriverUsername = '';\n    this.tempTextFieldValues.trailerName = '';\n    this.assetDataVehicleID = '';\n    this.informationAsset = [];\n    this.assetDataDriverUsername = '';\n    this.assetDataCoDriverUsername = '';\n    $(\".vehicleClass\").removeClass('td_border');\n    $(\".assetClass\").removeClass('td_border');\n    $(\".driverClass\").removeClass('td_border');\n    $(\".codriverClass\").removeClass('td_border');\n  }\n\n  fetchVehicles() {\n    this.apiService.getData('vehicles').subscribe(result => {\n      this.vehicles = result.Items;\n    });\n  }\n\n  fetchAssets() {\n    this.apiService.getData('assets').subscribe(result => {\n      this.assets = result.Items;\n    });\n  }\n\n  fetchDrivers() {\n    this.apiService.getData('drivers').subscribe(result => {\n      result.Items.map(i => {\n        i.fullName = i.firstName + ' ' + i.lastName;\n        return i;\n      });\n      this.drivers = result.Items;\n      this.codrivers = result.Items;\n    });\n  }\n\n  fetchCoDriver(driverID) {\n    this.codrivers = this.drivers.filter(function (obj) {\n      if (obj.driverID !== driverID) {\n        return obj;\n      }\n    });\n  }\n\n  vehicleChange($event, type) {\n    if ($event === undefined) {\n      $(\".vehicleClass\").removeClass('td_border');\n      this.tempTextFieldValues.vehicleName = '';\n      this.tempTextFieldValues.vehicleID = '';\n      this.assetDataVehicleID = '';\n    } else {\n      if (type === 'click') {\n        this.assetDataVehicleID = $event.vehicleID;\n      }\n\n      this.tempTextFieldValues.vehicleName = $event.vehicleIdentification;\n      this.tempTextFieldValues.vehicleID = $event.vehicleID;\n      $(\".vehicleClass\").removeClass('td_border');\n      $(\"#veh_\" + $event.vehicleID).addClass('td_border');\n    }\n  }\n\n  driverChange($event, type, eventType) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if ($event === undefined) {\n        if (type === 'driver') {\n          $(\".driverClass\").removeClass('td_border');\n          _this.tempTextFieldValues.driverName = '';\n          _this.tempTextFieldValues.driverUsername = '';\n          _this.assetDataDriverUsername = '';\n          _this.tempTextFieldValues.driverID = '';\n        } else {\n          $(\".codriverClass\").removeClass('td_border');\n          _this.tempTextFieldValues.coDriverName = '';\n          _this.tempTextFieldValues.coDriverUsername = '';\n          _this.assetDataCoDriverUsername = '';\n          _this.tempTextFieldValues.coDriverID = '';\n        }\n      } else {\n        if (type === 'driver') {\n          // alert('here')\n          yield _this.spinner.show();\n          _this.assetDataCoDriverUsername = ''; //reset the codriver selected\n\n          _this.fetchCoDriver($event.driverID);\n\n          _this.tempTextFieldValues.driverName = $event.fullName;\n          _this.tempTextFieldValues.driverUsername = $event.userName;\n          _this.assetDataCoDriverUsername = '';\n          _this.tempTextFieldValues.driverID = $event.driverID;\n\n          if (eventType === 'click') {\n            _this.assetDataDriverUsername = $event.userName;\n          }\n\n          $(\".driverClass\").removeClass('td_border');\n          $(\"#drivr_\" + $event.driverID).addClass('td_border');\n          yield _this.spinner.hide();\n        } else if (type === 'codriver') {\n          _this.tempTextFieldValues.coDriverName = $event.fullName;\n          _this.tempTextFieldValues.coDriverUsername = $event.userName;\n          _this.tempTextFieldValues.coDriverID = $event.driverID;\n\n          if (eventType === 'click') {\n            _this.assetDataCoDriverUsername = $event.userName;\n          }\n\n          $(\".codriverClass\").removeClass('td_border');\n          $(\"#codrivr_\" + $event.driverID).addClass('td_border');\n        }\n      }\n    })();\n  }\n\n  assetsChange($event, type) {\n    if ($event === undefined) {\n      $(\".assetClass\").removeClass('td_border');\n    } else {\n      if (type === 'change') {\n        this.tempTextFieldValues.trailer = [];\n        $(\".assetClass\").removeClass('td_border');\n        let arayy = [];\n\n        for (let i = 0; i < $event.length; i++) {\n          const element = $event[i];\n          $(\"#asset_\" + element.assetID).addClass('td_border');\n          arayy.push(element.assetID);\n          let objj = {\n            id: element.assetID,\n            name: element.assetIdentification\n          };\n          this.tempTextFieldValues.trailer.push(objj);\n        }\n      } else {\n        let arayy = [];\n        $(\"#asset_\" + $event.assetID).addClass('td_border');\n        let objj = {\n          id: $event.assetID,\n          name: $event.assetIdentification\n        };\n        this.tempTextFieldValues.trailer.push(objj);\n\n        for (let i = 0; i < this.tempTextFieldValues.trailer.length; i++) {\n          const element = this.tempTextFieldValues.trailer[i];\n          arayy.push(element.id);\n        }\n\n        this.informationAsset = arayy;\n      }\n\n      let trailerNames = this.tempTextFieldValues.trailer.map(function (v) {\n        return v.name;\n      });\n      trailerNames = trailerNames.join();\n      this.tempTextFieldValues.trailerName = trailerNames;\n    }\n  }\n\n  saveAssetModalData() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let selectedDriverids = [];\n      let selectedVehicles = [];\n      let selectedAssets = [];\n\n      if (_this2.tempTextFieldValues.coDriverUsername != '' || _this2.tempTextFieldValues.driverUsername != '' || _this2.tempTextFieldValues.vehicleID != '' || _this2.tempTextFieldValues.trailer.length != 0) {\n        let planData = _this2.tripData.tripPlanning;\n        selectedDriverids.push(_this2.tempTextFieldValues.coDriverID);\n        selectedDriverids.push(_this2.tempTextFieldValues.driverID);\n\n        if (_this2.tempTextFieldValues.vehicleID != '' && _this2.tempTextFieldValues.vehicleID != undefined) {\n          if (!selectedVehicles.includes(_this2.tempTextFieldValues.vehicleID)) {\n            selectedVehicles.push(_this2.tempTextFieldValues.vehicleID);\n          }\n        }\n\n        for (let i = 0; i < planData.length; i++) {\n          _this2.tripData.tripPlanning[i].coDriverID = _this2.tempTextFieldValues.coDriverID;\n          _this2.tripData.tripPlanning[i].driverID = _this2.tempTextFieldValues.driverID;\n          _this2.tripData.tripPlanning[i].codriverUsername = _this2.tempTextFieldValues.coDriverUsername;\n          _this2.tripData.tripPlanning[i].driverUsername = _this2.tempTextFieldValues.driverUsername;\n          _this2.tripData.tripPlanning[i].vehicleID = _this2.tempTextFieldValues.vehicleID;\n          _this2.tripData.tripPlanning[i].assetID = [];\n\n          for (let j = 0; j < _this2.tempTextFieldValues.trailer.length; j++) {\n            const element2 = _this2.tempTextFieldValues.trailer[j];\n\n            _this2.tripData.tripPlanning[i].assetID.push(element2.id);\n\n            if (element2.id != '' && element2.id != undefined) {\n              if (!selectedAssets.includes(element2.id)) {\n                selectedAssets.push(element2.id);\n              }\n            }\n          }\n        }\n\n        _this2.tripData.driverIDs = yield selectedDriverids;\n        _this2.tripData.vehicleIDs = yield selectedVehicles;\n        _this2.tripData.assetIDs = yield selectedAssets;\n        _this2.tripData.tripStatus = 'dispatched';\n        _this2.tempTrips[_this2.tempIndex].tripStatus = 'dispatched';\n\n        _this2.apiService.putData('trips', _this2.tripData).subscribe({\n          complete: () => {},\n          error: err => {\n            from(err.error).pipe(map(val => {\n              // We Can Use This Method\n              const key = val.message.match(/\"([^']+)\"/)[1];\n              val.message = val.message.replace(/\".*\"/, 'This Field');\n              _this2.errors[key] = val.message;\n            })).subscribe({\n              complete: () => {\n                _this2.spinner.hide();\n\n                _this2.throwErrors();\n              },\n              error: () => {},\n              next: () => {}\n            });\n          },\n          next: res => {\n            _this2.spinner.hide();\n\n            _this2.response = res;\n            $('#assetModal').modal('hide');\n            _this2.tempIndex = '';\n\n            _this2.toastr.success('Assignment done successfully');\n          }\n        });\n      } else {\n        $(\"#assetModal\").modal('hide');\n        return false;\n      }\n    })();\n  }\n\n  showAssignModal(tripID, index) {\n    this.tempIndex = index;\n    this.emptyAssetModalFields();\n    this.spinner.show();\n    this.OrderIDs = [];\n    this.apiService.getData('trips/' + tripID).subscribe(result => {\n      result = result.Items[0]; // delete result.timeCreated;\n\n      delete result.timeModified;\n      delete result.tripSK;\n      delete result.isDelActiveSK;\n      this.tripData = result;\n      this.OrderIDs = this.tripData['orderId'];\n\n      if (this.tripData.tripPlanning.length === 0) {\n        this.toastr.error('The trip plan for the selected trip is empty. Please create one to assign.');\n        this.spinner.hide();\n        return false;\n      }\n\n      if (this.tripData.tripStatus === 'pending' || this.tripData.tripStatus === 'confirmed') {\n        $(\"#assetModal\").modal('show');\n        this.spinner.hide();\n      } else {\n        this.toastr.error('Assignment is already done. Please refer edit trip to change the previous assignment');\n        this.spinner.hide();\n      }\n    });\n  }\n\n  fetchTrips() {\n    this.spinner.show();\n    const tripResponse = this.apiService.getData('trips/status/confirmed');\n    const orderResponse = this.apiService.getData('orders');\n    const observables = forkJoin([tripResponse, orderResponse]).subscribe(value => {\n      this.orderTripValues(value);\n      this.spinner.hide();\n    });\n  }\n\n  orderTripValues(val) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let fetchedTrip = val[0];\n      let fetchedOrder = val[1];\n\n      for (let i = 0; i < fetchedTrip.Items.length; i++) {\n        let element = fetchedTrip.Items[i];\n\n        if (element.isDeleted == 0) {\n          let tripDate = element.dateCreated;\n\n          if (tripDate != '' && tripDate != undefined) {\n            tripDate = moment(tripDate, 'YYYY-MM-DD').format('DD-MM-YYYY');\n          }\n\n          let tripObj = {\n            pickupLocation: '',\n            deliveryLocation: '',\n            tripID: element.tripID,\n            tripNo: element.tripNo,\n            tripStatus: element.tripStatus,\n            date: tripDate,\n            time: '-',\n            tripPlan: element.tripPlanning,\n            orders: element.orderId,\n            customersArr: []\n          };\n\n          for (let k = 0; k < element.orderId.length; k++) {\n            const element1 = element.orderId[k];\n            fetchedOrder.Items.filter(function (obj) {\n              if (obj.orderID == element1) {\n                let cusObj = {\n                  customerId: obj.customerID,\n                  name: '',\n                  icon: ''\n                };\n                tripObj.customersArr.push(cusObj); //for unique customer-id in array \n\n                tripObj.customersArr = [...new Map(tripObj.customersArr.map(item => [item['customerId'], item])).values()];\n              }\n            });\n          }\n\n          _this3.tempTrips.push(tripObj);\n        }\n      }\n\n      yield _this3.fetchCustomers();\n      yield _this3.getTripsData(_this3.tempTrips);\n    })();\n  }\n\n  throwErrors() {\n    this.form.showErrors(this.errors);\n  }\n\n  getTripsData(tempTrips) {\n    for (let i = 0; i < tempTrips.length; i++) {\n      const element = tempTrips[i];\n      let pickup;\n      let drop;\n\n      if (element.tripPlan.length > 0) {\n        pickup = element.tripPlan[0].location;\n        element.pickupLocation = pickup;\n        element.time = element.tripPlan[0].pickupTime;\n\n        if (element.tripPlan.length >= 2) {\n          let lastloc = element.tripPlan.length - 1;\n          drop = element.tripPlan[lastloc].location;\n          element.deliveryLocation = drop;\n        }\n      }\n    }\n  }\n  /*\r\n    * Get all customers\r\n   */\n\n\n  fetchCustomers() {\n    this.apiService.getData('customers/get/all').subscribe(result => {\n      this.allCustomers = result.Items;\n      this.assignCompanyName();\n    });\n  }\n\n  assignCompanyName() {\n    for (let p = 0; p < this.tempTrips.length; p++) {\n      const element = this.tempTrips[p];\n\n      if (element.customersArr.length > 0) {\n        for (let w = 0; w < element.customersArr.length; w++) {\n          const elementp = element.customersArr[w];\n          this.allCustomers.map(function (obj) {\n            if (obj.customerID == elementp.customerId) {\n              elementp.name = obj.companyName;\n              let custName = obj.companyName.split(' ');\n\n              if (custName[0] != undefined) {\n                elementp.icon = custName[0].charAt(0).toUpperCase();\n              }\n\n              if (custName[1] != undefined) {\n                elementp.icon += custName[1].charAt(0).toUpperCase();\n              }\n            }\n          });\n        }\n      }\n    }\n  }\n\n}\n\nMapViewComponent.ɵfac = function MapViewComponent_Factory(t) {\n  return new (t || MapViewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.HereMapService));\n};\n\nMapViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MapViewComponent,\n  selectors: [[\"app-map-view\"]],\n  decls: 83,\n  vars: 15,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"p-0\"], [1, \"page-header\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-6\", \"col-lg-6\"], [1, \"text-4\", \"font-weight-bold\", \"mt-0\", \"mb-0\", \"text-dark\"], [1, \"col-md-6\", \"col-lg-6\", \"text-right\"], [\"href\", \"javascript:;\", \"routerLink\", \"/dispatch/planner/calendar-view\", 1, \"btn\", \"btn-default\", \"btn-sm\", \"mr-2\"], [\"href\", \"javascript:;\", \"routerLink\", \"/dispatch/trips/add-trip\", 1, \"btn\", \"btn-success\", \"btn-sm\", 2, \"color\", \"white\"], [1, \"fas\", \"fa-plus\"], [1, \"dispatch-planner__wrapper\"], [1, \"card\"], [1, \"card-body\", \"pb-0\"], [1, \"row\"], [1, \"col-3\"], [\"id\", \"external-trips\"], [1, \"schedule-trips\"], [\"class\", \"notrip-dp align-items-center\", 4, \"ngIf\"], [1, \"m-0\", \"p-0\"], [\"class\", \" mb-2 border\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-9\"], [\"id\", \"map_view\", 1, \"mapclass\"], [\"id\", \"map\", 2, \"height\", \"calc(100vh - 150px)\"], [\"id\", \"assetModal\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"close\"], [1, \"modal-body\"], [\"data-select2-id\", \"279\", 1, \"card-body\", \"text-dark\", \"table-scroll-y\", \"table-scrollplan\"], [\"data-select2-id\", \"278\", 1, \"table\", \"table-bordered\", \"table-responsive-lg\", \"table-striped\", \"mb-0\"], [\"width\", \"25%\"], [\"bindLabel\", \"vehicleIdentification\", \"bindValue\", \"vehicleID\", \"name\", \"assetDataVehicleID\", \"id\", \"vehicleSelect\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [\"name\", \"informationAsset\", \"id\", \"informationAsset\", \"bindLabel\", \"assetIdentification\", \"bindValue\", \"assetID\", 3, \"ngModel\", \"items\", \"multiple\", \"ngModelChange\", \"change\"], [\"name\", \"assetDataDriverUsername\", \"id\", \"driverSelect\", \"bindLabel\", \"fullName\", \"bindValue\", \"userName\", 3, \"ngModel\", \"items\", \"ngModelChange\", \"change\"], [\"name\", \"assetDataCoDriverUsername\", \"id\", \"coDriverSelect\", \"bindLabel\", \"fullName\", \"bindValue\", \"userName\", 3, \"ngModel\", \"items\", \"ngModelChange\", \"change\"], [4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\", \"card-footer\"], [1, \"col-md-12\", \"text-right\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"data-dismiss\", \"modal\", 1, \"btn\", \"btn-default\", \"modal-dismiss\"], [1, \"notrip-dp\", \"align-items-center\"], [\"src\", \"assets/img/notrip.png\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"font-weight-bold\", \"text-center\"], [\"href\", \"javascript:;\", \"routerLink\", \"/dispatch/trips/add-trip\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"mx-2\", \"mt-2\", 2, \"color\", \"white\"], [1, \"mb-2\", \"border\"], [1, \"fc-event-main\"], [1, \"mb-2\", \"font-weight-bold\", \"mt-0\", \"border-bottom\", \"pb-2\"], [\"class\", \"d-inline-block\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", \"class\", \"pull-right modal-with-form btn btn-success btn-sm\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:;\", \"class\", \"pull-right modal-with-form btn btn-success btn-sm\", 4, \"ngIf\"], [1, \"mb-1\"], [\"class\", \"mb-1\", 4, \"ngIf\", \"ngIfElse\"], [\"locBlock\", \"\"], [1, \"m-0\"], [1, \"fas\", \"fa-clock\", \"border-top\"], [1, \"d-inline-block\"], [1, \"name-short\"], [\"href\", \"javascript:;\", 1, \"pull-right\", \"modal-with-form\", \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"pull-right\", \"modal-with-form\", \"btn\", \"btn-success\", \"btn-sm\"], [1, \"vehicleClass\", 3, \"id\", \"click\"], [1, \"\"], [1, \"mb-1\", \"text-4\", \"font-weight-bold\", \"text-dark\"], [\"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"\", \"data-original-title\", \"Vehicle\", 1, \"fas\", \"fa-truck-moving\"], [1, \"driverstatus\"], [\"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"\", \"data-original-title\", \"Loation\", 1, \"fas\", \"fa-map-marker-alt\"], [1, \"assetClass\", 3, \"id\", \"click\"], [1, \"mb-1\", \"text-4\", \"font-weight-semibold\", \"text-dark\"], [1, \"fas\", \"fa-map-marker-alt\"], [1, \"driverClass\", 3, \"id\", \"click\"], [1, \"offduty\", \"pull-right\"], [1, \"fas\", \"fa-clock\"], [1, \"font-weight-bold\"], [1, \"fa\", \"fa-clock\"], [1, \"fas\", \"fa-user\"], [1, \"codriverClass\", 3, \"id\", \"click\"]],\n  template: function MapViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"h4\", 7);\n      i0.ɵɵtext(8, \"Planner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8);\n      i0.ɵɵelementStart(10, \"a\", 9);\n      i0.ɵɵtext(11, \"Calendar View\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"a\", 10);\n      i0.ɵɵelement(13, \"i\", 11);\n      i0.ɵɵtext(14, \" Add Trip\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"section\", 12);\n      i0.ɵɵelementStart(16, \"div\", 13);\n      i0.ɵɵelementStart(17, \"div\", 14);\n      i0.ɵɵelementStart(18, \"div\", 15);\n      i0.ɵɵelementStart(19, \"div\", 16);\n      i0.ɵɵelementStart(20, \"div\", 17);\n      i0.ɵɵelementStart(21, \"div\", 18);\n      i0.ɵɵtemplate(22, MapViewComponent_div_22_Template, 9, 0, \"div\", 19);\n      i0.ɵɵelementStart(23, \"ul\", 20);\n      i0.ɵɵtemplate(24, MapViewComponent_li_24_Template, 20, 9, \"li\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 22);\n      i0.ɵɵelementStart(26, \"div\", 23);\n      i0.ɵɵelement(27, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 25);\n      i0.ɵɵelementStart(29, \"div\", 26);\n      i0.ɵɵelementStart(30, \"div\", 27);\n      i0.ɵɵelementStart(31, \"div\", 28);\n      i0.ɵɵelementStart(32, \"h4\", 29);\n      i0.ɵɵtext(33, \"Assign\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 30);\n      i0.ɵɵtext(35, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 31);\n      i0.ɵɵelementStart(37, \"div\", 32);\n      i0.ɵɵelementStart(38, \"table\", 33);\n      i0.ɵɵelementStart(39, \"thead\");\n      i0.ɵɵelementStart(40, \"tr\");\n      i0.ɵɵelementStart(41, \"th\", 34);\n      i0.ɵɵtext(42, \"Vehicle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"th\", 34);\n      i0.ɵɵtext(44, \"Assets\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 34);\n      i0.ɵɵtext(46, \"Driver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\");\n      i0.ɵɵtext(48, \"Co-Driver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"tbody\");\n      i0.ɵɵelementStart(50, \"tr\");\n      i0.ɵɵelementStart(51, \"td\");\n      i0.ɵɵelementStart(52, \"ng-select\", 35);\n      i0.ɵɵlistener(\"ngModelChange\", function MapViewComponent_Template_ng_select_ngModelChange_52_listener($event) {\n        return ctx.assetDataVehicleID = $event;\n      })(\"change\", function MapViewComponent_Template_ng_select_change_52_listener($event) {\n        return ctx.vehicleChange($event, \"change\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"td\");\n      i0.ɵɵelementStart(54, \"ng-select\", 36);\n      i0.ɵɵlistener(\"ngModelChange\", function MapViewComponent_Template_ng_select_ngModelChange_54_listener($event) {\n        return ctx.informationAsset = $event;\n      })(\"change\", function MapViewComponent_Template_ng_select_change_54_listener($event) {\n        return ctx.assetsChange($event, \"change\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"td\");\n      i0.ɵɵelementStart(56, \"ng-select\", 37);\n      i0.ɵɵlistener(\"ngModelChange\", function MapViewComponent_Template_ng_select_ngModelChange_56_listener($event) {\n        return ctx.assetDataDriverUsername = $event;\n      })(\"change\", function MapViewComponent_Template_ng_select_change_56_listener($event) {\n        return ctx.driverChange($event, \"driver\", \"change\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"td\");\n      i0.ɵɵelementStart(58, \"ng-select\", 38);\n      i0.ɵɵlistener(\"ngModelChange\", function MapViewComponent_Template_ng_select_ngModelChange_58_listener($event) {\n        return ctx.assetDataCoDriverUsername = $event;\n      })(\"change\", function MapViewComponent_Template_ng_select_change_58_listener($event) {\n        return ctx.driverChange($event, \"codriver\", \"change\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"tr\");\n      i0.ɵɵelementStart(60, \"td\");\n      i0.ɵɵelementStart(61, \"table\");\n      i0.ɵɵelementStart(62, \"tbody\");\n      i0.ɵɵtemplate(63, MapViewComponent_tr_63_Template, 9, 2, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"td\");\n      i0.ɵɵelementStart(65, \"table\");\n      i0.ɵɵelementStart(66, \"tbody\");\n      i0.ɵɵtemplate(67, MapViewComponent_tr_67_Template, 8, 2, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"td\");\n      i0.ɵɵelementStart(69, \"table\");\n      i0.ɵɵelementStart(70, \"tbody\");\n      i0.ɵɵtemplate(71, MapViewComponent_tr_71_Template, 24, 2, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"td\");\n      i0.ɵɵelementStart(73, \"table\");\n      i0.ɵɵelementStart(74, \"tbody\");\n      i0.ɵɵtemplate(75, MapViewComponent_tr_75_Template, 20, 2, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"div\", 40);\n      i0.ɵɵelementStart(77, \"div\", 15);\n      i0.ɵɵelementStart(78, \"div\", 41);\n      i0.ɵɵelementStart(79, \"a\", 42);\n      i0.ɵɵlistener(\"click\", function MapViewComponent_Template_a_click_79_listener() {\n        return ctx.saveAssetModalData();\n      });\n      i0.ɵɵtext(80, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"button\", 43);\n      i0.ɵɵtext(82, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"ngIf\", ctx.tempTrips.length == 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tempTrips);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"items\", ctx.vehicles)(\"ngModel\", ctx.assetDataVehicleID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.informationAsset)(\"items\", ctx.assets)(\"multiple\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.assetDataDriverUsername)(\"items\", ctx.drivers);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.assetDataCoDriverUsername)(\"items\", ctx.codrivers);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vehicles);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.assets);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.drivers);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.codrivers);\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i6.RouterLinkWithHref, i7.NgIf, i7.NgForOf, i8.NgSelectComponent, i5.NgControlStatus, i5.NgModel],\n  styles: [\".notrip-dp[_ngcontent-%COMP%] {\\r\\n    height: 800px;\\r\\n    border: solid 4px #e5e5e5;\\r\\n    width: 100%;\\r\\n    display: block;\\r\\n    justify-content: center;\\r\\n}\\r\\n.notrip-dp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: auto;\\r\\n    display: block;\\r\\n    margin: auto;\\r\\n    margin-top: 300px;\\r\\n    opacity: 0.2;\\r\\n}\", \"#assetModal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{\\n        max-width: 1200px;\\n    }\\n    .td_border[_ngcontent-%COMP%]{\\n        border: 2px solid black !important;\\n    }\\n\\n    #map_view[_ngcontent-%COMP%] {\\n        display: inline-block;\\n        width: 100%;\\n    }\"]\n});","map":null,"metadata":{},"sourceType":"module"}