{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"!C:\\\\FH\\\\fh-cloud-app\\\\node_modules\\\\@ngtools\\\\webpack\\\\src\\\\loaders\\\\direct-resource.js!./bol-pdf.component.html\";\nimport __NG_CLI_RESOURCE__1 from \"./bol-pdf.component.css\";\nimport { Component, ViewChild } from \"@angular/core\";\nimport { ListService } from \"src/app/services\";\nimport * as html2pdf from \"html2pdf.js\";\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\nlet BolPdfComponent = class BolPdfComponent {\n  constructor(listService, modalService) {\n    this.listService = listService;\n    this.modalService = modalService;\n    this.orderData = {\n      createdDate: null,\n      additionalContact: null,\n      carrierData: {\n        address: \"\",\n        companyName: \"\",\n        phone: \"\",\n        email: \"\",\n        fax: \"\",\n        logo: \"\",\n        carrierID: \"\"\n      },\n      charges: {\n        accessorialDeductionInfo: {\n          accessorialDeduction: []\n        },\n        accessorialFeeInfo: {\n          accessorialFee: []\n        },\n        freightFee: {\n          amount: 0,\n          currency: \"\",\n          type: \"\"\n        },\n        fuelSurcharge: {\n          amount: 0,\n          currency: \"\",\n          type: \"\"\n        },\n        cusAddressID: \"\",\n        customerID: \"\"\n      },\n      data: [],\n      finalAmount: 0,\n      phone: \"\",\n      subTotal: 0,\n      taxesAmt: 0\n    };\n    this.carrierData = {\n      name: \"\",\n      email: \"\",\n      address: \"\",\n      phone: \"\"\n    };\n    this.companyLogo = \"\";\n    this.logoSrc = \"assets/img/logo.png\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    this.subscription = this.listService.bolPdfList.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        if (res.showModal && res.length != 0) {\n          console.log(\"res====\", res);\n          _this.orderData = res.orderData;\n          _this.carrierData = res.carrierData;\n          _this.companyLogo = res.companyLogo;\n          let ngbModalOptions = {\n            backdrop: \"static\",\n            keyboard: false,\n            windowClass: \"ordBolPrev-prog__main\"\n          };\n          res.showModal = false;\n\n          _this.modalService.open(_this.modalContent, ngbModalOptions).result.then(result => {}, reason => {}); // this.generatePDF();\n\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  generatePDF() {\n    return _asyncToGenerator(function* () {\n      var data = document.getElementById(\"print_bol\");\n      html2pdf(data, {\n        margin: [0.5, 0, 0.5, 0],\n        pagebreak: {\n          mode: \"avoid-all\",\n          before: \"print_bol\"\n        },\n        filename: `BOL ${new Date().getTime()}.pdf`,\n        image: {\n          type: \"jpeg\",\n          quality: 0.98\n        },\n        html2canvas: {\n          scale: 2,\n          logging: true,\n          dpi: 192,\n          letterRendering: true\n        },\n        jsPDF: {\n          unit: \"in\",\n          format: \"a4\",\n          orientation: \"portrait\"\n        }\n      });\n    })();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n};\n\nBolPdfComponent.ctorParameters = () => [{\n  type: ListService\n}, {\n  type: NgbModal\n}];\n\nBolPdfComponent.propDecorators = {\n  modalContent: [{\n    type: ViewChild,\n    args: [\"ordBolPrev\", {\n      static: true\n    }]\n  }]\n};\nBolPdfComponent = __decorate([Component({\n  selector: \"app-bol-pdf\",\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], BolPdfComponent);\nexport { BolPdfComponent };","map":null,"metadata":{},"sourceType":"module"}