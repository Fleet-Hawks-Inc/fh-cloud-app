{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGrigPlugin from \"@fullcalendar/timegrid\";\nimport listPlugin from \"@fullcalendar/list\";\nimport { map } from \"rxjs/operators\";\nimport { from, forkJoin } from \"rxjs\";\nimport * as moment from \"moment\";\nimport * as _ from \"lodash\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../../../services/here-map.service\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@ng-select/ng-select\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@fullcalendar/angular\";\nconst _c0 = [\"assgnDispatchModel\"];\nconst _c1 = [\"manAssPlannerModel\"];\n\nfunction CalendarViewComponent_ng_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r7 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r7.tripID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" #\", data_r7.tripNo, \" \");\n  }\n}\n\nfunction CalendarViewComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵelement(1, \"img\", 47);\n    i0.ɵɵelementStart(2, \"div\", 48);\n    i0.ɵɵelementStart(3, \"p\", 49);\n    i0.ɵɵtext(4, \" There are no trips to assign. \");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"a\", 50);\n    i0.ɵɵelement(7, \"i\", 12);\n    i0.ɵɵtext(8, \" Add Trip\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarViewComponent_li_27_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelementStart(1, \"span\", 62);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const customer_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r16.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r16.name, \" \");\n  }\n}\n\nfunction CalendarViewComponent_li_27_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 63);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_li_27_a_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      const trip_r8 = ctx_r18.$implicit;\n      const i_r9 = ctx_r18.index;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.showAssignModal(trip_r8.tripID, i_r9);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(trip_r8.btnHeading);\n  }\n}\n\nfunction CalendarViewComponent_li_27_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 63);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_li_27_a_5_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      const trip_r8 = ctx_r22.$implicit;\n      const i_r9 = ctx_r22.index;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.updateTripStatus(trip_r8.tripID, i_r9, trip_r8.tripStatus);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(trip_r8.btnHeading);\n  }\n}\n\nfunction CalendarViewComponent_li_27_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 56);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"D/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", trip_r8.deliveryLocation, \" \");\n  }\n}\n\nfunction CalendarViewComponent_li_27_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 56);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \"D/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarViewComponent_li_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 51);\n    i0.ɵɵelementStart(1, \"div\", 52);\n    i0.ɵɵelementStart(2, \"h5\", 53);\n    i0.ɵɵtemplate(3, CalendarViewComponent_li_27_div_3_Template, 4, 2, \"div\", 54);\n    i0.ɵɵtemplate(4, CalendarViewComponent_li_27_a_4_Template, 2, 1, \"a\", 55);\n    i0.ɵɵtemplate(5, CalendarViewComponent_li_27_a_5_Template, 2, 1, \"a\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 56);\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8, \"P/L:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CalendarViewComponent_li_27_p_10_Template, 4, 1, \"p\", 57);\n    i0.ɵɵtemplate(11, CalendarViewComponent_li_27_ng_template_11_Template, 4, 0, \"ng-template\", null, 58, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(13, \"p\", 56);\n    i0.ɵɵelementStart(14, \"b\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 59);\n    i0.ɵɵelement(17, \"i\", 60);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r8 = ctx.$implicit;\n\n    const _r14 = i0.ɵɵreference(12);\n\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", trip_r8.customersArr);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", trip_r8.showModal);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !trip_r8.showModal);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", trip_r8.pickupLocation, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", trip_r8.deliveryLocation != \"\")(\"ngIfElse\", _r14);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Trip: #\", trip_r8.tripNo, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", trip_r8.date, \" \", trip_r8.time, \" \");\n  }\n}\n\nfunction CalendarViewComponent_ng_template_78_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 91);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_tr_43_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r33);\n      const vehicle_r31 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return ctx_r32.vehicleChange(vehicle_r31, \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵelementStart(3, \"p\", 92);\n    i0.ɵɵelement(4, \"i\", 93);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const vehicle_r31 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"veh_\", vehicle_r31.vehicleID, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", vehicle_r31.vehicleIdentification, \" \");\n  }\n}\n\nfunction CalendarViewComponent_ng_template_78_tr_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 94);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_tr_48_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const asset_r34 = restoredCtx.$implicit;\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.assetsChange(asset_r34, \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵelementStart(3, \"p\", 92);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const asset_r34 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"asset_\", asset_r34.assetID, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", asset_r34.assetIdentification, \" \");\n  }\n}\n\nfunction CalendarViewComponent_ng_template_78_tr_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 95);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_tr_53_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r39);\n      const driver_r37 = restoredCtx.$implicit;\n      const ctx_r38 = i0.ɵɵnextContext(2);\n      return ctx_r38.driverChange(driver_r37, \"driver\", \"click\");\n    });\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵelementStart(3, \"p\", 92);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const driver_r37 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"drivr_\", driver_r37.driverID, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", driver_r37.fullName, \" \");\n  }\n}\n\nfunction CalendarViewComponent_ng_template_78_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 96);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_tr_58_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r42);\n      const driver_r40 = restoredCtx.$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return ctx_r41.driverChange(driver_r40, \"codriver\", \"click\");\n    });\n    i0.ɵɵelementStart(2, \"span\", 97);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const driver_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"codrivr_\", driver_r40.driverID, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(driver_r40.fullName);\n  }\n}\n\nfunction CalendarViewComponent_ng_template_78_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵelementStart(1, \"div\", 65);\n    i0.ɵɵelementStart(2, \"div\", 66);\n    i0.ɵɵelementStart(3, \"h4\", 67);\n    i0.ɵɵtext(4, \"Assign\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 68);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const modal_r26 = restoredCtx.$implicit;\n      return modal_r26.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(6, \" \\u00D7 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 69);\n    i0.ɵɵelementStart(8, \"div\", 70);\n    i0.ɵɵelementStart(9, \"table\", 71);\n    i0.ɵɵelementStart(10, \"thead\");\n    i0.ɵɵelementStart(11, \"tr\");\n    i0.ɵɵelementStart(12, \"th\", 72);\n    i0.ɵɵtext(13, \"Vehicle\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 72);\n    i0.ɵɵelementStart(15, \"div\", 73);\n    i0.ɵɵelementStart(16, \"span\");\n    i0.ɵɵtext(17, \"Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\");\n    i0.ɵɵelementStart(19, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r45 = i0.ɵɵnextContext();\n\n      const _r5 = i0.ɵɵreference(81);\n\n      return ctx_r45.openManualAsset(_r5);\n    });\n    i0.ɵɵtext(20, \" Manual Asset \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 72);\n    i0.ɵɵtext(22, \"Driver\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Co-Driver\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"tbody\");\n    i0.ɵɵelementStart(26, \"tr\");\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵelementStart(28, \"ng-select\", 75);\n    i0.ɵɵlistener(\"ngModelChange\", function CalendarViewComponent_ng_template_78_Template_ng_select_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.assetDataVehicleID = $event;\n    })(\"change\", function CalendarViewComponent_ng_template_78_Template_ng_select_change_28_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return ctx_r47.vehicleChange($event, \"change\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵelementStart(30, \"ng-select\", 76);\n    i0.ɵɵlistener(\"ngModelChange\", function CalendarViewComponent_ng_template_78_Template_ng_select_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.informationAsset = $event;\n    })(\"change\", function CalendarViewComponent_ng_template_78_Template_ng_select_change_30_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return ctx_r49.assetsChange($event, \"change\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\");\n    i0.ɵɵelementStart(32, \"ng-select\", 77);\n    i0.ɵɵlistener(\"ngModelChange\", function CalendarViewComponent_ng_template_78_Template_ng_select_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return ctx_r50.assetDataDriverUsername = $event;\n    })(\"change\", function CalendarViewComponent_ng_template_78_Template_ng_select_change_32_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.driverChange($event, \"driver\", \"change\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵelementStart(34, \"ng-select\", 78);\n    i0.ɵɵlistener(\"ngModelChange\", function CalendarViewComponent_ng_template_78_Template_ng_select_ngModelChange_34_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return ctx_r52.assetDataCoDriverUsername = $event;\n    })(\"change\", function CalendarViewComponent_ng_template_78_Template_ng_select_change_34_listener($event) {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return ctx_r53.driverChange($event, \"codriver\", \"change\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 79);\n    i0.ɵɵelementStart(36, \"table\", 80);\n    i0.ɵɵelementStart(37, \"tbody\");\n    i0.ɵɵelementStart(38, \"tr\");\n    i0.ɵɵelementStart(39, \"td\", 72);\n    i0.ɵɵelementStart(40, \"div\", 81);\n    i0.ɵɵelementStart(41, \"table\", 82);\n    i0.ɵɵelementStart(42, \"tbody\");\n    i0.ɵɵtemplate(43, CalendarViewComponent_ng_template_78_tr_43_Template, 6, 2, \"tr\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"td\", 72);\n    i0.ɵɵelementStart(45, \"div\", 84);\n    i0.ɵɵelementStart(46, \"table\", 82);\n    i0.ɵɵelementStart(47, \"tbody\");\n    i0.ɵɵtemplate(48, CalendarViewComponent_ng_template_78_tr_48_Template, 5, 2, \"tr\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"td\", 72);\n    i0.ɵɵelementStart(50, \"div\", 85);\n    i0.ɵɵelementStart(51, \"table\", 82);\n    i0.ɵɵelementStart(52, \"tbody\");\n    i0.ɵɵtemplate(53, CalendarViewComponent_ng_template_78_tr_53_Template, 5, 2, \"tr\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"td\", 72);\n    i0.ɵɵelementStart(55, \"div\", 86);\n    i0.ɵɵelementStart(56, \"table\", 82);\n    i0.ɵɵelementStart(57, \"tbody\");\n    i0.ɵɵtemplate(58, CalendarViewComponent_ng_template_78_tr_58_Template, 4, 2, \"tr\", 83);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 87);\n    i0.ɵɵelementStart(60, \"div\", 29);\n    i0.ɵɵelementStart(61, \"div\", 88);\n    i0.ɵɵelementStart(62, \"button\", 89);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_Template_button_click_62_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const modal_r26 = restoredCtx.$implicit;\n      return modal_r26.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(63, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"a\", 90);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_78_Template_a_click_64_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return ctx_r55.saveAssetModalData();\n    });\n    i0.ɵɵtext(65, \"Save and dispatch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(28);\n    i0.ɵɵproperty(\"items\", ctx_r4.vehicles)(\"ngModel\", ctx_r4.assetDataVehicleID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.informationAsset)(\"items\", ctx_r4.assets)(\"multiple\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.assetDataDriverUsername)(\"items\", ctx_r4.drivers);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.assetDataCoDriverUsername)(\"items\", ctx_r4.codrivers);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.vehicles);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.assets);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.drivers);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.codrivers);\n  }\n}\n\nfunction CalendarViewComponent_ng_template_80_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Asset name/number is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarViewComponent_ng_template_80_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 112);\n    i0.ɵɵtemplate(1, CalendarViewComponent_ng_template_80_div_18_div_1_Template, 2, 0, \"div\", 113);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r58 = i0.ɵɵreference(17);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r58.errors.required);\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    error: a0\n  };\n};\n\nfunction CalendarViewComponent_ng_template_80_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 66);\n    i0.ɵɵelementStart(1, \"h5\", 67);\n    i0.ɵɵtext(2, \"Add Manual Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 98);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_80_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const modal_r56 = restoredCtx.$implicit;\n      return modal_r56.dismiss();\n    });\n    i0.ɵɵelement(4, \"i\", 99);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"form\", 100, 101);\n    i0.ɵɵlistener(\"ngSubmit\", function CalendarViewComponent_ng_template_80_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r62);\n\n      const _r57 = i0.ɵɵreference(6);\n\n      const ctx_r63 = i0.ɵɵnextContext();\n      return _r57.form.valid && ctx_r63.addManualAsset();\n    });\n    i0.ɵɵelementStart(7, \"div\", 102);\n    i0.ɵɵelementStart(8, \"div\", 29);\n    i0.ɵɵelementStart(9, \"div\", 15);\n    i0.ɵɵelementStart(10, \"div\", 103);\n    i0.ɵɵelementStart(11, \"label\", 104);\n    i0.ɵɵtext(12, \"Asset Name/Number \");\n    i0.ɵɵelementStart(13, \"span\", 105);\n    i0.ɵɵelementStart(14, \"sup\");\n    i0.ɵɵtext(15, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 106, 107);\n    i0.ɵɵlistener(\"ngModelChange\", function CalendarViewComponent_ng_template_80_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r64 = i0.ɵɵnextContext();\n      return ctx_r64.assetData.assetIdentification = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CalendarViewComponent_ng_template_80_div_18_Template, 2, 1, \"div\", 108);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 109);\n    i0.ɵɵelementStart(20, \"button\", 110);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_ng_template_80_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r62);\n      const modal_r56 = restoredCtx.$implicit;\n      return modal_r56.dismiss();\n    });\n    i0.ɵɵtext(21, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 111);\n    i0.ɵɵtext(23, \" Submit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r57 = i0.ɵɵreference(6);\n\n    const _r58 = i0.ɵɵreference(17);\n\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.assetData.assetIdentification)(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, _r57.submitted && _r58.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r58.invalid && _r57.submitted);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.submitDisabled);\n  }\n}\n\nconst _c3 = function () {\n  return {\n    left: \"prev,next today\",\n    center: \"title\",\n    right: \"dayGridMonth,timeGridWeek,timeGridDay\"\n  };\n};\n\nexport class CalendarViewComponent {\n  constructor(apiService, toastr, spinner, route, hereMap, modalService) {\n    this.apiService = apiService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.route = route;\n    this.hereMap = hereMap;\n    this.modalService = modalService;\n    this.calendarPlugins = [dayGridPlugin, timeGrigPlugin, listPlugin];\n    this.vehicles = [];\n    this.assets = [];\n    this.drivers = [];\n    this.codrivers = [];\n    this.tempTrips = [];\n    this.trips = [];\n    this.data = [];\n    this.events = [];\n    this.tripData = {\n      tripPlanning: [],\n      tripStatus: \"\",\n      tripID: \"\",\n      driverIDs: [],\n      vehicleIDs: [],\n      assetIDs: [],\n      loc: \"\"\n    };\n    this.response = \"\";\n    this.tempTextFieldValues = {\n      tripID: \"\",\n      trailer: []\n    };\n    this.assetDataVehicleID = null;\n    this.assetDataDriverUsername = null;\n    this.assetDataCoDriverUsername = null;\n    this.informationAsset = [];\n    this.statesObject = {};\n    this.countriesObject = {};\n    this.citiesObject = {};\n    this.orders = [];\n    this.customersArr = [];\n    this.customersObjects = [];\n    this.OrderIDs = [];\n    this.viewType = \"map\";\n    this.allCustomers = [];\n    this.tempIndex = \"\";\n    this.allTrips = [];\n    this.oldTrips = [];\n    this.submitDisabled = false;\n    this.assetData = {\n      assetIdentification: \"\",\n      isTemp: true\n    };\n    this.allEvents = [];\n    this.selectedStatus = ['confirmed', 'dispatched', 'started', 'enroute', 'delivered', 'tonu', 'cancelled'];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.fetchCustomers();\n\n      _this.fetchAllTrips();\n\n      _this.fetchTrips();\n\n      _this.fetchVehicles();\n\n      _this.fetchAssets();\n\n      _this.fetchDrivers();\n    })();\n  }\n\n  emptyAssetModalFields() {\n    // empty the values of asset modal and temp_text_fields after adding\n    this.tempTextFieldValues.vehicleName = \"\";\n    this.tempTextFieldValues.vehicleID = \"\";\n    this.tempTextFieldValues.trailer = [];\n    this.tempTextFieldValues.driverName = \"\";\n    this.tempTextFieldValues.driverUsername = \"\";\n    this.tempTextFieldValues.coDriverName = \"\";\n    this.tempTextFieldValues.coDriverUsername = \"\";\n    this.tempTextFieldValues.trailerName = \"\";\n    this.assetDataVehicleID = null;\n    this.informationAsset = [];\n    this.assetDataDriverUsername = null;\n    this.assetDataCoDriverUsername = null;\n    $(\".vehicleClass\").removeClass(\"td_border\");\n    $(\".assetClass\").removeClass(\"td_border\");\n    $(\".driverClass\").removeClass(\"td_border\");\n    $(\".codriverClass\").removeClass(\"td_border\");\n  }\n\n  fetchVehicles() {\n    this.apiService.getData(\"vehicles\").subscribe(result => {\n      // this.vehicles = result.Items;\n      result.Items.map(element => {\n        if (element.isDeleted === 0) {\n          this.vehicles.push(element);\n        }\n      });\n    });\n  }\n\n  fetchAssets() {\n    this.assets = [];\n    this.apiService.getData(\"assets\").subscribe(result => {\n      result.Items.map(element => {\n        if (element.isDeleted === 0) {\n          this.assets.push(element);\n        }\n      });\n    });\n  }\n\n  fetchDrivers() {\n    this.apiService.getData(\"drivers\").subscribe(result => {\n      let drv = [];\n      result.Items.map(i => {\n        if (i.isDeleted === 0) {\n          i.fullName = i.firstName;\n          drv.push(i);\n        }\n      });\n      this.drivers = drv;\n      this.codrivers = drv;\n    });\n  }\n\n  getStatus(value, status) {\n    if (value) {\n      this.selectedStatus.push(status);\n    } else {\n      var index = this.selectedStatus.indexOf(status);\n\n      if (index !== -1) {\n        this.selectedStatus.splice(index, 1);\n      }\n    }\n\n    this.events = [];\n\n    for (const ev of this.allEvents) {\n      if (this.selectedStatus.includes(ev.status)) {\n        this.events.push(ev);\n      }\n    }\n  }\n\n  fetchAllTrips() {\n    let backgroundColor = \"\";\n    let borderColor = \"\";\n    this.apiService.getData(\"trips/get/calendarActive\").subscribe(result => {\n      result.Items.map(i => {\n        if (i.isDeleted === 0) {\n          if (i.tripStatus == \"confirmed\") {\n            backgroundColor = \"#005ce6\";\n            borderColor = \"#005ce6\";\n          } else if (i.tripStatus == \"delivered\") {\n            backgroundColor = \"#29a329\";\n            borderColor = \"#29a329\";\n          } else if (i.tripStatus == \"dispatched\") {\n            backgroundColor = \"#0099ff\";\n            borderColor = \"#0099ff\";\n          }\n\n          let eventObj = {\n            title: \"#\" + i.tripNo + \"\\n Status: \" + i.tripStatus,\n            status: i.tripStatus,\n            date: moment(i.dateCreated, \"YYYY-MM-DD\").format(\"YYYY-MM-DD\"),\n            backgroundColor: backgroundColor,\n            borderColor: borderColor\n          };\n          this.events.push(eventObj);\n          this.allEvents.push(eventObj);\n        }\n      });\n    });\n  }\n\n  fetchCoDriver(driverID) {\n    this.codrivers = this.drivers.filter(function (obj) {\n      if (obj.driverID !== driverID) {\n        return obj;\n      }\n    });\n  }\n\n  vehicleChange($event, type) {\n    if ($event === undefined) {\n      $(\".vehicleClass\").removeClass(\"td_border\");\n      this.tempTextFieldValues.vehicleName = \"\";\n      this.tempTextFieldValues.vehicleID = \"\";\n      this.assetDataVehicleID = null;\n    } else {\n      if (type === \"click\") {\n        this.assetDataVehicleID = $event.vehicleID;\n      }\n\n      this.tempTextFieldValues.vehicleName = $event.vehicleIdentification;\n      this.tempTextFieldValues.vehicleID = $event.vehicleID;\n      $(\".vehicleClass\").removeClass(\"td_border\");\n      $(\"#veh_\" + $event.vehicleID).addClass(\"td_border\");\n      $(\".trips-vehicle__listing\").animate({\n        scrollTop: $(\"#veh_\" + $event.vehicleID).position().top\n      }, \"slow\");\n    }\n  }\n\n  driverChange($event, type, eventType) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if ($event === undefined) {\n        if (type === \"driver\") {\n          $(\".driverClass\").removeClass(\"td_border\");\n          _this2.tempTextFieldValues.driverName = \"\";\n          _this2.tempTextFieldValues.driverUsername = \"\";\n          _this2.assetDataDriverUsername = null;\n          _this2.tempTextFieldValues.driverID = \"\";\n        } else {\n          $(\".codriverClass\").removeClass(\"td_border\");\n          _this2.tempTextFieldValues.coDriverName = \"\";\n          _this2.tempTextFieldValues.coDriverUsername = \"\";\n          _this2.assetDataCoDriverUsername = null;\n          _this2.tempTextFieldValues.coDriverID = \"\";\n        }\n      } else {\n        if (type === \"driver\") {\n          // alert('here')\n          yield _this2.spinner.show();\n          _this2.assetDataCoDriverUsername = null; //reset the codriver selected\n\n          _this2.fetchCoDriver($event.driverID);\n\n          _this2.tempTextFieldValues.driverName = $event.fullName;\n          _this2.tempTextFieldValues.driverUsername = $event.userName;\n          _this2.assetDataCoDriverUsername = null;\n          _this2.tempTextFieldValues.driverID = $event.driverID;\n\n          if (eventType === \"click\") {\n            _this2.assetDataDriverUsername = $event.userName;\n          }\n\n          $(\".driverClass\").removeClass(\"td_border\");\n          $(\"#drivr_\" + $event.driverID).addClass(\"td_border\");\n          $(\".trips-drivers__listing\").animate({\n            scrollTop: $(\"#drivr_\" + $event.driverID).position().top\n          }, \"slow\");\n          yield _this2.spinner.hide();\n        } else if (type === \"codriver\") {\n          _this2.tempTextFieldValues.coDriverName = $event.fullName;\n          _this2.tempTextFieldValues.coDriverUsername = $event.userName;\n          _this2.tempTextFieldValues.coDriverID = $event.driverID;\n\n          if (eventType === \"click\") {\n            _this2.assetDataCoDriverUsername = $event.userName;\n          }\n\n          $(\".codriverClass\").removeClass(\"td_border\");\n          $(\"#codrivr_\" + $event.driverID).addClass(\"td_border\");\n          $(\".trips-codrivers__listing\").animate({\n            scrollTop: $(\"#codrivr_\" + $event.driverID).position().top\n          }, \"slow\");\n        }\n      }\n    })();\n  }\n\n  assetsChange($event, type) {\n    if ($event === undefined) {\n      $(\".assetClass\").removeClass(\"td_border\");\n    } else {\n      let arayy = [];\n\n      if (type === \"change\") {\n        this.tempTextFieldValues.trailer = [];\n        arayy = [];\n        $(\".assetClass\").removeClass(\"td_border\");\n\n        for (let i = 0; i < $event.length; i++) {\n          const element = $event[i];\n          $(\"#asset_\" + element.assetID).addClass(\"td_border\");\n          arayy.push(element.assetID);\n          let objj = {\n            id: element.assetID,\n            name: element.assetIdentification\n          };\n          this.tempTextFieldValues.trailer.push(objj);\n        }\n\n        if ($event.length > 0) {\n          let lastItem = $event[$event.length - 1];\n          $(\".trips-assets__listing\").animate({\n            scrollTop: $(\"#asset_\" + lastItem.assetID).position().top\n          }, \"slow\");\n        }\n      } else {\n        arayy = [];\n        $(\"#asset_\" + $event.assetID).addClass(\"td_border\");\n        let objj = {\n          id: $event.assetID,\n          name: $event.assetIdentification\n        };\n        this.tempTextFieldValues.trailer.push(objj);\n\n        for (let i = 0; i < this.tempTextFieldValues.trailer.length; i++) {\n          const element = this.tempTextFieldValues.trailer[i];\n          arayy.push(element.id);\n        }\n\n        this.informationAsset = arayy;\n      }\n\n      let trailerNames = this.tempTextFieldValues.trailer.map(function (v) {\n        return v.name;\n      });\n      trailerNames = trailerNames.join();\n      this.tempTextFieldValues.trailerName = trailerNames;\n    }\n  }\n\n  saveAssetModalData() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let selectedDriverids = [];\n      let selectedVehicles = [];\n      let selectedAssets = [];\n\n      if (_this3.tempTextFieldValues.coDriverUsername != \"\" || _this3.tempTextFieldValues.driverUsername != \"\" || _this3.tempTextFieldValues.vehicleID != \"\" || _this3.tempTextFieldValues.trailer.length != 0) {\n        let planData = _this3.tripData.tripPlanning;\n        selectedDriverids.push(_this3.tempTextFieldValues.coDriverID);\n        selectedDriverids.push(_this3.tempTextFieldValues.driverID);\n\n        if (_this3.tempTextFieldValues.vehicleID != \"\" && _this3.tempTextFieldValues.vehicleID != undefined) {\n          if (!selectedVehicles.includes(_this3.tempTextFieldValues.vehicleID)) {\n            selectedVehicles.push(_this3.tempTextFieldValues.vehicleID);\n          }\n        }\n\n        for (let i = 0; i < planData.length; i++) {\n          _this3.tripData.tripPlanning[i].coDriverID = _this3.tempTextFieldValues.coDriverID;\n          _this3.tripData.tripPlanning[i].driverID = _this3.tempTextFieldValues.driverID;\n          _this3.tripData.tripPlanning[i].codriverUsername = _this3.tempTextFieldValues.coDriverUsername;\n          _this3.tripData.tripPlanning[i].driverUsername = _this3.tempTextFieldValues.driverUsername;\n          _this3.tripData.tripPlanning[i].vehicleID = _this3.tempTextFieldValues.vehicleID;\n          _this3.tripData.tripPlanning[i].assetID = [];\n\n          for (let j = 0; j < _this3.tempTextFieldValues.trailer.length; j++) {\n            const element2 = _this3.tempTextFieldValues.trailer[j];\n\n            _this3.tripData.tripPlanning[i].assetID.push(element2.id);\n\n            if (element2.id != \"\" && element2.id != undefined) {\n              if (!selectedAssets.includes(element2.id)) {\n                selectedAssets.push(element2.id);\n              }\n            }\n          }\n        }\n\n        _this3.tripData.driverIDs = yield selectedDriverids;\n        _this3.tripData.vehicleIDs = yield selectedVehicles;\n        _this3.tripData.assetIDs = yield selectedAssets;\n        _this3.tripData.tripStatus = \"dispatched\";\n\n        _this3.apiService.putData(\"trips\", _this3.tripData).subscribe({\n          complete: () => {},\n          error: err => {\n            from(err.error).pipe(map(val => {\n              // We Can Use This Method\n              const key = val.message.match(/\"([^']+)\"/)[1];\n              val.message = val.message.replace(/\".*\"/, \"This Field\");\n              _this3.errors[key] = val.message;\n            })).subscribe({\n              complete: () => {\n                _this3.spinner.hide();\n\n                _this3.throwErrors();\n              },\n              error: () => {},\n              next: () => {}\n            });\n          },\n          next: res => {\n            _this3.spinner.hide();\n\n            _this3.response = res;\n            _this3.tempTrips[_this3.tempIndex].btnHeading = \"Dispatched\";\n            _this3.tempTrips[_this3.tempIndex].showModal = false;\n            _this3.tempTrips[_this3.tempIndex].tripStatus = \"dispatched\";\n\n            _this3.tripModalRef.close();\n\n            _this3.toastr.success(\"Dispatch done successfully\");\n\n            _this3.tempIndex = \"\";\n          }\n        });\n      } else {\n        _this3.tripModalRef.close();\n\n        return false;\n      }\n    })();\n  }\n\n  showAssignModal(tripID, index) {\n    this.tempIndex = index;\n    this.emptyAssetModalFields();\n    this.spinner.show();\n    this.OrderIDs = [];\n    this.apiService.getData(\"trips/planner/data/\" + tripID).subscribe(result => {\n      result = result.Items[0]; // delete result.timeCreated;\n\n      delete result.timeModified;\n      delete result._type;\n\n      if (result.documents == undefined) {\n        result.documents = [];\n      }\n\n      delete result.tripSK;\n      delete result.isDelActiveSK;\n      this.tripData = result;\n      this.OrderIDs = this.tripData[\"orderId\"];\n      this.tripData[\"oldOrdr\"] = this.tripData[\"orderId\"];\n\n      if (this.tripData.tripPlanning.length === 0) {\n        this.toastr.error(\"The trip plan for the selected trip is empty. Please create one to assign.\");\n        this.spinner.hide();\n        return false;\n      }\n\n      if (this.tripData.tripStatus === \"pending\" || this.tripData.tripStatus === \"confirmed\") {\n        this.openTripAssignModel();\n        this.spinner.hide();\n      } else {\n        this.toastr.error(\"Dispatch is already done. Please refer edit trip to make other changes\");\n        this.spinner.hide();\n      }\n    });\n  }\n\n  fetchTrips() {\n    const tripResponse = this.apiService.getData(\"trips/status/confirmed\");\n    const orderResponse = this.apiService.getData(\"orders\");\n    forkJoin([tripResponse, orderResponse]).subscribe(value => {\n      this.orderTripValues(value);\n    });\n  }\n\n  throwErrors() {\n    this.form.showErrors(this.errors);\n  }\n\n  getTripsData(tempTrips) {\n    for (let i = 0; i < tempTrips.length; i++) {\n      const element = tempTrips[i];\n      let pickup;\n      let drop;\n\n      if (element.tripPlan.length > 0) {\n        pickup = element.tripPlan[0].location;\n        element.pickupLocation = pickup; // element.date = element.date;\n\n        element.time = element.tripPlan[0].pickupTime;\n\n        if (element.tripPlan.length >= 2) {\n          let lastloc = element.tripPlan.length - 1;\n          drop = element.tripPlan[lastloc].location;\n          element.deliveryLocation = drop;\n        }\n      }\n    }\n  }\n\n  orderTripValues(val) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.allTrips = val[0].Items.length > 0 ? val[0].Items : [];\n      let fetchedTrip = val[0];\n      let fetchedOrder = val[1];\n\n      for (let i = 0; i < fetchedTrip.Items.length; i++) {\n        let element = fetchedTrip.Items[i];\n\n        if (element.isDeleted == 0) {\n          let tripDate = element.dateCreated;\n\n          if (tripDate != \"\" && tripDate != undefined) {\n            tripDate = moment(tripDate, \"YYYY-MM-DD\").format(\"DD-MM-YYYY\");\n          }\n\n          let btnHeading = \"\";\n          let showModal = false;\n\n          if (element.tripStatus === \"confirmed\") {\n            if (element.driverIDs.length > 0 || element.assetIDs.length > 0 || element.vehicleIDs.length > 0) {\n              btnHeading = \"Dispatch\";\n              showModal = false;\n            } else {\n              btnHeading = \"Assign and dispatch\";\n              showModal = true;\n            }\n          } else {\n            showModal = false;\n            btnHeading = \"Dispatched\";\n          }\n\n          let tripObj = {\n            pickupLocation: \"\",\n            deliveryLocation: \"\",\n            tripID: element.tripID,\n            tripNo: element.tripNo,\n            tripStatus: element.tripStatus,\n            date: tripDate,\n            time: \"-\",\n            tripPlan: element.tripPlanning,\n            orders: element.orderId,\n            customersArr: [],\n            documents: element.documents,\n            btnHeading: btnHeading,\n            showModal: showModal\n          };\n\n          for (let k = 0; k < element.orderId.length; k++) {\n            const element1 = element.orderId[k];\n            fetchedOrder.Items.map(function (obj) {\n              if (obj.orderID == element1) {\n                let cusObj = {\n                  customerId: obj.customerID,\n                  name: \"\",\n                  icon: \"\"\n                };\n                tripObj.customersArr.push(cusObj); //for unique customer-id in array\n\n                tripObj.customersArr = _.uniq(tripObj.customersArr);\n              }\n            });\n          }\n\n          _this4.tempTrips.push(tripObj);\n        }\n      }\n\n      yield _this4.getTripsData(_this4.tempTrips);\n\n      _this4.assignCompanyName();\n    })();\n  }\n  /*\r\n   * Get all customers\r\n   */\n\n\n  fetchCustomers() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this5.apiService.getData(\"contacts/get/calendar/customers\").toPromise();\n      _this5.allCustomers = result;\n    })();\n  }\n\n  assignCompanyName() {\n    for (let p = 0; p < this.tempTrips.length; p++) {\n      const element = this.tempTrips[p];\n\n      if (element.customersArr.length > 0) {\n        for (let w = 0; w < element.customersArr.length; w++) {\n          const elementp = element.customersArr[w];\n          this.allCustomers.map(function (obj) {\n            if (obj.id == elementp.customerId) {\n              elementp.name = obj.companyName;\n              elementp.icon = obj.companyLogo;\n            }\n          });\n        }\n      }\n    }\n\n    this.oldTrips = this.tempTrips;\n  }\n\n  filterTrip(tripID) {\n    this.tempTrips = this.oldTrips;\n\n    if (tripID != undefined) {\n      this.tempTrips = this.tempTrips.filter(v => {\n        if (v.tripID == tripID) {\n          return v;\n        }\n      });\n    }\n  }\n\n  updateTripStatus(tripID, index, tripStatus) {\n    var _this6 = this;\n\n    if (tripStatus == \"dispatched\") {\n      return false;\n    } else {\n      let tripObj = {\n        entryID: tripID,\n        status: \"dispatched\"\n      };\n      this.apiService.postData(\"trips/updateStatus\", tripObj).subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (result) {\n          if (result) {\n            _this6.tempTrips[index].btnHeading = \"Dispatched\";\n            _this6.tempTrips[index].showModal = false;\n            _this6.tempTrips[index].tripStatus = \"dispatched\";\n\n            _this6.toastr.success(\"Trip status updated successfully\");\n          } else {\n            _this6.toastr.error(\"Something went wrong. Please try again later after sometime\");\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }\n\n  refreshData() {\n    this.events = [];\n    this.tempTrips = [];\n    this.fetchAllTrips();\n    this.fetchTrips();\n  }\n\n  openManualAsset(modal) {\n    this.tripModalRef.close();\n    let ngbModalOptions = {\n      backdrop: \"static\",\n      keyboard: false,\n      windowClass: \"asset-manual__main\",\n      backdropClass: \"light-blue-backdrop\"\n    };\n    this.manualAssetRef = this.modalService.open(modal, ngbModalOptions);\n  }\n\n  addManualAsset() {\n    this.submitDisabled = true;\n    this.tripModalRef.close();\n    this.apiService.postData(\"assets/addManualAsset\", this.assetData).subscribe({\n      complete: () => {},\n      error: err => {\n        this.submitDisabled = false;\n        from(err.error).pipe(map(val => {\n          this.errors[val.context.label] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.throwErrors();\n          },\n          error: () => {},\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toastr.success(\"Asset added successfully.\");\n        this.assetData = {\n          assetIdentification: \"\",\n          isTemp: true\n        };\n        this.fetchAssets();\n        this.manualAssetRef.close();\n        this.openTripAssignModel();\n      }\n    });\n  }\n\n  openTripAssignModel() {\n    let ngbModalOptions = {\n      backdrop: \"static\",\n      keyboard: false,\n      windowClass: \"planner trips-assign__main\"\n    };\n    this.tripModalRef = this.modalService.open(this.assgnDispatchModel, ngbModalOptions);\n  }\n\n}\n\nCalendarViewComponent.ɵfac = function CalendarViewComponent_Factory(t) {\n  return new (t || CalendarViewComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.HereMapService), i0.ɵɵdirectiveInject(i6.NgbModal));\n};\n\nCalendarViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalendarViewComponent,\n  selectors: [[\"app-calendar-view\"]],\n  viewQuery: function CalendarViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(_c1, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.assgnDispatchModel = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.manAssPlannerModel = _t.first);\n    }\n  },\n  decls: 82,\n  vars: 9,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pt-0\", \"pr-0\"], [1, \"page-header\", \"pr8\", \"pl11\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-6\", \"col-lg-6\", 2, \"font-size\", \"16px\"], [1, \"text-4\", \"font-weight-bold\", \"mt-0\", \"mb-0\", \"text-dark\"], [1, \"col-md-6\", \"col-lg-6\", \"text-right\"], [\"href\", \"javascript:;\", \"data-toggle\", \"tooltip\", \"title\", \"Refresh data\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"modal-with-form\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [\"href\", \"javascript:;\", \"routerLink\", \"/dispatch/trips/add-trip\", 1, \"btn\", \"btn-success\", \"btn-sm\", 2, \"color\", \"white\"], [1, \"fas\", \"fa-plus\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"pt-3\"], [1, \"col-3\"], [\"id\", \"external-trips\"], [1, \"schedule-trips\", \"pt-2\"], [\"name\", \"routeID\", \"placeholder\", \"Search by trip\\n                                                number\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"notrip-dp align-items-center\", 4, \"ngIf\"], [1, \"m-0\", \"p-0\", \"mt-4\", \"pt-2\"], [\"class\", \"mb-2 border\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-9\"], [1, \"row\", \"mt-2\", \"mb-2\"], [1, \"\"], [1, \"row\"], [1, \"col\"], [1, \"back-color-gray\"], [1, \"checkbox\", \"mt-2\", \"pl-3\"], [1, \"font-weight-semibold\"], [\"type\", \"checkbox\", \"value\", \"confirmed\", \"name\", \"confirmed\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"value\", \"dispatched\", \"name\", \"dispatched\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"value\", \"started\", \"name\", \"started\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"value\", \"enroute\", \"name\", \"enroute\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"name\", \"delivered\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"name\", \"tonu\", \"checked\", \"true\", 3, \"change\"], [\"type\", \"checkbox\", \"name\", \"cancelled\", \"checked\", \"true\", 3, \"change\"], [\"id\", \"calendar-wrap\", 1, \"col-12\"], [\"defaultView\", \"dayGridMonth\", \"deepChangeDetection\", \"true\", 3, \"plugins\", \"weekends\", \"nowIndicator\", \"events\", \"header\"], [\"assgnDispatchModel\", \"\"], [\"manAssPlannerModel\", \"\"], [3, \"value\"], [1, \"notrip-dp\", \"align-items-center\"], [\"src\", \"assets/img/notrip.png\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"font-weight-bold\", \"text-center\"], [\"href\", \"javascript:;\", \"routerLink\", \"/dispatch/trips/add-trip\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"mx-2\", \"mt-2\", 2, \"color\", \"white\"], [1, \"mb-2\", \"border\"], [1, \"fc-event-main\"], [1, \"mb-2\", \"font-weight-bold\", \"mt-0\", \"border-bottom\", \"h5height\", \"pb-2\"], [\"class\", \"d-inline-block\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", \"class\", \"pull-right modal-with-form btn btn-success btn-sm\", 3, \"click\", 4, \"ngIf\"], [1, \"mb-1\"], [\"class\", \"mb-1\", 4, \"ngIf\", \"ngIfElse\"], [\"locBlock\", \"\"], [1, \"m-0\"], [1, \"fas\", \"fa-clock\", \"border-top\"], [1, \"d-inline-block\"], [1, \"name-short\"], [\"href\", \"javascript:;\", 1, \"pull-right\", \"modal-with-form\", \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"modal-dialog\", \"modal-lg\", \"m-0\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"close\", 3, \"click\"], [1, \"modal-body\", \"text-capitalize\"], [1, \"trip-search__main\"], [1, \"table\", \"table-bordered\", \"table-responsive-lg\", \"table-striped\", \"mb-0\"], [\"width\", \"25%\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [\"bindLabel\", \"vehicleIdentification\", \"bindValue\", \"vehicleID\", \"name\", \"assetDataVehicleID\", \"id\", \"vehicleSelect\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [\"name\", \"informationAsset\", \"id\", \"informationAsset\", \"bindLabel\", \"assetIdentification\", \"bindValue\", \"assetID\", 3, \"ngModel\", \"items\", \"multiple\", \"ngModelChange\", \"change\"], [\"name\", \"assetDataDriverUsername\", \"id\", \"driverSelect\", \"bindLabel\", \"fullName\", \"bindValue\", \"userName\", 3, \"ngModel\", \"items\", \"ngModelChange\", \"change\"], [\"name\", \"assetDataCoDriverUsername\", \"id\", \"coDriverSelect\", \"bindLabel\", \"fullName\", \"bindValue\", \"userName\", 3, \"ngModel\", \"items\", \"ngModelChange\", \"change\"], [\"data-select2-id\", \"279\", 1, \"card-body\", \"text-dark\", \"table-scroll-y\", \"p-0\", \"scrolling-div\"], [\"data-select2-id\", \"278\", 1, \"table\", \"table-bordered\", \"table-responsive-lg\", \"table-striped\", \"mb-0\"], [1, \"assign--trips__scroll\", \"trips-vehicle__listing\"], [1, \"w-100\"], [4, \"ngFor\", \"ngForOf\"], [1, \"assign--trips__scroll\", \"trips-assets__listing\"], [1, \"assign--trips__scroll\", \"trips-drivers__listing\"], [1, \"assign--trips__scroll\", \"trips-codrivers__listing\"], [1, \"modal-footer\", \"card-footer\"], [1, \"col-md-12\", \"text-right\"], [\"data-dismiss\", \"modal\", 1, \"btn\", \"btn-default\", \"modal-dismiss\", \"mr-2\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"vehicleClass\", 3, \"id\", \"click\"], [1, \"mb-1\", \"font-weight-bold\", \"text-dark\"], [\"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"\", \"data-original-title\", \"Vehicle\", 1, \"fas\", \"fa-truck-moving\"], [1, \"assetClass\", 3, \"id\", \"click\"], [1, \"driverClass\", 3, \"id\", \"click\"], [1, \"codriverClass\", 3, \"id\", \"click\"], [1, \"font-weight-bold\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [1, \"far\", \"fa-window-close\", \"modal-dismiss\", 2, \"font-size\", \"25px\"], [\"method\", \"get\", \"name\", \"form\", \"id\", \"form_\", \"novalidate\", \"\", \"ngNativeValidate\", \"\", 1, \"form-horizontal\", \"form-bordered\", 3, \"ngSubmit\"], [\"ManualAssetF\", \"ngForm\"], [1, \"modal-body\", \"text-dark\"], [1, \"manual-asset__main\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"type\", \"text\", \"name\", \"assetIdentification\", \"maxlength\", \"20\", \"placeholder\", \"eg. Box asset\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"assetName\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"modal-footer\"], [1, \"btn\", \"btn-default\", \"mr-2\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [1, \"text-danger\"], [4, \"ngIf\"]],\n  template: function CalendarViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"h4\", 7);\n      i0.ɵɵtext(8, \" Planner \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8);\n      i0.ɵɵelementStart(10, \"a\", 9);\n      i0.ɵɵlistener(\"click\", function CalendarViewComponent_Template_a_click_10_listener() {\n        return ctx.refreshData();\n      });\n      i0.ɵɵelement(11, \"i\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"a\", 11);\n      i0.ɵɵelement(13, \"i\", 12);\n      i0.ɵɵtext(14, \" Add Trip\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"section\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 19);\n      i0.ɵɵelementStart(22, \"div\", 20);\n      i0.ɵɵelementStart(23, \"ng-select\", 21);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_ng_select_change_23_listener($event) {\n        return ctx.filterTrip($event);\n      });\n      i0.ɵɵtemplate(24, CalendarViewComponent_ng_option_24_Template, 2, 2, \"ng-option\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, CalendarViewComponent_div_25_Template, 9, 0, \"div\", 23);\n      i0.ɵɵelementStart(26, \"ul\", 24);\n      i0.ɵɵtemplate(27, CalendarViewComponent_li_27_Template, 19, 9, \"li\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 26);\n      i0.ɵɵelementStart(29, \"div\", 27);\n      i0.ɵɵelementStart(30, \"div\", 15);\n      i0.ɵɵelementStart(31, \"div\", 28);\n      i0.ɵɵelementStart(32, \"div\", 29);\n      i0.ɵɵelementStart(33, \"div\", 30);\n      i0.ɵɵelementStart(34, \"div\", 31);\n      i0.ɵɵelementStart(35, \"div\", 32);\n      i0.ɵɵelementStart(36, \"label\", 33);\n      i0.ɵɵelementStart(37, \"input\", 34);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_37_listener($event) {\n        return ctx.getStatus($event.target.checked, \"confirmed\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \" Confirmed \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 30);\n      i0.ɵɵelementStart(40, \"div\", 31);\n      i0.ɵɵelementStart(41, \"div\", 32);\n      i0.ɵɵelementStart(42, \"label\", 33);\n      i0.ɵɵelementStart(43, \"input\", 35);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_43_listener($event) {\n        return ctx.getStatus($event.target.checked, \"dispatched\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(44, \" Dispatched \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 30);\n      i0.ɵɵelementStart(46, \"div\", 31);\n      i0.ɵɵelementStart(47, \"div\", 32);\n      i0.ɵɵelementStart(48, \"label\", 33);\n      i0.ɵɵelementStart(49, \"input\", 36);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_49_listener($event) {\n        return ctx.getStatus($event.target.checked, \"started\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(50, \" Started \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 30);\n      i0.ɵɵelementStart(52, \"div\", 31);\n      i0.ɵɵelementStart(53, \"div\", 32);\n      i0.ɵɵelementStart(54, \"label\", 33);\n      i0.ɵɵelementStart(55, \"input\", 37);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_55_listener($event) {\n        return ctx.getStatus($event.target.checked, \"enroute\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \" En-Route \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 30);\n      i0.ɵɵelementStart(58, \"div\", 31);\n      i0.ɵɵelementStart(59, \"div\", 32);\n      i0.ɵɵelementStart(60, \"label\", 33);\n      i0.ɵɵelementStart(61, \"input\", 38);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_61_listener($event) {\n        return ctx.getStatus($event.target.checked, \"delivered\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \" Delivered \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 30);\n      i0.ɵɵelementStart(64, \"div\", 31);\n      i0.ɵɵelementStart(65, \"div\", 32);\n      i0.ɵɵelementStart(66, \"label\", 33);\n      i0.ɵɵelementStart(67, \"input\", 39);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_67_listener($event) {\n        return ctx.getStatus($event.target.checked, \"tonu\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(68, \" TONU \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"div\", 30);\n      i0.ɵɵelementStart(70, \"div\", 31);\n      i0.ɵɵelementStart(71, \"div\", 32);\n      i0.ɵɵelementStart(72, \"label\", 33);\n      i0.ɵɵelementStart(73, \"input\", 40);\n      i0.ɵɵlistener(\"change\", function CalendarViewComponent_Template_input_change_73_listener($event) {\n        return ctx.getStatus($event.target.checked, \"cancelled\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \" Cancelled \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"div\", 29);\n      i0.ɵɵelementStart(76, \"div\", 41);\n      i0.ɵɵelement(77, \"full-calendar\", 42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(78, CalendarViewComponent_ng_template_78_Template, 66, 13, \"ng-template\", null, 43, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(80, CalendarViewComponent_ng_template_80_Template, 24, 6, \"ng-template\", null, 44, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allTrips);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.tempTrips.length == 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tempTrips);\n      i0.ɵɵadvance(50);\n      i0.ɵɵproperty(\"plugins\", ctx.calendarPlugins)(\"weekends\", true)(\"nowIndicator\", true)(\"events\", ctx.events)(\"header\", i0.ɵɵpureFunction0(8, _c3));\n    }\n  },\n  directives: [i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i4.RouterLinkWithHref, i8.NgSelectComponent, i9.NgForOf, i9.NgIf, i10.FullCalendarComponent, i8.ɵr, i7.NgControlStatus, i7.NgModel, i7.DefaultValueAccessor, i7.MaxLengthValidator, i7.RequiredValidator, i9.NgClass],\n  styles: [\".notrip-dp[_ngcontent-%COMP%] {\\r\\n    height: 800px;\\r\\n    border: solid 4px #e5e5e5;\\r\\n    width: 100%;\\r\\n    display: block;\\r\\n    justify-content: center;\\r\\n}\\r\\n.notrip-dp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: auto;\\r\\n    display: block;\\r\\n    margin: auto;\\r\\n    margin-top: 300px;\\r\\n    opacity: 0.2;\\r\\n}\\r\\n.h5height[_ngcontent-%COMP%]{\\r\\n    min-height: 43px;\\r\\n}\\r\\n.assign--trips__scroll[_ngcontent-%COMP%] {\\r\\n    max-height: 650px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n}\", \".schedule-trips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    max-height: calc(100vh - 175px);\\n    overflow-x: auto;\\n  }\\n\\n  \\n  canvas[_ngcontent-%COMP%] {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n  }\\n\\n  .td_border[_ngcontent-%COMP%] {\\n    border: 2px solid black !important;\\n  }\"]\n});","map":null,"metadata":{},"sourceType":"module"}