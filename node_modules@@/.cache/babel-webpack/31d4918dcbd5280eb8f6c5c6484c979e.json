{"ast":null,"code":"import { map } from \"rxjs/operators\";\nimport { from } from \"rxjs\";\nimport * as moment from \"moment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/platform-browser\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@ng-select/ng-select\";\n\nfunction AddJournalComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Journal date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddJournalComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtemplate(1, AddJournalComponent_div_30_div_1_Template, 2, 0, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(29);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors.required);\n  }\n}\n\nfunction AddJournalComponent_div_44_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Currency is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddJournalComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtemplate(1, AddJournalComponent_div_44_div_1_Template, 2, 0, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(39);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\n\nfunction AddJournalComponent_div_49_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 76);\n    i0.ɵɵelementStart(2, \"a\", 77);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_div_49_div_8_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const item_r15 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.setPDFSrc(item_r15.path);\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 78);\n    i0.ɵɵelementStart(5, \"i\", 79);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_div_49_div_8_Template_i_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const item_r15 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.setPDFSrc(item_r15.path);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 80);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_div_49_div_8_Template_a_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const item_r15 = restoredCtx.$implicit;\n      const d_r16 = restoredCtx.index;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.deleteDocument(item_r15.name, d_r16);\n    });\n    i0.ɵɵelement(7, \"i\", 81);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const d_r16 = ctx.index;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Document \", d_r16 + 1, \"\");\n  }\n}\n\nfunction AddJournalComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"div\", 72);\n    i0.ɵɵelementStart(3, \"div\", 71);\n    i0.ɵɵelementStart(4, \"div\", 17);\n    i0.ɵɵelementStart(5, \"label\", 73);\n    i0.ɵɵtext(6, \"Uploaded Document(s)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"hr\", 74);\n    i0.ɵɵtemplate(8, AddJournalComponent_div_49_div_8_Template, 8, 1, \"div\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.documentSlides);\n  }\n}\n\nfunction AddJournalComponent_div_62_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Only 500 characters are allowed. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddJournalComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtemplate(1, AddJournalComponent_div_62_div_1_Template, 2, 0, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r7 = i0.ɵɵreference(61);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors.pattern);\n  }\n}\n\nfunction AddJournalComponent_tr_88_ng_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 89);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r29 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r29.actID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", item_r29.actNo, \" - \", i0.ɵɵpipeBind1(2, 3, item_r29.actName), \"\");\n  }\n}\n\nfunction AddJournalComponent_tr_88_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Account is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddJournalComponent_tr_88_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtemplate(1, AddJournalComponent_tr_88_div_6_div_1_Template, 2, 0, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r24 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r24.errors.required);\n  }\n}\n\nfunction AddJournalComponent_tr_88_ng_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 89);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r31 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r31.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r31.companyName);\n  }\n}\n\nfunction AddJournalComponent_tr_88_a_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 90);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_tr_88_a_17_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const i_r23 = i0.ɵɵnextContext().index;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.deleteDetail(i_r23);\n    });\n    i0.ɵɵelement(1, \"i\", 91);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddJournalComponent_tr_88_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"ng-select\", 82, 83);\n    i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_tr_88_Template_ng_select_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const data_r22 = restoredCtx.$implicit;\n      return data_r22.accountID = $event;\n    })(\"change\", function AddJournalComponent_tr_88_Template_ng_select_change_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const i_r23 = restoredCtx.index;\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.checkSelectedAccount($event, i_r23);\n    });\n    i0.ɵɵtemplate(4, AddJournalComponent_tr_88_ng_option_4_Template, 3, 5, \"ng-option\", 84);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AddJournalComponent_tr_88_div_6_Template, 2, 1, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"textarea\", 85);\n    i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_tr_88_Template_textarea_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const data_r22 = restoredCtx.$implicit;\n      return data_r22.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"ng-select\", 86);\n    i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_tr_88_Template_ng_select_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const data_r22 = restoredCtx.$implicit;\n      return data_r22.contactID = $event;\n    });\n    i0.ɵɵtemplate(11, AddJournalComponent_tr_88_ng_option_11_Template, 2, 2, \"ng-option\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵelementStart(13, \"input\", 87);\n    i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_tr_88_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const data_r22 = restoredCtx.$implicit;\n      return data_r22.debit = $event;\n    })(\"input\", function AddJournalComponent_tr_88_Template_input_input_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const i_r23 = restoredCtx.index;\n      const ctx_r41 = i0.ɵɵnextContext();\n      ctx_r41.calculateTotal();\n      return ctx_r41.disableOtherField(\"debit\", i_r23);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"input\", 87);\n    i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_tr_88_Template_input_ngModelChange_15_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const data_r22 = restoredCtx.$implicit;\n      return data_r22.credit = $event;\n    })(\"input\", function AddJournalComponent_tr_88_Template_input_input_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const i_r23 = restoredCtx.index;\n      const ctx_r43 = i0.ɵɵnextContext();\n      ctx_r43.calculateTotal();\n      return ctx_r43.disableOtherField(\"credit\", i_r23);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtemplate(17, AddJournalComponent_tr_88_a_17_Template, 2, 0, \"a\", 88);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r22 = ctx.$implicit;\n    const i_r23 = ctx.index;\n\n    const _r24 = i0.ɵɵreference(3);\n\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"accountID\", i_r23, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r22.accountID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(5, 18, ctx_r9.accounts));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r24.invalid && (_r24.dirty || _r24.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"description\", i_r23, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r22.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"currency\", i_r23, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r22.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.contacts);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"debit\", i_r23, \"\");\n    i0.ɵɵpropertyInterpolate1(\"id\", \"debitID\", i_r23, \"\");\n    i0.ɵɵproperty(\"disabled\", data_r22.debitDisabled)(\"ngModel\", data_r22.debit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"credit\", i_r23, \"\");\n    i0.ɵɵpropertyInterpolate1(\"id\", \"creditID\", i_r23, \"\");\n    i0.ɵɵproperty(\"disabled\", data_r22.creditDisabled)(\"ngModel\", data_r22.credit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i_r23 > 1);\n  }\n}\n\nfunction AddJournalComponent_button_117_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_button_117_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.addJournal();\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r10.submitDisabled);\n  }\n}\n\nfunction AddJournalComponent_button_118_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function AddJournalComponent_button_118_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.updateJournal();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r11.submitDisabled);\n  }\n}\n\nexport class AddJournalComponent {\n  constructor(listService, route, location, router, toaster, accountService, apiService, domSanitizer) {\n    this.listService = listService;\n    this.route = route;\n    this.location = location;\n    this.router = router;\n    this.toaster = toaster;\n    this.accountService = accountService;\n    this.apiService = apiService;\n    this.domSanitizer = domSanitizer;\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.journal = {\n      jrNo: null,\n      txnDate: moment().format(\"YYYY-MM-DD\"),\n      referenceNo: \"\",\n      currency: null,\n      notes: \"\",\n      details: [{\n        accountID: null,\n        description: \"\",\n        contactID: null,\n        debit: 0,\n        credit: 0,\n        creditDisabled: false,\n        debitDisabled: false\n      }, {\n        accountID: null,\n        description: \"\",\n        contactID: null,\n        debit: 0,\n        credit: 0,\n        creditDisabled: false,\n        debitDisabled: false\n      }],\n      debitTotalAmount: 0,\n      creditTotalAmount: 0,\n      attachments: [],\n      transactionLog: []\n    };\n    this.difference = 0;\n    this.accounts = [];\n    this.contacts = [];\n    this.errors = {};\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = \"\";\n    this.Success = \"\";\n    this.submitDisabled = true;\n    this.Asseturl = this.apiService.AssetUrl;\n    this.carrierID = \"\";\n    this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(\"\");\n    this.existingDocs = [];\n    this.documentSlides = [];\n    this.uploadedDocs = [];\n  }\n\n  ngOnInit() {\n    this.journalID = this.route.snapshot.params[\"journalID\"];\n\n    if (this.journalID != undefined) {\n      this.fetchJournalByID();\n      this.submitDisabled = false;\n    }\n\n    this.listService.fetchChartAccounts();\n    this.listService.fetchCustomers(); // this.contacts = this.listService.customersList;\n\n    this.accounts = this.listService.accountsList;\n    let contactList = new Array();\n    this.getValidContacts(contactList);\n    this.contacts = contactList;\n  }\n\n  getValidContacts(contactList) {\n    let ids = [];\n    this.listService.customersList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          contactList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  addMoreDetails() {\n    let obj = {\n      accountID: null,\n      description: \"\",\n      contactID: null,\n      debit: 0,\n      credit: 0,\n      creditDisabled: false,\n      debitDisabled: false\n    };\n    this.journal.details.push(obj);\n  }\n\n  deleteDetail(index) {\n    this.journal.details.splice(index, 1);\n    this.calculateTotal();\n  }\n\n  cancel() {\n    this.location.back(); // <-- go back to previous location on cancel\n  }\n\n  calculateTotal() {\n    this.journal.debitTotalAmount = 0;\n    this.journal.creditTotalAmount = 0;\n    this.difference = 0;\n\n    for (let index = 0; index < this.journal.details.length; index++) {\n      const element = this.journal.details[index];\n      this.journal.debitTotalAmount += Number(element.debit);\n      this.journal.creditTotalAmount += Number(element.credit);\n    }\n\n    this.difference = Math.abs(this.journal.debitTotalAmount - this.journal.creditTotalAmount);\n\n    if (this.difference === 0) {\n      this.submitDisabled = false;\n    } else {\n      this.submitDisabled = true;\n    }\n  }\n\n  addJournal() {\n    this.submitDisabled = true;\n    this.errors = {};\n    this.hasError = false;\n    this.hasSuccess = false; // create form data instance\n\n    const formData = new FormData(); //append photos if any\n\n    for (let i = 0; i < this.uploadedDocs.length; i++) {\n      formData.append(\"uploadedDocs\", this.uploadedDocs[i]);\n    } //append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.journal));\n    this.accountService.postData(\"journal\", formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Manual journal added successfully.\");\n        this.router.navigateByUrl(\"/accounts/manual-journal/list\");\n      }\n    });\n  }\n\n  fetchJournalByID() {\n    this.accountService.getData(`journal/${this.journalID}`).subscribe(result => {\n      if (result[0] !== undefined) {\n        this.journal = result[0];\n        this.journal.transactionLog = result[0].transactionLog;\n        this.existingDocs = result[0].attachments;\n        this.carrierID = result[0].carrierID;\n        this.journal.details.map((k, index) => {\n          let type = \"\";\n\n          if (k.debit === 0) {\n            type = \"credit\";\n          } else {\n            type = \"debit\";\n          }\n\n          this.disableOtherField(type, index);\n        });\n\n        if (result[0].attachments != undefined && result[0].attachments.length > 0) {\n          result[0].attachments.map(x => {\n            let obj = {\n              name: x,\n              path: `${this.Asseturl}/${result[0].carrierID}/${x}`\n            };\n            this.documentSlides.push(obj);\n          });\n        }\n      }\n    });\n  }\n\n  updateJournal() {\n    this.submitDisabled = true;\n    this.errors = {};\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.journal.attachments = this.existingDocs; // create form data instance\n\n    const formData = new FormData(); // append photos if any\n\n    for (let i = 0; i < this.uploadedDocs.length; i++) {\n      formData.append(\"uploadedDocs\", this.uploadedDocs[i]);\n    } // append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.journal));\n    this.accountService.putData(`journal/${this.journalID}`, formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Manual journal updated successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  fetchAccounts() {\n    this.accountService.getData(`chartAc/fetch/list`).subscribe(result => {\n      if (result[0] != undefined) {\n        this.accounts = result;\n      }\n    });\n  }\n\n  checkSelectedAccount(accountID, selectedIndex) {\n    let prevAccounts = [];\n    this.journal.details.map((element, index) => {\n      if (selectedIndex !== index && element.accountID !== null) {\n        prevAccounts.push(element.accountID);\n      }\n\n      return true;\n    });\n\n    if (prevAccounts.includes(accountID)) {\n      setTimeout(() => {\n        this.journal.details[selectedIndex].accountID = null;\n      });\n      this.toaster.error(\"This bank account is already selected.\");\n      return false;\n    }\n  }\n\n  setPDFSrc(val) {\n    let pieces = val.split(/[\\s.]+/);\n    let ext = pieces[pieces.length - 1];\n    this.pdfSrc = \"\";\n\n    if (ext == \"doc\" || ext == \"docx\" || ext == \"xlsx\") {\n      this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(\"https://docs.google.com/viewer?url=\" + val + \"&embedded=true\");\n    } else {\n      this.pdfSrc = this.domSanitizer.bypassSecurityTrustResourceUrl(val);\n    }\n  }\n\n  deleteDocument(name, index) {\n    this.accountService.deleteData(`journal/uploadDelete/${this.journalID}/${name}`).subscribe(result => {\n      this.existingDocs.splice(index, 1);\n      this.documentSlides.splice(index, 1);\n      this.toaster.success(\"Attachment deleted successfully.\");\n    });\n  }\n  /*\r\n   * Selecting files before uploading\r\n   */\n\n\n  selectDocuments(event) {\n    let files = [...event.target.files];\n\n    for (let i = 0; i < files.length; i++) {\n      this.uploadedDocs.push(files[i]);\n    }\n  }\n\n  disableOtherField(type, index) {\n    if (type === \"debit\") {\n      if (this.journal.details[index].debit > 0) {\n        this.journal.details[index].credit = 0;\n        this.journal.details[index].creditDisabled = true;\n      } else {\n        this.journal.details[index].creditDisabled = false;\n      }\n    } else if (type === \"credit\") {\n      if (this.journal.details[index].credit > 0) {\n        this.journal.details[index].debit = 0;\n        this.journal.details[index].debitDisabled = true;\n      } else {\n        this.journal.details[index].debitDisabled = false;\n      }\n    }\n  }\n\n}\n\nAddJournalComponent.ɵfac = function AddJournalComponent_Factory(t) {\n  return new (t || AddJournalComponent)(i0.ɵɵdirectiveInject(i1.ListService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i5.DomSanitizer));\n};\n\nAddJournalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddJournalComponent,\n  selectors: [[\"app-add-journal\"]],\n  decls: 136,\n  vars: 17,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\", \"pr19\", \"pl7\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"text-4\", \"mt-0\", \"mb-0\", \"font-weight-bold\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-1\"], [\"routerLink\", \"/accounts/manual-journal/list\", 1, \"btn\", \"btn-sm\", \"btn-default\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [\"method\", \"get\", 1, \"form-horizontal\", \"form-bordered\"], [\"journalForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"col-lg-6\"], [1, \"row\"], [1, \"col-lg-10\"], [1, \"control-label\", \"font-weight-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"name\", \"txnDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"custexp\", \"ngbDatepicker\", \"jDate\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"row\", \"pt-2\"], [1, \"col-lg-5\"], [\"name\", \"currency\", \"placeholder\", \"Select currency\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"curr\", \"ngModel\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [\"type\", \"file\", \"multiple\", \"\", 1, \"p-0\", \"border-0\", \"form-control\", 3, \"change\"], [\"class\", \"row mt-2\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"referenceNo\", \"placeholder\", \"Enter Unique Reference Number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"3\", \"name\", \"notes\", \"placeholder\", \"Enter notes of the manual journal\", \"pattern\", \"^[\\\\s\\\\S]{1,500}$\", 1, \"form-control\", \"h-auto\", 3, \"ngModel\", \"ngModelChange\"], [\"Nmanual\", \"ngModel\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"col-lg-11\"], [1, \"pt-2\"], [1, \"table\", \"table-bordered\"], [\"width\", \"30%\"], [\"width\", \"20%\"], [\"width\", \"15%\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"col-lg-4\", \"offset-lg-8\"], [1, \"col-lg-4\", \"pt-1\", \"bordtop\"], [1, \"font-weight-semibold\", \"text-4\", \"text-dark\"], [1, \"col-lg-4\", \"bordtop\", \"pt-1\"], [1, \"text-left\"], [1, \"text-center\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"text-right\", \"pr-1\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", \"mr-2\", 3, \"click\"], [\"type\", \"submit\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"viewDocModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"viewDocModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"viewDocModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-12\"], [\"title\", \"\", \"width\", \"100%\", \"height\", \"400px\", 3, \"src\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-default\"], [1, \"text-danger\"], [4, \"ngIf\"], [1, \"row\", \"mt-2\"], [1, \"vehicle-common-box\", \"p-3\"], [1, \"control-label\", \"font-weight-bold\", \"text-3\"], [1, \"solid\", \"mt-3\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-9\"], [\"href\", \"javascript:;\", \"data-toggle\", \"modal\", \"data-target\", \"#viewDocModal\", 3, \"click\"], [1, \"col-lg-3\", \"text-right\"], [\"data-toggle\", \"modal\", \"data-target\", \"#viewDocModal\", 1, \"far\", \"fa-file\", \"text-dak\", \"mr-1\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"text-danger\"], [\"placeholder\", \"Select account\", \"required\", \"\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"accID\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"Enter description of the journal\", \"rows\", \"1\", 1, \"form-control\", \"h-auto\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Select contact\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"0.00\", 1, \"form-control\", 3, \"name\", \"id\", \"disabled\", \"ngModel\", \"ngModelChange\", \"input\"], [\"href\", \"javascript:;\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [\"href\", \"javascript:;\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"]],\n  template: function AddJournalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r48 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7, \" Add Journal \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" All Journals\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"form\", 11, 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 19);\n      i0.ɵɵelementStart(22, \"label\", 20);\n      i0.ɵɵtext(23, \"Journal Date\");\n      i0.ɵɵelementStart(24, \"span\", 21);\n      i0.ɵɵelementStart(25, \"sup\");\n      i0.ɵɵtext(26, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.journal.txnDate = $event;\n      })(\"click\", function AddJournalComponent_Template_input_click_27_listener() {\n        i0.ɵɵrestoreView(_r48);\n\n        const _r1 = i0.ɵɵreference(28);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(30, AddJournalComponent_div_30_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 25);\n      i0.ɵɵelementStart(32, \"div\", 26);\n      i0.ɵɵelementStart(33, \"label\", 20);\n      i0.ɵɵtext(34, \"Currency\");\n      i0.ɵɵelementStart(35, \"span\", 21);\n      i0.ɵɵelementStart(36, \"sup\");\n      i0.ɵɵtext(37, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"ng-select\", 27, 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_Template_ng_select_ngModelChange_38_listener($event) {\n        return ctx.journal.currency = $event;\n      });\n      i0.ɵɵelementStart(40, \"ng-option\", 29);\n      i0.ɵɵtext(41, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"ng-option\", 30);\n      i0.ɵɵtext(43, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(44, AddJournalComponent_div_44_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 26);\n      i0.ɵɵelementStart(46, \"label\", 20);\n      i0.ɵɵtext(47, \"Attach Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"input\", 31);\n      i0.ɵɵlistener(\"change\", function AddJournalComponent_Template_input_change_48_listener($event) {\n        return ctx.selectDocuments($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(49, AddJournalComponent_div_49_Template, 9, 1, \"div\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 17);\n      i0.ɵɵelementStart(51, \"div\", 18);\n      i0.ɵɵelementStart(52, \"div\", 19);\n      i0.ɵɵelementStart(53, \"label\", 20);\n      i0.ɵɵtext(54, \" Reference#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"input\", 33);\n      i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_Template_input_ngModelChange_55_listener($event) {\n        return ctx.journal.referenceNo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"div\", 25);\n      i0.ɵɵelementStart(57, \"div\", 19);\n      i0.ɵɵelementStart(58, \"label\", 20);\n      i0.ɵɵtext(59, \"Notes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"textarea\", 34, 35);\n      i0.ɵɵlistener(\"ngModelChange\", function AddJournalComponent_Template_textarea_ngModelChange_60_listener($event) {\n        return ctx.journal.notes = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(62, AddJournalComponent_div_62_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 13);\n      i0.ɵɵelementStart(64, \"div\", 14);\n      i0.ɵɵelementStart(65, \"div\", 15);\n      i0.ɵɵelementStart(66, \"div\", 16);\n      i0.ɵɵelementStart(67, \"div\", 19);\n      i0.ɵɵelementStart(68, \"label\", 36);\n      i0.ɵɵtext(69, \"Journal Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"div\", 37);\n      i0.ɵɵelementStart(71, \"div\", 38);\n      i0.ɵɵelementStart(72, \"table\", 39);\n      i0.ɵɵelementStart(73, \"thead\");\n      i0.ɵɵelementStart(74, \"tr\");\n      i0.ɵɵelementStart(75, \"th\", 40);\n      i0.ɵɵtext(76, \"Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"th\", 41);\n      i0.ɵɵtext(78, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"th\", 41);\n      i0.ɵɵtext(80, \"Contact\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"th\", 42);\n      i0.ɵɵtext(82, \"Debit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"th\", 42);\n      i0.ɵɵtext(84, \"Credit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"th\");\n      i0.ɵɵtext(86, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"tbody\");\n      i0.ɵɵtemplate(88, AddJournalComponent_tr_88_Template, 18, 20, \"tr\", 43);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"a\", 44);\n      i0.ɵɵlistener(\"click\", function AddJournalComponent_Template_a_click_89_listener() {\n        return ctx.addMoreDetails();\n      });\n      i0.ɵɵelement(90, \"i\", 45);\n      i0.ɵɵtext(91, \" Add Another Line\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"div\", 18);\n      i0.ɵɵelementStart(93, \"div\", 46);\n      i0.ɵɵelementStart(94, \"div\", 18);\n      i0.ɵɵelementStart(95, \"div\", 47);\n      i0.ɵɵelementStart(96, \"h5\", 48);\n      i0.ɵɵtext(97, \" Total Amount \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"div\", 49);\n      i0.ɵɵelementStart(99, \"p\", 50);\n      i0.ɵɵtext(100);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(101, \"div\", 49);\n      i0.ɵɵelementStart(102, \"p\", 51);\n      i0.ɵɵtext(103);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(104, \"div\", 18);\n      i0.ɵɵelementStart(105, \"div\", 49);\n      i0.ɵɵelementStart(106, \"h5\", 48);\n      i0.ɵɵtext(107, \" Difference \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(108, \"div\", 49);\n      i0.ɵɵelement(109, \"p\", 51);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(110, \"div\", 49);\n      i0.ɵɵelementStart(111, \"p\", 51);\n      i0.ɵɵtext(112);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(113, \"div\", 52);\n      i0.ɵɵelementStart(114, \"div\", 53);\n      i0.ɵɵelementStart(115, \"button\", 54);\n      i0.ɵɵlistener(\"click\", function AddJournalComponent_Template_button_click_115_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(116, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(117, AddJournalComponent_button_117_Template, 2, 1, \"button\", 55);\n      i0.ɵɵtemplate(118, AddJournalComponent_button_118_Template, 2, 1, \"button\", 55);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"div\", 56);\n      i0.ɵɵelementStart(120, \"div\", 57);\n      i0.ɵɵelementStart(121, \"div\", 58);\n      i0.ɵɵelementStart(122, \"div\", 59);\n      i0.ɵɵelementStart(123, \"h5\", 60);\n      i0.ɵɵtext(124, \"View Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(125, \"button\", 61);\n      i0.ɵɵelementStart(126, \"span\", 62);\n      i0.ɵɵtext(127, \"\\u00D7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(128, \"div\", 63);\n      i0.ɵɵelementStart(129, \"div\", 64);\n      i0.ɵɵelementStart(130, \"div\", 65);\n      i0.ɵɵelementStart(131, \"div\");\n      i0.ɵɵelement(132, \"iframe\", 66);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(133, \"div\", 67);\n      i0.ɵɵelementStart(134, \"button\", 68);\n      i0.ɵɵtext(135, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(29);\n\n      const _r4 = i0.ɵɵreference(39);\n\n      const _r7 = i0.ɵɵreference(61);\n\n      i0.ɵɵadvance(27);\n      i0.ɵɵproperty(\"ngModel\", ctx.journal.txnDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.dirty || _r2.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.journal.currency);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.documentSlides.length > 0);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.journal.referenceNo);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.journal.notes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r7.invalid && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngForOf\", ctx.journal.details);\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate1(\" \", ctx.journal.debitTotalAmount, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.journal.creditTotalAmount, \" \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.difference);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.journalID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.journalID);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"src\", ctx.pdfSrc, i0.ɵɵsanitizeResourceUrl);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i3.NgIf, i8.NgSelectComponent, i8.ɵr, i6.PatternValidator, i3.NgForOf, i6.MinValidator, i6.NumberValueAccessor],\n  pipes: [i3.AsyncPipe, i3.TitleCasePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}