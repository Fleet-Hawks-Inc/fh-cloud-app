{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from 'src/app/pages/fleet/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"src/app/services/safety.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"ngx-spinner\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-select/ng-select\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i10 from \"ngx-infinite-scroll\";\n\nfunction EventListComponent_ng_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const vehicle_r4 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", vehicle_r4.vehicleID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(vehicle_r4.vehicleIdentification);\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Motion Detection\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Harsh Acceleration\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Harsh Brake\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"High Speed\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Impact/Tilt\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.location.label);\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"NA\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_ng_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const status_r17 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", status_r17);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(status_r17);\n  }\n}\n\nfunction EventListComponent_tbody_52_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 31);\n    i0.ɵɵelementStart(1, \"td\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 32);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 32);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 32);\n    i0.ɵɵtemplate(9, EventListComponent_tbody_52_tr_1_span_9_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(10, EventListComponent_tbody_52_tr_1_span_10_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(11, EventListComponent_tbody_52_tr_1_span_11_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(12, EventListComponent_tbody_52_tr_1_span_12_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(13, EventListComponent_tbody_52_tr_1_span_13_Template, 2, 0, \"span\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 32);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 32);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 32);\n    i0.ɵɵtemplate(19, EventListComponent_tbody_52_tr_1_span_19_Template, 2, 1, \"span\", 28);\n    i0.ɵɵtemplate(20, EventListComponent_tbody_52_tr_1_span_20_Template, 2, 0, \"span\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 33);\n    i0.ɵɵelementStart(22, \"ng-select\", 34);\n    i0.ɵɵlistener(\"ngModelChange\", function EventListComponent_tbody_52_tr_1_Template_ng_select_ngModelChange_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const data_r6 = restoredCtx.$implicit;\n      const i_r7 = restoredCtx.index;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.changeStatus(data_r6.eventID, $event, i_r7);\n    })(\"ngModelChange\", function EventListComponent_tbody_52_tr_1_Template_ng_select_ngModelChange_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const data_r6 = restoredCtx.$implicit;\n      return data_r6.status = $event;\n    });\n    i0.ɵɵtemplate(23, EventListComponent_tbody_52_tr_1_ng_option_23_Template, 2, 2, \"ng-option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.vehiclesObject[data_r6.vehicleID], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 22, data_r6.eventDate, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r6.eventTime, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.eventType == \"motionDetection\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.eventType == \"harshAcceleration\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.eventType == \"harshBrake\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.eventType == \"highSpeed\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.eventType == \"impactTilt\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r6.eventSource, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.createdBy);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.location.label != undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.location.label === undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", data_r6.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.status_values);\n  }\n}\n\nfunction EventListComponent_tbody_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, EventListComponent_tbody_52_tr_1_Template, 24, 25, \"tr\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.events);\n  }\n}\n\nfunction EventListComponent_tbody_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.dataMessage, \" \");\n  }\n}\n\nexport class EventListComponent {\n  constructor(apiService, safetyService, router, toaster, spinner, hereMapService) {\n    this.apiService = apiService;\n    this.safetyService = safetyService;\n    this.router = router;\n    this.toaster = toaster;\n    this.spinner = spinner;\n    this.hereMapService = hereMapService;\n    this.events = [];\n    this.lastEvaluatedKey = '';\n    this.totalRecords = 20;\n    this.pageLength = 10;\n    this.vehicles = [];\n    this.vehicleID = '';\n    this.filter = {\n      vehicleID: null,\n      date: null\n    };\n    this.suggestions = [];\n    this.vehiclesObject = {};\n    this.driversObject = {};\n    this.drivers = [];\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.status_values = [\"open\", \"investigating\", \"coaching\", \"closed\"];\n    this.lastItemSK = '';\n    const date = new Date();\n    this.birthDateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.birthDateMaxLimit = {\n      year: date.getFullYear(),\n      month: 12,\n      day: 31\n    };\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.fetchEvents();\n\n      _this.fetchVehicles();\n\n      _this.fetchAllVehiclesIDs();\n    })();\n  }\n\n  getLocation(location) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const cords = location.split(',');\n\n        if (cords.length == 2) {\n          const params = {\n            lat: cords[0].trim(),\n            lng: cords[1].trim()\n          };\n          const location = yield _this2.hereMapService.revGeoCode(params);\n\n          if (location && location.items.length > 0) {\n            return location.items[0].title;\n          } else {\n            return 'NA';\n          }\n        } else {\n          return 'NA';\n        }\n      } catch (error) {\n        return 'NA';\n      }\n    })();\n  }\n\n  reverseGeoCode(cords) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      cords = `${cords.lng},${cords.lat}`;\n      let result = yield _this3.apiService.getData(`pcMiles/reverse/${cords}`).toPromise();\n    })();\n  }\n\n  fetchVehicles() {\n    this.apiService.getData('vehicles').subscribe(result => {\n      this.vehicles = result.Items;\n    });\n  }\n\n  searchEvents() {\n    var _this4 = this;\n\n    this.dataMessage = Constants.FETCHING_DATA;\n\n    if (this.filter.date == '') {\n      this.filter.date = 'null';\n    }\n\n    this.safetyService.getData(`critical-events/paging?vehicleID=${this.filter.vehicleID}&date=${this.filter.date}`).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (result) {\n        if (result.length == 0) {\n          _this4.dataMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        _this4.events = result;\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  fetchEvents(refresh) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      if (refresh === true) {\n        _this5.lastItemSK = '';\n        _this5.events = [];\n      }\n\n      if (_this5.lastItemSK !== 'end') {\n        _this5.safetyService.getData(`critical-events?lastKey=${_this5.lastItemSK}`).subscribe( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator(function* (result) {\n            if (result.length === 0) {\n              _this5.dataMessage = Constants.NO_RECORDS_FOUND;\n            }\n\n            result.map(v => {\n              v.url = `/safety/critical-events/event-details/${v.eventID}`;\n            });\n\n            if (result.length > 0) {\n              for (let index = 0; index < result.length; index++) {\n                const element = result[index];\n\n                _this5.events.push(element);\n              }\n\n              if (_this5.events[_this5.events.length - 1].sk !== undefined) {\n                _this5.lastItemSK = encodeURIComponent(_this5.events[_this5.events.length - 1].sk);\n              } else {\n                _this5.lastItemSK = 'end';\n              }\n            }\n          });\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }\n    })();\n  }\n\n  changeStatus(eventID, newValue, i) {\n    var _this6 = this;\n\n    let data = {\n      eventID: eventID,\n      status: newValue\n    };\n    this.safetyService.putData('critical-events', data).subscribe( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (res) {\n        if (res.status == false) {\n          _this6.events[i].status = res.oldStatus;\n\n          _this6.toaster.error('Please select valid status');\n        } else {\n          _this6.toaster.success('Status updated successfully');\n        }\n      });\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  }\n\n  resetFilter() {\n    if (this.filter.date != '' || this.filter.vehicleID != '' || this.filter.vehicleID != null) {\n      this.lastItemSK = '';\n      this.events = [];\n      this.fetchEvents();\n      this.filter = {\n        vehicleID: null,\n        date: ''\n      };\n    } else {\n      return false;\n    }\n  }\n\n  fetchAllVehiclesIDs() {\n    this.apiService.getData('vehicles/get/list').subscribe(result => {\n      this.vehiclesObject = result;\n    });\n  }\n\n  convertTimeFormat(time) {\n    // Check correct time format and split into components\n    time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n    if (time.length > 1) {\n      // If time format correct\n      time = time.slice(1); // Remove full string match value\n\n      time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM\n\n      time[0] = +time[0] % 12 || 12; // Adjust hours\n    }\n\n    return time.join(''); // return adjusted time or original string\n  }\n\n  onScroll() {\n    this.fetchEvents();\n  }\n\n  refreshData() {\n    this.lastItemSK = '';\n    this.events = [];\n    this.fetchEvents();\n    this.filter = {\n      vehicleID: null,\n      date: ''\n    };\n  }\n\n}\n\nEventListComponent.ɵfac = function EventListComponent_Factory(t) {\n  return new (t || EventListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.SafetyService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.NgxSpinnerService), i0.ɵɵdirectiveInject(i1.HereMapService));\n};\n\nEventListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EventListComponent,\n  selectors: [[\"app-event-list\"]],\n  decls: 54,\n  vars: 10,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pr-0\", \"pt-0\", \"pl-0\"], [1, \"page-header\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-2\", \"col-lg-2\"], [\"name\", \"vehicleID\", \"placeholder\", \"Search by Vehicle\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group\", \"input-group-sm\", \"mb-3\"], [\"name\", \"date\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"maxDate\", \"minDate\", \"ngModelChange\", \"click\"], [\"from\", \"ngbDatepicker\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-3\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", \"btn-sm\", 2, \"color\", \"white\", 3, \"click\"], [1, \"col-md-6\", \"col-lg-6\", \"pr-1\", \"text-right\"], [\"href\", \"javascript:;\", \"data-toggle\", \"tooltip\", \"title\", \"Refresh data\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"modal-with-form\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [\"href\", \"javascript:;\", 1, \"modal-with-form\", \"btn\", \"btn-success\", \"btn-sm\", \"mx-2\", 2, \"color\", \"white\", 3, \"click\"], [1, \"fas\", \"fa-download\"], [\"href\", \"javascript:;\", \"routerLink\", \"/safety/critical-events/add-event\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"mr-2\", 2, \"color\", \"white\"], [1, \"fas\", \"fa-plus\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\"], [\"infiniteScroll\", \"\", 1, \"col-lg-12\", 3, \"infiniteScrollDistance\", \"infiniteScrollUpDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [4, \"ngIf\"], [3, \"value\"], [\"class\", \"cursorpoint\", 4, \"ngFor\", \"ngForOf\"], [1, \"cursorpoint\"], [1, \"text-capitalize\", 3, \"routerLink\"], [2, \"width\", \"180px\"], [1, \"form-control\", \"text-capitalize\", 3, \"clearable\", \"ngModel\", \"ngModelChange\"], [\"colspan\", \"9\", 1, \"no-data-available\"]],\n  template: function EventListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r21 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"ng-select\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function EventListComponent_Template_ng_select_ngModelChange_7_listener($event) {\n        return ctx.filter.vehicleID = $event;\n      });\n      i0.ɵɵtemplate(8, EventListComponent_ng_option_8_Template, 2, 2, \"ng-option\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"div\", 9);\n      i0.ɵɵelementStart(11, \"input\", 10, 11);\n      i0.ɵɵlistener(\"ngModelChange\", function EventListComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.filter.date = $event;\n      })(\"click\", function EventListComponent_Template_input_click_11_listener() {\n        i0.ɵɵrestoreView(_r21);\n\n        const _r1 = i0.ɵɵreference(12);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelementStart(14, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function EventListComponent_Template_button_click_14_listener() {\n        return ctx.searchEvents();\n      });\n      i0.ɵɵtext(15, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function EventListComponent_Template_a_click_16_listener() {\n        return ctx.resetFilter();\n      });\n      i0.ɵɵtext(17, \" Reset \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 14);\n      i0.ɵɵelementStart(19, \"a\", 15);\n      i0.ɵɵlistener(\"click\", function EventListComponent_Template_a_click_19_listener() {\n        return ctx.refreshData();\n      });\n      i0.ɵɵelement(20, \"i\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"a\", 17);\n      i0.ɵɵlistener(\"click\", function EventListComponent_Template_a_click_21_listener() {\n        return ctx.fetchEvents(true);\n      });\n      i0.ɵɵelement(22, \"i\", 18);\n      i0.ɵɵtext(23, \" Fetch Events\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"a\", 19);\n      i0.ɵɵelement(25, \"i\", 20);\n      i0.ɵɵtext(26, \" Add Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"section\", 21);\n      i0.ɵɵelementStart(28, \"div\", 22);\n      i0.ɵɵelementStart(29, \"div\", 23);\n      i0.ɵɵelementStart(30, \"div\", 24);\n      i0.ɵɵelementStart(31, \"div\", 25);\n      i0.ɵɵelementStart(32, \"div\", 26);\n      i0.ɵɵlistener(\"scrolled\", function EventListComponent_Template_div_scrolled_32_listener() {\n        return ctx.onScroll();\n      });\n      i0.ɵɵelementStart(33, \"table\", 27);\n      i0.ɵɵelementStart(34, \"thead\");\n      i0.ɵɵelementStart(35, \"tr\");\n      i0.ɵɵelementStart(36, \"th\");\n      i0.ɵɵtext(37, \"Vehicle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"th\");\n      i0.ɵɵtext(39, \"Event Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"th\");\n      i0.ɵɵtext(41, \"Event Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"th\");\n      i0.ɵɵtext(43, \"Event Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"th\");\n      i0.ɵɵtext(45, \"Event Source\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"th\");\n      i0.ɵɵtext(47, \"Created By\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"th\");\n      i0.ɵɵtext(49, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"th\");\n      i0.ɵɵtext(51, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(52, EventListComponent_tbody_52_Template, 2, 1, \"tbody\", 28);\n      i0.ɵɵtemplate(53, EventListComponent_tbody_53_Template, 4, 1, \"tbody\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.filter.vehicleID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vehicles);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.filter.date)(\"maxDate\", ctx.birthDateMaxLimit)(\"minDate\", ctx.birthDateMinLimit);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"infiniteScrollDistance\", 1)(\"infiniteScrollUpDistance\", 1)(\"infiniteScrollThrottle\", 5);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngIf\", ctx.events.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.events.length == 0);\n    }\n  },\n  directives: [i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgSelectComponent, i6.NgControlStatus, i6.NgModel, i8.NgForOf, i9.NgbInputDatepicker, i6.DefaultValueAccessor, i3.RouterLinkWithHref, i10.InfiniteScrollDirective, i8.NgIf, i7.ɵr, i3.RouterLink],\n  pipes: [i8.DatePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}