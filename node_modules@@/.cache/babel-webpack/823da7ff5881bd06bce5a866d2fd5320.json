{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from \"src/app/pages/fleet/constants\";\nimport { from } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport * as moment from \"moment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../../services/list.service\";\nimport * as i2 from \"./../../../../services\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ng-select/ng-select\";\nimport * as i9 from \"../../add-account/add-account.component\";\n\nfunction AddReceiptComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Receipt date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_30_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(29);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_ng_option_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 94);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const customer_r29 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", customer_r29.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, customer_r29.companyName), \" \");\n  }\n}\n\nfunction AddReceiptComponent_div_40_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Customer is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_40_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(38);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtext(1, \" Select Currency \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_tr_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 95);\n    i0.ɵɵelementStart(1, \"td\", 96);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r8.dataMessage);\n  }\n}\n\nfunction AddReceiptComponent_tr_89_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵelementStart(18, \"span\", 97);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵelementStart(22, \"input\", 98);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_89_Template_input_ngModelChange_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const invOrder_r31 = restoredCtx.$implicit;\n      return invOrder_r31.discount = $event;\n    })(\"change\", function AddReceiptComponent_tr_89_Template_input_change_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const i_r32 = restoredCtx.index;\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.applyDiscount(i_r32, \"order\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 95);\n    i0.ɵɵelementStart(24, \"input\", 99);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_89_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const invOrder_r31 = restoredCtx.$implicit;\n      return invOrder_r31.fullPayment = $event;\n    })(\"change\", function AddReceiptComponent_tr_89_Template_input_change_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const i_r32 = restoredCtx.index;\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.getAmountOrder(i_r32);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelementStart(26, \"input\", 100);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_89_Template_input_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const invOrder_r31 = restoredCtx.$implicit;\n      return invOrder_r31.amountPaid = $event;\n    })(\"change\", function AddReceiptComponent_tr_89_Template_input_change_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const i_r32 = restoredCtx.index;\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.applyDiscount(i_r32, \"order\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const invOrder_r31 = ctx.$implicit;\n    const i_r32 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invOrder_r31.invNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(invOrder_r31.txnDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 17, ctx_r9.customersObjects[invOrder_r31.customerID]), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(10, 19, invOrder_r31.finalAmount, \"1.2-2\"), \" \", invOrder_r31.recAmountCur, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(13, 22, invOrder_r31.amountReceived, \"1.2-2\"), \" \", invOrder_r31.recAmountCur, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(16, 25, invOrder_r31.balance, \"1.2-2\"), \" \", invOrder_r31.recAmountCur, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 28, invOrder_r31.invStatus));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"invOrder.discount\", i_r32, \"\");\n    i0.ɵɵproperty(\"ngModel\", invOrder_r31.discount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", invOrder_r31.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"invOrder.amountPaid\", i_r32, \"\");\n    i0.ɵɵpropertyInterpolate(\"max\", invOrder_r31.balance);\n    i0.ɵɵproperty(\"ngModel\", invOrder_r31.amountPaid)(\"disabled\", invOrder_r31.payDisable);\n  }\n}\n\nfunction AddReceiptComponent_tr_90_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵelementStart(18, \"span\", 97);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵelementStart(22, \"input\", 98);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_90_Template_input_ngModelChange_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const inv_r40 = restoredCtx.$implicit;\n      return inv_r40.discount = $event;\n    })(\"change\", function AddReceiptComponent_tr_90_Template_input_change_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const j_r41 = restoredCtx.index;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.applyDiscount(j_r41, \"inv\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 95);\n    i0.ɵɵelementStart(24, \"input\", 101);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_90_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const inv_r40 = restoredCtx.$implicit;\n      return inv_r40.fullPayment = $event;\n    })(\"change\", function AddReceiptComponent_tr_90_Template_input_change_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const j_r41 = restoredCtx.index;\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.getAmountManual(j_r41);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelementStart(26, \"input\", 102);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_tr_90_Template_input_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const inv_r40 = restoredCtx.$implicit;\n      return inv_r40.amountPaid = $event;\n    })(\"change\", function AddReceiptComponent_tr_90_Template_input_change_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const j_r41 = restoredCtx.index;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.applyDiscount(j_r41, \"inv\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const inv_r40 = ctx.$implicit;\n    const j_r41 = ctx.index;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r40.invNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(inv_r40.txnDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 17, ctx_r10.customersObjects[inv_r40.customerID]), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(10, 19, inv_r40.finalAmount, \"1.2-2\"), \" \", inv_r40.invCur, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(13, 22, inv_r40.amountReceived, \"1.2-2\"), \" \", inv_r40.invCur, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(16, 25, inv_r40.balance, \"1.2-2\"), \" \", inv_r40.invCur, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 28, inv_r40.invStatus));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"inv.discount\", j_r41, \"\");\n    i0.ɵɵproperty(\"ngModel\", inv_r40.discount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", inv_r40.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"inv.amountPaid\", j_r41, \"\");\n    i0.ɵɵpropertyInterpolate(\"max\", inv_r40.balance);\n    i0.ɵɵproperty(\"ngModel\", inv_r40.amountPaid)(\"disabled\", inv_r40.payDisable);\n  }\n}\n\nfunction AddReceiptComponent_tr_111_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"span\", 103);\n    i0.ɵɵlistener(\"click\", function AddReceiptComponent_tr_111_Template_span_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r52);\n      const i_r50 = restoredCtx.index;\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.delAddData(i_r50);\n    });\n    i0.ɵɵelement(9, \"i\", 104);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r49 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r49.charge);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r49.desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", data_r49.amount, \" \", ctx_r11.receiptData.recAmountCur, \" \");\n  }\n}\n\nfunction AddReceiptComponent_ng_option_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 94);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r53 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r53.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r53.value);\n  }\n}\n\nfunction AddReceiptComponent_tr_153_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelementStart(8, \"span\", 103);\n    i0.ɵɵlistener(\"click\", function AddReceiptComponent_tr_153_Template_span_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const i_r55 = restoredCtx.index;\n      const ctx_r56 = i0.ɵɵnextContext();\n      return ctx_r56.delDedData(i_r55);\n    });\n    i0.ɵɵelement(9, \"i\", 104);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r54 = ctx.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r54.charge);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r54.desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", data_r54.amount, \" \", ctx_r13.receiptData.recAmountCur, \" \");\n  }\n}\n\nfunction AddReceiptComponent_ng_option_169_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 94);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r58 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r58.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r58.value);\n  }\n}\n\nfunction AddReceiptComponent_div_207_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Received amount is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_207_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_207_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r15 = i0.ɵɵreference(206);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_div_208_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r17.convertedText, \" \");\n  }\n}\n\nfunction AddReceiptComponent_tr_226_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 95);\n    i0.ɵɵelementStart(1, \"td\", 105);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r18.dataMessageAdv);\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r60 = i0.ɵɵnextContext().$implicit;\n    const ctx_r61 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r61.accounts[data_r60.accName], \" \");\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r60.accName, \" \");\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, data_r60.amount, \"1.2-2\"), \" \");\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" 0.00 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, data_r60.amount, \"1.2-2\"), \" \");\n  }\n}\n\nfunction AddReceiptComponent_tr_227_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" 0.00 \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_tr_227_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 106);\n    i0.ɵɵtemplate(2, AddReceiptComponent_tr_227_span_2_Template, 2, 1, \"span\", 93);\n    i0.ɵɵtemplate(3, AddReceiptComponent_tr_227_span_3_Template, 2, 1, \"span\", 93);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 106);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtemplate(7, AddReceiptComponent_tr_227_span_7_Template, 3, 4, \"span\", 93);\n    i0.ɵɵtemplate(8, AddReceiptComponent_tr_227_span_8_Template, 2, 0, \"span\", 93);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtemplate(11, AddReceiptComponent_tr_227_span_11_Template, 3, 4, \"span\", 93);\n    i0.ɵɵtemplate(12, AddReceiptComponent_tr_227_span_12_Template, 2, 0, \"span\", 93);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r60 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r60.cType === \"add\" || data_r60.cType === \"ded\" || data_r60.cType === \"recpt\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r60.cType === \"recv\" || data_r60.cType === \"dis\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r60.jType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r60.type === \"credit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r60.type !== \"credit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.receiptData.recAmountCur, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r60.type === \"debit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r60.type !== \"debit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.receiptData.recAmountCur, \" \");\n  }\n}\n\nfunction AddReceiptComponent_ng_option_238_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 94);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r71 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r71.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r71.value);\n  }\n}\n\nfunction AddReceiptComponent_div_240_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Account is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_240_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_240_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r20 = i0.ɵɵreference(237);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r20.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_ng_option_255_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 94);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r73 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r73.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", data_r73.name, \" \");\n  }\n}\n\nfunction AddReceiptComponent_div_256_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment mode is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_256_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_256_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r23 = i0.ɵɵreference(254);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r23.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_div_257_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reference\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_257_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Number\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_257_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r82 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r82.paymentLabel, \" reference is required. \");\n  }\n}\n\nfunction AddReceiptComponent_div_257_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r83 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r83.paymentLabel, \" reference must contain alphanumeric characters. \");\n  }\n}\n\nfunction AddReceiptComponent_div_257_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_257_div_11_div_1_Template, 2, 1, \"div\", 93);\n    i0.ɵɵtemplate(2, AddReceiptComponent_div_257_div_11_div_2_Template, 2, 1, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r77 = i0.ɵɵreference(10);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r77.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r77.errors.pattern);\n  }\n}\n\nfunction AddReceiptComponent_div_257_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddReceiptComponent_div_257_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 92);\n    i0.ɵɵtemplate(1, AddReceiptComponent_div_257_div_21_div_1_Template, 2, 0, \"div\", 93);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r79 = i0.ɵɵreference(19);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r79.errors.required);\n  }\n}\n\nfunction AddReceiptComponent_div_257_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r86 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 68);\n    i0.ɵɵelementStart(1, \"div\", 107);\n    i0.ɵɵelementStart(2, \"label\", 76);\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, AddReceiptComponent_div_257_span_4_Template, 2, 0, \"span\", 93);\n    i0.ɵɵtemplate(5, AddReceiptComponent_div_257_span_5_Template, 2, 0, \"span\", 93);\n    i0.ɵɵelementStart(6, \"span\", 21);\n    i0.ɵɵelementStart(7, \"sup\");\n    i0.ɵɵtext(8, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 108, 109);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_div_257_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r86);\n      const ctx_r85 = i0.ɵɵnextContext();\n      return ctx_r85.receiptData.paymentModeNo = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, AddReceiptComponent_div_257_div_11_Template, 3, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 107);\n    i0.ɵɵelementStart(13, \"label\", 76);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementStart(15, \"span\", 21);\n    i0.ɵɵelementStart(16, \"sup\");\n    i0.ɵɵtext(17, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 110, 111);\n    i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_div_257_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r86);\n      const ctx_r87 = i0.ɵɵnextContext();\n      return ctx_r87.receiptData.paymentModeDate = $event;\n    })(\"click\", function AddReceiptComponent_div_257_Template_input_click_18_listener() {\n      i0.ɵɵrestoreView(_r86);\n\n      const _r80 = i0.ɵɵreference(20);\n\n      return _r80.toggle();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, AddReceiptComponent_div_257_div_21_Template, 2, 1, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r77 = i0.ɵɵreference(10);\n\n    const _r79 = i0.ɵɵreference(19);\n\n    const ctx_r26 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r26.paymentLabel, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.paymentLabel === \"Cash\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.paymentLabel !== \"Cash\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r26.receiptData.paymentModeNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r77.invalid && (_r77.dirty || _r77.touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r26.paymentLabel, \" Date\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r26.receiptData.paymentModeDate)(\"minDate\", ctx_r26.dateMinLimit)(\"maxDate\", ctx_r26.futureDatesLimit);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", _r79.invalid && (_r79.dirty || _r79.touched));\n  }\n}\n\nfunction AddReceiptComponent_button_262_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r90 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 112);\n    i0.ɵɵlistener(\"click\", function AddReceiptComponent_button_262_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r90);\n      const ctx_r89 = i0.ɵɵnextContext();\n      return ctx_r89.addReceipt();\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(14);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r27.submitDisabled);\n  }\n}\n\nexport class AddReceiptComponent {\n  constructor(listService, accountService, toastr, apiService, router, route) {\n    this.listService = listService;\n    this.accountService = accountService;\n    this.toastr = toastr;\n    this.apiService = apiService;\n    this.router = router;\n    this.route = route;\n    this.pageTitle = \"Add Receipt\";\n    this.dataMessage = Constants.NO_RECORDS_FOUND;\n    this.dataMessageAdv = Constants.NO_RECORDS_FOUND;\n    this.customers = [];\n    this.customersObjects = {};\n    this.invoices = [];\n    this.accounts = [];\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.totalAmount = 0;\n    this.receiptData = {\n      currency: \"CAD\",\n      customerID: [],\n      txnDate: moment().format(\"YYYY-MM-DD\"),\n      recNo: null,\n      recAmount: 0,\n      totalAmount: 0,\n      discount: 0,\n      recAmountCur: \"CAD\",\n      accountID: null,\n      paymentMode: null,\n      paymentModeNo: null,\n      paymentModeDate: null,\n      charges: {\n        addition: [],\n        deduction: [],\n        addTotal: 0,\n        dedTotal: 0,\n        addAccountID: null,\n        dedAccountID: null\n      },\n      paidInvoices: [],\n      transactionLog: [],\n      invAmount: 0\n    };\n    this.paymentMode = [{\n      name: \"Cash\",\n      value: \"cash\"\n    }, {\n      name: \"Cheque\",\n      value: \"cheque\"\n    }, {\n      name: \"EFT\",\n      value: \"eft\"\n    }, {\n      name: \"Credit Card\",\n      value: \"creditCard\"\n    }, {\n      name: \"Debit Card\",\n      value: \"debitCard\"\n    }, {\n      name: \"Demand Draft\",\n      value: \"demandDraft\"\n    }];\n    this.advancePayments = [];\n    this.paymentLabel = \"\";\n    this.errors = {};\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = \"\";\n    this.Success = \"\";\n    this.submitDisabled = false;\n    this.orderInvoices = [];\n    this.totalReceivedAmt = 0;\n    this.accList = [];\n    this.advErr = \"\";\n    this.newTotal = 0;\n    this.totalErr = false;\n    this.paidAmtErr = false;\n    this.currency = \"CAD\";\n    this.totalCur = \"CAD\";\n    this.rate = 0;\n    this.searchDisabled = false;\n    this.additionFields = {\n      charge: \"\",\n      desc: \"\",\n      amount: 0\n    };\n    this.dedFields = {\n      charge: \"\",\n      desc: \"\",\n      amount: 0\n    };\n    this.journalPrev = [];\n    this.convertedText = \"\";\n  }\n\n  ngOnInit() {\n    this.listService.fetchCustomers();\n    this.fetchCustomersByIDs();\n    this.fetchAccounts();\n    this.recID = this.route.snapshot.params[`recID`];\n\n    if (this.recID) {\n      this.pageTitle = \"Edit Receipt\";\n    } else {\n      this.pageTitle = \"Add Receipt\";\n    }\n\n    let customerList = new Array();\n    this.getValidCustomers(customerList);\n    this.customers = customerList;\n  }\n\n  fetchAccounts() {\n    this.accountService.getData(`chartAc/get/list/all`).subscribe(result => {\n      this.accounts = result;\n    });\n  }\n\n  getValidCustomers(customerList) {\n    let ids = [];\n    this.listService.customersList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          customerList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  recCurFn(e) {\n    this.totalCur = e;\n  }\n\n  getInvoices() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.receiptData.customerID.length > 0) {\n        _this.searchDisabled = true;\n        _this.newTotal = 0;\n        _this.receiptData.totalAmount = 0;\n        _this.receiptData.discount = 0;\n        _this.receiptData.recAmount = 0;\n        _this.advancePayments = [];\n        _this.orderInvoices = [];\n        _this.invoices = [];\n        _this.dataMessage = Constants.FETCHING_DATA;\n        const customerIDs = encodeURIComponent(JSON.stringify(_this.receiptData.customerID));\n\n        _this.accountService.getData(`order-invoice/customer/${customerIDs}?currency=${_this.receiptData.recAmountCur}`).subscribe(res => {\n          if (res.length === 0) {\n            _this.dataMessage = Constants.NO_RECORDS_FOUND;\n          }\n\n          if (res !== undefined) {\n            _this.orderInvoices = res;\n\n            _this.orderInvoices.map(v => {\n              v.payDisable = false;\n              v.discount = 0;\n              v.invStatus = v.invStatus ? v.invStatus.replace(\"_\", \" \") : \"\";\n            });\n\n            for (const op of _this.orderInvoices) {\n              _this.newTotal += op.balance;\n              _this.totalAmount = Number(_this.newTotal.toFixed(2));\n            }\n          }\n        });\n\n        _this.accountService.getData(`invoices/customer/${customerIDs}?currency=${_this.receiptData.recAmountCur}`).subscribe(result => {\n          _this.searchDisabled = false;\n\n          if (result.length === 0) {\n            _this.dataMessage = Constants.NO_RECORDS_FOUND;\n          }\n\n          if (result !== undefined) {\n            _this.invoices = result;\n\n            _this.invoices.map(v => {\n              v.payDisable = false;\n              v.discount = 0;\n              v.invStatus = v.invStatus.replace(\"_\", \" \");\n            });\n\n            for (const op of _this.invoices) {\n              _this.newTotal += op.balance;\n              _this.totalAmount = Number(_this.newTotal.toFixed(2));\n            }\n          }\n        });\n      }\n    })();\n  }\n\n  getConvertedCur(convertCurr) {\n    if (this.currency !== convertCurr) {\n      this.convertedText = \"Fetching...\";\n      this.accountService.getData(`receipts/convert/${this.currency}/${convertCurr}/${this.receiptData.recAmount}`).subscribe(res => {\n        this.rate = res.rate.toFixed(2);\n        this.receiptData.recAmount = res.result.toFixed(2);\n        this.convertedText = `1 ${this.currency} = ${this.rate} ${convertCurr}`;\n        this.getJournalPreview();\n      });\n    } else {\n      this.getJournalPreview();\n      this.findReceivedAmtFn();\n    }\n  }\n\n  refreshAccount() {\n    // this.listService.fetchChartAccounts(); \n    this.fetchAccounts();\n  }\n\n  fetchAdvancePayments() {\n    this.dataMessageAdv = Constants.FETCHING_DATA;\n    const fromDate = null;\n    const toDate = null;\n    this.accountService.getData(`advance/entity/${this.receiptData.customerID}?from=${fromDate}\n          &to=${toDate}`).subscribe(result => {\n      if (result.length === 0) {\n        this.dataMessageAdv = Constants.NO_RECORDS_FOUND;\n      }\n\n      this.advancePayments = result;\n      this.advancePayments.map(v => {\n        v.selected = false;\n\n        if (v.payMode) {\n          v.payMode = v.payMode.replace(\"_\", \" \");\n        }\n\n        v.fullPayment = false;\n        v.payDisable = false;\n        v.paidAmount = 0;\n        v.paidStatus = false;\n        v.status = v.status.replace(\"_\", \" \");\n        v.errText = \"\";\n        v.prevPaidAmount = Number(v.amount) - Number(v.pendingPayment);\n        v.prevPaidAmount = v.prevPaidAmount.toFixed(2);\n      });\n    });\n  }\n  /*\r\n   * Get all customers's IDs of names from api\r\n   */\n\n\n  fetchCustomersByIDs() {\n    this.apiService.getData(\"contacts/get/list\").subscribe(result => {\n      this.customersObjects = result;\n    });\n  }\n\n  showPaymentFields(type) {\n    if (type === \"creditCard\") {\n      this.paymentLabel = \"Credit Card\";\n    } else if (type === \"debitCard\") {\n      this.paymentLabel = \"Debit Card\";\n    } else if (type === \"demandDraft\") {\n      this.paymentLabel = \"Demand Card\";\n    } else if (type === \"eft\") {\n      this.paymentLabel = \"EFT\";\n    } else if (type === \"cash\") {\n      this.paymentLabel = \"Cash\";\n    } else if (type === \"cheque\") {\n      this.paymentLabel = \"Cheque\";\n    }\n  }\n\n  getAmountOrder(j) {\n    if (this.orderInvoices[j].fullPayment === true) {\n      this.orderInvoices[j].payDisable = true;\n      this.orderInvoices[j].amountPaid = Number(this.orderInvoices[j].balance.toFixed(2)) - Number(this.orderInvoices[j].discount.toFixed(2));\n    } else {\n      this.orderInvoices[j].payDisable = false;\n      this.orderInvoices[j].amountPaid = 0;\n    }\n\n    this.applyDiscount(j, \"order\");\n    this.findReceivedAmtFn();\n  }\n\n  getAmountManual(k) {\n    this.invoices[k].balance = Number(this.invoices[k].balance.toFixed(2));\n    this.invoices[k].discount = Number(this.invoices[k].discount.toFixed(2));\n\n    if (this.invoices[k].fullPayment === true) {\n      this.invoices[k].amountPaid = Number(this.invoices[k].balance) - Number(this.invoices[k].discount);\n    } else {\n      this.invoices[k].amountPaid = 0;\n    }\n\n    this.applyDiscount(k, \"inv\");\n    this.findReceivedAmtFn();\n  }\n\n  getPaidInvoices() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const paidInvoices = [];\n\n      for (const element of _this2.orderInvoices) {\n        if (element.amountPaid !== 0 && element.amountPaid !== undefined) {\n          const obj = {\n            invID: element.invID,\n            invNo: element.invNo,\n            fullPayment: element.fullPayment,\n            invType: \"orderInvoice\",\n            amountPaid: element.amountPaid,\n            balance: element.balance,\n            invCur: element.charges.freightFee.currency,\n            discount: element.discount,\n            invBalance: element.invBalance\n          };\n          paidInvoices.push(obj);\n        }\n      }\n\n      for (const element of _this2.invoices) {\n        if (element.amountPaid !== 0 && element.amountPaid !== undefined) {\n          const obj = {\n            invID: element.invID,\n            invNo: element.invNo,\n            fullPayment: element.fullPayment,\n            invType: \"manual\",\n            amountPaid: element.amountPaid,\n            balance: element.balance,\n            invCur: element.invCur,\n            discount: element.discount,\n            invBalance: element.invBalance\n          };\n          paidInvoices.push(obj);\n        }\n      }\n\n      _this2.receiptData[`paidInvoices`] = paidInvoices;\n    })();\n  }\n\n  matchPayment() {\n    for (const element of this.invoices) {\n      if (element.amountPaid === element.balance) {\n        element.fullPayment = true;\n      } else {\n        element.fullPayment = false;\n      }\n    }\n\n    for (const element of this.orderInvoices) {\n      if (element.amountPaid === element.balance) {\n        element.fullPayment = true;\n      } else {\n        element.fullPayment = false;\n      }\n    }\n  }\n\n  getInvoiceArr() {\n    this.getPaidInvoices();\n    this.receiptData.totalAmount = 0;\n    this.receiptData.paidInvoices.map(v => {\n      this.receiptData.totalAmount += Number(v.amountPaid);\n    });\n  }\n\n  addReceipt() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this3.receiptData.recAmount === 0) {\n        _this3.toastr.error(\"Select invoice\");\n      } else {\n        if (_this3.receiptData.charges.addTotal > 0 && _this3.receiptData.charges.addAccountID === null) {\n          _this3.toastr.error(\"Please select addition account\");\n\n          return false;\n        }\n\n        if (_this3.receiptData.charges.dedTotal > 0 && _this3.receiptData.charges.dedAccountID === null) {\n          _this3.toastr.error(\"Please select deduction account\");\n\n          return false;\n        }\n\n        _this3.submitDisabled = true;\n        _this3.errors = {};\n        _this3.hasError = false;\n        _this3.hasSuccess = false;\n\n        _this3.getInvoiceArr();\n\n        _this3.receiptData.invAmount = _this3.totalReceivedAmt;\n\n        _this3.accountService.postData(\"receipts\", _this3.receiptData).subscribe({\n          complete: () => {},\n          error: err => {\n            from(err.error).pipe(map(val => {\n              val.message = val.message.replace(/\".*\"/, \"This Field\");\n              _this3.errors[val.context.key] = val.message;\n            })).subscribe({\n              complete: () => {\n                _this3.submitDisabled = false; // this.throwErrors();\n              },\n              error: () => {\n                _this3.submitDisabled = false;\n              },\n              next: () => {}\n            });\n          },\n          next: res => {\n            _this3.submitDisabled = false;\n            _this3.response = res;\n\n            _this3.toastr.success(\"Receipt added successfully.\");\n\n            _this3.router.navigateByUrl(\"/accounts/receipts/list\");\n          }\n        });\n      }\n    })();\n  }\n\n  findReceivedAmtFn() {\n    this.matchPayment();\n    this.totalReceivedAmt = 0;\n\n    for (const element of this.invoices) {\n      this.totalReceivedAmt += element.amountPaid;\n    }\n\n    for (const element of this.orderInvoices) {\n      this.totalReceivedAmt += element.amountPaid;\n    }\n\n    this.receiptData.recAmount = this.totalReceivedAmt + this.receiptData.charges.addTotal - this.receiptData.charges.dedTotal;\n    this.limitDecimals();\n\n    if (this.receiptData.recAmount > this.totalAmount) {\n      this.totalErr = true;\n    } else {\n      this.totalErr = false;\n    }\n\n    this.getJournalPreview();\n  }\n\n  limitDecimals() {\n    this.totalReceivedAmt = Number(this.totalReceivedAmt.toFixed(2));\n    this.receiptData.charges.addTotal = Number(this.receiptData.charges.addTotal.toFixed(2));\n    this.receiptData.discount = Number(this.receiptData.discount.toFixed(2));\n    this.receiptData.charges.dedTotal = Number(this.receiptData.charges.dedTotal.toFixed(2));\n    this.receiptData.recAmount = Number(this.receiptData.recAmount.toFixed(2));\n    this.totalAmount = Number(this.totalAmount.toFixed(2));\n  }\n\n  addAdditionRow() {\n    if (this.additionFields.charge != \"\" && this.additionFields.amount > 0) {\n      this.receiptData.charges.addition.push(this.additionFields);\n      this.additionFields = {\n        charge: \"\",\n        desc: \"\",\n        amount: 0\n      };\n      this.calcAdditionTotal();\n    }\n  }\n\n  calcAdditionTotal() {\n    this.receiptData.charges.addTotal = 0;\n    this.receiptData.charges.addition.forEach(element => {\n      this.receiptData.charges.addTotal += Number(element.amount);\n    });\n    this.findReceivedAmtFn();\n  }\n\n  delAddData(index) {\n    this.receiptData.charges.addition.splice(index, 1);\n    this.calcAdditionTotal();\n  }\n\n  addDeductionRow() {\n    if (this.dedFields.charge != \"\" && this.dedFields.amount > 0) {\n      this.receiptData.charges.deduction.push(this.dedFields);\n      this.dedFields = {\n        charge: \"\",\n        desc: \"\",\n        amount: 0\n      };\n      this.calcDedTotal();\n    }\n  }\n\n  calcDedTotal() {\n    this.receiptData.charges.dedTotal = 0;\n    this.receiptData.charges.deduction.forEach(element => {\n      this.receiptData.charges.dedTotal += Number(element.amount);\n    });\n    this.findReceivedAmtFn();\n  }\n\n  delDedData(index) {\n    this.receiptData.charges.deduction.splice(index, 1);\n    this.calcDedTotal();\n  }\n\n  calDiscountTotal() {\n    this.receiptData.discount = 0;\n    this.invoices.map(v => {\n      if (v.amountPaid > 0) {\n        this.receiptData.discount += Number(v.discount);\n      }\n    });\n    this.orderInvoices.map(v => {\n      if (v.amountPaid > 0) {\n        this.receiptData.discount += Number(v.discount);\n      }\n    });\n    this.findReceivedAmtFn();\n  }\n\n  applyDiscount(index, type) {\n    if (type === \"order\") {\n      let userPay = Number(this.orderInvoices[index].discount) + Number(this.orderInvoices[index].amountPaid);\n\n      if (userPay < 0 || userPay > this.orderInvoices[index].balance) {\n        this.orderInvoices[index].discount = 0;\n      }\n\n      userPay = Number(this.orderInvoices[index].discount) + Number(this.orderInvoices[index].amountPaid);\n      this.orderInvoices[index][\"invBalance\"] = this.orderInvoices[index].balance - userPay;\n\n      if (this.orderInvoices[index][\"invBalance\"] < 0) {\n        this.totalErr = true;\n      } else {\n        this.totalErr = false;\n      }\n    } else if (type === \"inv\") {\n      let userPay = Number(this.invoices[index].discount) + Number(this.invoices[index].amountPaid);\n\n      if (userPay < 0 || userPay > this.invoices[index].balance) {\n        this.invoices[index].discount = 0;\n      }\n\n      userPay = Number(this.invoices[index].discount) + Number(this.invoices[index].amountPaid);\n      this.invoices[index][\"invBalance\"] = this.invoices[index].balance - userPay;\n\n      if (this.invoices[index][\"invBalance\"] < 0) {\n        this.totalErr = true;\n      } else {\n        this.totalErr = false;\n      }\n    }\n\n    this.calDiscountTotal();\n  }\n\n  getJournalPreview() {\n    this.getInvoiceArr();\n    this.journalPrev = [];\n    let jtype = [];\n\n    if (this.receiptData.recAmount > 0) {\n      if (!jtype.includes(\"first\")) {\n        let obj = {\n          accName: this.receiptData.accountID,\n          amount: this.receiptData.recAmount,\n          type: \"debit\",\n          jType: \"receipt amount\",\n          cType: \"recpt\"\n        };\n        jtype.push(\"first\");\n        this.journalPrev.push(obj);\n      }\n\n      if (!jtype.includes(\"recv\")) {\n        let obj = {\n          accName: \"1200 - Accounts Receivable\",\n          amount: Number(this.totalReceivedAmt) + Number(this.receiptData.discount),\n          type: \"credit\",\n          jType: \"accounts receivable\",\n          cType: \"recv\"\n        };\n        jtype.push(\"recv\");\n        this.journalPrev.push(obj);\n      }\n    }\n\n    if (this.receiptData.charges.dedTotal > 0) {\n      if (!jtype.includes(\"ded\")) {\n        let obj = {\n          accName: this.receiptData.charges.dedAccountID,\n          amount: this.receiptData.charges.dedTotal,\n          type: \"debit\",\n          jType: \"deduction charges\",\n          cType: \"ded\"\n        };\n        jtype.push(\"ded\");\n        this.journalPrev.push(obj);\n      }\n    }\n\n    if (this.receiptData.discount > 0) {\n      if (!jtype.includes(\"disc\")) {\n        let obj = {\n          accName: \"5240 - Early Payment Purchase Discount\",\n          amount: this.receiptData.discount,\n          type: \"debit\",\n          jType: \"discount\",\n          cType: \"dis\"\n        };\n        jtype.push(\"disc\");\n        this.journalPrev.push(obj);\n      }\n    }\n\n    if (this.receiptData.charges.addTotal > 0) {\n      if (!jtype.includes(\"add\")) {\n        let obj = {\n          accName: this.receiptData.charges.addAccountID,\n          amount: this.receiptData.charges.addTotal,\n          type: \"credit\",\n          jType: \"addition charges\",\n          cType: \"add\"\n        };\n        jtype.push(\"add\");\n        this.journalPrev.push(obj);\n      }\n    }\n  }\n\n}\n\nAddReceiptComponent.ɵfac = function AddReceiptComponent_Factory(t) {\n  return new (t || AddReceiptComponent)(i0.ɵɵdirectiveInject(i1.ListService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\n\nAddReceiptComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddReceiptComponent,\n  selectors: [[\"app-add-receipt\"]],\n  decls: 273,\n  vars: 52,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\", \"pr19\", \"pl7\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"text-4\", \"mt-0\", \"mb-0\", \"font-weight-bold\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-1\"], [\"routerLink\", \"/accounts/receipts/list\", 1, \"btn\", \"btn-sm\", \"btn-default\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [\"method\", \"POST\", \"id\", \"receiptForm\", 1, \"form-horizontal\", \"form-bordered\"], [\"recForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"col-lg-11\"], [1, \"row\"], [1, \"col-lg-3\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"name\", \"txnDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"custexp\", \"ngbDatepicker\", \"receiptDate\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"name\", \"customerID\", \"placeholder\", \"Select Customer\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"multiple\", \"ngModelChange\"], [\"receiptCustomer\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"currency\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"clearable\", \"ngModelChange\", \"change\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [1, \"col-md-2\", \"col-lg-2\", \"mar-top-37\", \"text-right\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"col-lg-10\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"table\", \"table-bordered\", \"table-responsive-sm\", \"table-striped\", \"mb-0\", \"simple-table\"], [1, \"\"], [1, \"text-2\"], [\"width\", \"3%\", 1, \"text-2\", \"text-center\"], [\"width\", \"7%\", 1, \"text-2\"], [\"class\", \"text-center\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mb-3\", \"pt-2\"], [1, \"font-weight-bold\"], [\"id\", \"otherChargesTable\", 1, \"table\", \"table-bordered\"], [\"type\", \"text\", \"id\", \"cell2\", \"name\", \"addChargeName\", \"placeholder\", \"Enter charge name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"cell3\", \"name\", \"adDescription\", \"placeholder\", \"Enter description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"cell4\", \"name\", \"adAmount\", \"placeholder\", \"Enter amount\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"col-lg-2\"], [1, \"control-label\", \"font-weight-bold\"], [\"name\", \"addChargeaccountID\", \"placeholder\", \"Select account\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"text\", \"disabled\", \"\", \"name\", \"additionTotal\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"cell2\", \"name\", \"dedChargeName\", \"placeholder\", \"Enter charge name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"cell3\", \"name\", \"dedDescription\", \"placeholder\", \"Enter description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"cell4\", \"name\", \"dedAmount\", \"placeholder\", \"Enter amount\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"dedaccountID\", \"placeholder\", \"Select account\", \"id\", \"ded_acc\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"text\", \"disabled\", \"\", \"name\", \"dedTotal\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-6\"], [1, \"col-lg-5\"], [\"type\", \"number\", \"min\", \"0\", \"name\", \"totalAmount\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"number\", \"min\", \"0\", \"name\", \"disc\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"type\", \"number\", \"min\", \"0\", \"name\", \"recAmount\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"receiptAmt\", \"ngModel\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\", \"mt-5\"], [1, \"table\", \"table-bordered\", \"table-hover\"], [1, \"row\", \"pt-2\"], [1, \"col-lg-8\"], [\"name\", \"accountID\", \"placeholder\", \"Select account\", \"required\", \"\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"receiptAct\", \"ngModel\"], [1, \"col-lg-2\", \"text-right\", 2, \"margin-top\", \"32px\"], [\"type\", \"button\", \"data-target\", \"#addAccountModal\", \"data-toggle\", \"modal\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"mr-3\", 2, \"color\", \"white\"], [\"href\", \"javascript:;\", \"data-toggle\", \"tooltip\", \"title\", \"Refresh account data\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [1, \"control-label\", \"font-weight-bold\", \"labelalign\"], [\"name\", \"paymentMode\", \"placeholder\", \"Select Payment Mode\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"receiptPay\", \"ngModel\"], [\"class\", \"row pt-2\", 4, \"ngIf\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"text-right\"], [\"type\", \"button\", \"routerLink\", \"/accounts/receipts/list\", 1, \"btn\", \"btn-default\", \"mr-3\"], [\"type\", \"button\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"id\", \"addAccountModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"addAccountModal\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [1, \"far\", \"fa-window-close\", \"modal-dismiss\", 2, \"font-size\", \"25px\"], [1, \"modal-body\", \"text-dark\"], [1, \"text-danger\"], [4, \"ngIf\"], [3, \"value\"], [1, \"text-center\"], [\"colspan\", \"15\"], [1, \"badge\", \"badge-dark\", \"p-1\"], [\"type\", \"number\", \"min\", \"0\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"type\", \"checkbox\", \"name\", \"invOrder.fullPayment\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"number\", \"min\", \"0\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"name\", \"disabled\", \"max\", \"ngModelChange\", \"change\"], [\"type\", \"checkbox\", \"name\", \"inv.fullPayment\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"number\", \"min\", \"0\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"name\", \"max\", \"disabled\", \"ngModelChange\", \"change\"], [1, \"badge\", \"badge-dark\", \"p-2\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\", \"text-light\"], [\"colspan\", \"4\"], [1, \"text-capitalize\"], [1, \"col-lg-4\"], [\"type\", \"text\", \"name\", \"paymentModeNo\", \"required\", \"\", \"pattern\", \"^[a-zA-Z0-9\\\\s]+$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"receiptPayNo\", \"ngModel\"], [\"name\", \"paymentModeDate\", \"type\", \"text\", \"required\", \"\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"receiptPayDate\", \"ngModel\", \"custexp\", \"ngbDatepicker\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"]],\n  template: function AddReceiptComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r91 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" All Receipts\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"form\", 11, 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 19);\n      i0.ɵɵelementStart(22, \"label\", 20);\n      i0.ɵɵtext(23, \"Receipt Date\");\n      i0.ɵɵelementStart(24, \"span\", 21);\n      i0.ɵɵelementStart(25, \"sup\");\n      i0.ɵɵtext(26, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.receiptData.txnDate = $event;\n      })(\"click\", function AddReceiptComponent_Template_input_click_27_listener() {\n        i0.ɵɵrestoreView(_r91);\n\n        const _r1 = i0.ɵɵreference(28);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(30, AddReceiptComponent_div_30_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 5);\n      i0.ɵɵelementStart(32, \"label\", 20);\n      i0.ɵɵtext(33, \"Select Customer\");\n      i0.ɵɵelementStart(34, \"span\", 21);\n      i0.ɵɵelementStart(35, \"sup\");\n      i0.ɵɵtext(36, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"ng-select\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_37_listener($event) {\n        return ctx.receiptData.customerID = $event;\n      });\n      i0.ɵɵtemplate(39, AddReceiptComponent_ng_option_39_Template, 3, 4, \"ng-option\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, AddReceiptComponent_div_40_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 19);\n      i0.ɵɵelementStart(42, \"label\", 20);\n      i0.ɵɵtext(43, \"Select Currency\");\n      i0.ɵɵelementStart(44, \"span\", 21);\n      i0.ɵɵelementStart(45, \"sup\");\n      i0.ɵɵtext(46, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"ng-select\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_47_listener($event) {\n        return ctx.receiptData.recAmountCur = $event;\n      })(\"change\", function AddReceiptComponent_Template_ng_select_change_47_listener() {\n        return ctx.getInvoices();\n      });\n      i0.ɵɵelementStart(48, \"ng-option\", 29);\n      i0.ɵɵtext(49, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"ng-option\", 30);\n      i0.ɵɵtext(51, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(52, AddReceiptComponent_div_52_Template, 2, 0, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 31);\n      i0.ɵɵelementStart(54, \"button\", 32);\n      i0.ɵɵlistener(\"click\", function AddReceiptComponent_Template_button_click_54_listener() {\n        return ctx.getInvoices();\n      });\n      i0.ɵɵtext(55, \" Search Invoice(s) \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"div\", 13);\n      i0.ɵɵelementStart(57, \"div\", 14);\n      i0.ɵɵelementStart(58, \"div\", 15);\n      i0.ɵɵelementStart(59, \"div\", 16);\n      i0.ɵɵelementStart(60, \"div\", 33);\n      i0.ɵɵelementStart(61, \"label\", 34);\n      i0.ɵɵtext(62, \"Invoice Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 17);\n      i0.ɵɵelementStart(64, \"table\", 35);\n      i0.ɵɵelementStart(65, \"thead\");\n      i0.ɵɵelementStart(66, \"tr\", 36);\n      i0.ɵɵelementStart(67, \"th\", 37);\n      i0.ɵɵtext(68, \"Invoice#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"th\", 37);\n      i0.ɵɵtext(70, \"Invoice Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"th\", 37);\n      i0.ɵɵtext(72, \"Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"th\", 37);\n      i0.ɵɵtext(74, \"Total Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"th\", 37);\n      i0.ɵɵtext(76, \"Amount Received\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"th\", 37);\n      i0.ɵɵtext(78, \"Invoice Balance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"th\", 37);\n      i0.ɵɵtext(80, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"th\", 38);\n      i0.ɵɵtext(82, \" Discount \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"th\", 38);\n      i0.ɵɵtext(84, \" Full Payment \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"th\", 39);\n      i0.ɵɵtext(86, \"Amount Paid\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"tbody\");\n      i0.ɵɵtemplate(88, AddReceiptComponent_tr_88_Template, 3, 1, \"tr\", 40);\n      i0.ɵɵtemplate(89, AddReceiptComponent_tr_89_Template, 27, 30, \"tr\", 41);\n      i0.ɵɵtemplate(90, AddReceiptComponent_tr_90_Template, 27, 30, \"tr\", 41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(91, \"div\", 42);\n      i0.ɵɵelementStart(92, \"div\", 14);\n      i0.ɵɵelementStart(93, \"div\", 15);\n      i0.ɵɵelementStart(94, \"div\", 16);\n      i0.ɵɵelementStart(95, \"div\", 33);\n      i0.ɵɵelementStart(96, \"h4\", 43);\n      i0.ɵɵtext(97, \"Addition\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"div\", 17);\n      i0.ɵɵelementStart(99, \"table\", 44);\n      i0.ɵɵelementStart(100, \"thead\");\n      i0.ɵɵelementStart(101, \"tr\");\n      i0.ɵɵelementStart(102, \"th\");\n      i0.ɵɵtext(103, \"Charge Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(104, \"th\");\n      i0.ɵɵtext(105, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(106, \"th\");\n      i0.ɵɵtext(107, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(108, \"th\");\n      i0.ɵɵtext(109, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(110, \"tbody\");\n      i0.ɵɵtemplate(111, AddReceiptComponent_tr_111_Template, 10, 4, \"tr\", 41);\n      i0.ɵɵelementStart(112, \"tr\");\n      i0.ɵɵelementStart(113, \"td\");\n      i0.ɵɵelementStart(114, \"input\", 45);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_114_listener($event) {\n        return ctx.additionFields.charge = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(115, \"td\");\n      i0.ɵɵelementStart(116, \"input\", 46);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_116_listener($event) {\n        return ctx.additionFields.desc = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"td\");\n      i0.ɵɵelementStart(118, \"input\", 47);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_118_listener($event) {\n        return ctx.additionFields.amount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"td\");\n      i0.ɵɵelementStart(120, \"button\", 48);\n      i0.ɵɵlistener(\"click\", function AddReceiptComponent_Template_button_click_120_listener() {\n        return ctx.addAdditionRow();\n      });\n      i0.ɵɵelement(121, \"i\", 49);\n      i0.ɵɵtext(122, \" Add \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"div\", 50);\n      i0.ɵɵelementStart(124, \"label\", 51);\n      i0.ɵɵtext(125, \"Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(126, \"ng-select\", 52);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_126_listener($event) {\n        return ctx.receiptData.charges.addAccountID = $event;\n      })(\"change\", function AddReceiptComponent_Template_ng_select_change_126_listener() {\n        return ctx.getJournalPreview();\n      });\n      i0.ɵɵtemplate(127, AddReceiptComponent_ng_option_127_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵpipe(128, \"keyvalue\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(129, \"div\", 50);\n      i0.ɵɵelementStart(130, \"label\", 51);\n      i0.ɵɵtext(131, \"Total Addition\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(132, \"input\", 53);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_132_listener($event) {\n        return ctx.receiptData.charges.addTotal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(133, \"div\", 42);\n      i0.ɵɵelementStart(134, \"div\", 14);\n      i0.ɵɵelementStart(135, \"div\", 15);\n      i0.ɵɵelementStart(136, \"div\", 16);\n      i0.ɵɵelementStart(137, \"div\", 33);\n      i0.ɵɵelementStart(138, \"h4\", 43);\n      i0.ɵɵtext(139, \"Deduction\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(140, \"div\", 17);\n      i0.ɵɵelementStart(141, \"table\", 44);\n      i0.ɵɵelementStart(142, \"thead\");\n      i0.ɵɵelementStart(143, \"tr\");\n      i0.ɵɵelementStart(144, \"th\");\n      i0.ɵɵtext(145, \"Charge Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(146, \"th\");\n      i0.ɵɵtext(147, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(148, \"th\");\n      i0.ɵɵtext(149, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(150, \"th\");\n      i0.ɵɵtext(151, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(152, \"tbody\");\n      i0.ɵɵtemplate(153, AddReceiptComponent_tr_153_Template, 10, 4, \"tr\", 41);\n      i0.ɵɵelementStart(154, \"tr\");\n      i0.ɵɵelementStart(155, \"td\");\n      i0.ɵɵelementStart(156, \"input\", 54);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_156_listener($event) {\n        return ctx.dedFields.charge = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(157, \"td\");\n      i0.ɵɵelementStart(158, \"input\", 55);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_158_listener($event) {\n        return ctx.dedFields.desc = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(159, \"td\");\n      i0.ɵɵelementStart(160, \"input\", 56);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_160_listener($event) {\n        return ctx.dedFields.amount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(161, \"td\");\n      i0.ɵɵelementStart(162, \"button\", 48);\n      i0.ɵɵlistener(\"click\", function AddReceiptComponent_Template_button_click_162_listener() {\n        return ctx.addDeductionRow();\n      });\n      i0.ɵɵelement(163, \"i\", 49);\n      i0.ɵɵtext(164, \" Add \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(165, \"div\", 50);\n      i0.ɵɵelementStart(166, \"label\", 51);\n      i0.ɵɵtext(167, \"Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(168, \"ng-select\", 57);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_168_listener($event) {\n        return ctx.receiptData.charges.dedAccountID = $event;\n      })(\"change\", function AddReceiptComponent_Template_ng_select_change_168_listener() {\n        return ctx.getJournalPreview();\n      });\n      i0.ɵɵtemplate(169, AddReceiptComponent_ng_option_169_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵpipe(170, \"keyvalue\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(171, \"div\", 50);\n      i0.ɵɵelementStart(172, \"label\", 51);\n      i0.ɵɵtext(173, \"Total Deduction\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(174, \"input\", 58);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_174_listener($event) {\n        return ctx.receiptData.charges.dedTotal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(175, \"div\", 13);\n      i0.ɵɵelementStart(176, \"div\", 14);\n      i0.ɵɵelementStart(177, \"div\", 15);\n      i0.ɵɵelementStart(178, \"div\", 16);\n      i0.ɵɵelementStart(179, \"div\", 33);\n      i0.ɵɵelementStart(180, \"label\", 34);\n      i0.ɵɵtext(181, \"Record Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(182, \"div\", 59);\n      i0.ɵɵelementStart(183, \"div\", 18);\n      i0.ɵɵelementStart(184, \"div\", 60);\n      i0.ɵɵelementStart(185, \"label\", 51);\n      i0.ɵɵtext(186, \"Total Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(187, \"div\", 18);\n      i0.ɵɵelementStart(188, \"div\", 14);\n      i0.ɵɵelementStart(189, \"input\", 61);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_189_listener($event) {\n        return ctx.totalAmount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(190, \"div\", 60);\n      i0.ɵɵelementStart(191, \"label\", 51);\n      i0.ɵɵtext(192, \"Discount \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(193, \"div\", 18);\n      i0.ɵɵelementStart(194, \"div\", 14);\n      i0.ɵɵelementStart(195, \"input\", 62);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_195_listener($event) {\n        return ctx.receiptData.discount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(196, \"div\", 18);\n      i0.ɵɵelementStart(197, \"div\", 60);\n      i0.ɵɵelementStart(198, \"label\", 51);\n      i0.ɵɵtext(199, \"Received Amount\");\n      i0.ɵɵelementStart(200, \"span\", 21);\n      i0.ɵɵelementStart(201, \"sup\");\n      i0.ɵɵtext(202, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(203, \"div\", 18);\n      i0.ɵɵelementStart(204, \"div\", 14);\n      i0.ɵɵelementStart(205, \"input\", 63, 64);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_input_ngModelChange_205_listener($event) {\n        return ctx.receiptData.recAmount = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(207, AddReceiptComponent_div_207_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(208, AddReceiptComponent_div_208_Template, 3, 1, \"div\", 65);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(209, \"div\", 66);\n      i0.ɵɵelementStart(210, \"div\", 33);\n      i0.ɵɵelementStart(211, \"label\", 34);\n      i0.ɵɵtext(212, \"Journal\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(213, \"div\", 33);\n      i0.ɵɵelementStart(214, \"table\", 67);\n      i0.ɵɵelementStart(215, \"thead\");\n      i0.ɵɵelementStart(216, \"tr\");\n      i0.ɵɵelementStart(217, \"th\");\n      i0.ɵɵtext(218, \"Account Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(219, \"th\");\n      i0.ɵɵtext(220, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(221, \"th\");\n      i0.ɵɵtext(222, \"Credit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(223, \"th\");\n      i0.ɵɵtext(224, \"Debit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(225, \"tbody\");\n      i0.ɵɵtemplate(226, AddReceiptComponent_tr_226_Template, 3, 1, \"tr\", 40);\n      i0.ɵɵtemplate(227, AddReceiptComponent_tr_227_Template, 14, 9, \"tr\", 41);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(228, \"div\", 59);\n      i0.ɵɵelementStart(229, \"div\", 68);\n      i0.ɵɵelementStart(230, \"div\", 69);\n      i0.ɵɵelementStart(231, \"label\", 51);\n      i0.ɵɵtext(232, \"Select Account\");\n      i0.ɵɵelementStart(233, \"span\", 21);\n      i0.ɵɵelementStart(234, \"sup\");\n      i0.ɵɵtext(235, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(236, \"ng-select\", 70, 71);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_236_listener($event) {\n        return ctx.receiptData.accountID = $event;\n      })(\"change\", function AddReceiptComponent_Template_ng_select_change_236_listener() {\n        return ctx.getJournalPreview();\n      });\n      i0.ɵɵtemplate(238, AddReceiptComponent_ng_option_238_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵpipe(239, \"keyvalue\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(240, AddReceiptComponent_div_240_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(241, \"div\", 72);\n      i0.ɵɵelementStart(242, \"button\", 73);\n      i0.ɵɵelement(243, \"i\", 49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(244, \"a\", 74);\n      i0.ɵɵlistener(\"click\", function AddReceiptComponent_Template_a_click_244_listener() {\n        return ctx.refreshAccount();\n      });\n      i0.ɵɵelement(245, \"i\", 75);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(246, \"div\", 18);\n      i0.ɵɵelementStart(247, \"div\", 69);\n      i0.ɵɵelementStart(248, \"label\", 76);\n      i0.ɵɵtext(249, \"Payment Mode\");\n      i0.ɵɵelementStart(250, \"span\", 21);\n      i0.ɵɵelementStart(251, \"sup\");\n      i0.ɵɵtext(252, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(253, \"ng-select\", 77, 78);\n      i0.ɵɵlistener(\"ngModelChange\", function AddReceiptComponent_Template_ng_select_ngModelChange_253_listener($event) {\n        return ctx.receiptData.paymentMode = $event;\n      })(\"change\", function AddReceiptComponent_Template_ng_select_change_253_listener($event) {\n        return ctx.showPaymentFields($event);\n      });\n      i0.ɵɵtemplate(255, AddReceiptComponent_ng_option_255_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(256, AddReceiptComponent_div_256_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(257, AddReceiptComponent_div_257_Template, 22, 10, \"div\", 79);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(258, \"div\", 80);\n      i0.ɵɵelementStart(259, \"div\", 81);\n      i0.ɵɵelementStart(260, \"a\", 82);\n      i0.ɵɵtext(261, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(262, AddReceiptComponent_button_262_Template, 2, 1, \"button\", 83);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(263, \"div\", 84);\n      i0.ɵɵelementStart(264, \"div\", 85);\n      i0.ɵɵelementStart(265, \"div\", 86);\n      i0.ɵɵelementStart(266, \"div\", 87);\n      i0.ɵɵelementStart(267, \"h5\", 88);\n      i0.ɵɵtext(268, \"Add Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(269, \"button\", 89);\n      i0.ɵɵelement(270, \"i\", 90);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(271, \"div\", 91);\n      i0.ɵɵelement(272, \"app-add-account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(29);\n\n      const _r4 = i0.ɵɵreference(38);\n\n      const _r15 = i0.ɵɵreference(206);\n\n      const _r20 = i0.ɵɵreference(237);\n\n      const _r23 = i0.ɵɵreference(254);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.txnDate);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.dirty || _r2.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.customerID)(\"multiple\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.recAmountCur)(\"clearable\", false);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.curError);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.searchDisabled);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngIf\", ctx.invoices.length === 0 && ctx.orderInvoices.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orderInvoices);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.invoices);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.receiptData.charges.addition);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.additionFields.charge);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.additionFields.desc);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.additionFields.amount);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.charges.addAccountID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(128, 46, ctx.accounts));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.charges.addTotal);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.receiptData.charges.deduction);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.dedFields.charge);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.dedFields.desc);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.dedFields.amount);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.charges.dedAccountID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(170, 48, ctx.accounts));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.charges.dedTotal);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngModel\", ctx.totalAmount)(\"disabled\", true);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.discount)(\"disabled\", true);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.recAmount)(\"disabled\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r15.invalid && (_r15.dirty || _r15.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.receiptData.recAmountCur !== ctx.receiptData.recAmountCur);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngIf\", ctx.journalPrev.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.journalPrev);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.accountID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(239, 50, ctx.accounts));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r20.invalid && (_r20.dirty || _r20.touched));\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.receiptData.paymentMode);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paymentMode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r23.invalid && (_r23.dirty || _r23.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.receiptData.paymentMode !== null);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.recID);\n    }\n  },\n  directives: [i4.RouterLinkWithHref, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i6.NgbInputDatepicker, i5.DefaultValueAccessor, i5.RequiredValidator, i5.NgControlStatus, i5.NgModel, i7.NgIf, i8.NgSelectComponent, i7.NgForOf, i8.ɵr, i5.MinValidator, i5.NumberValueAccessor, i9.AddAccountComponent, i5.CheckboxControlValueAccessor, i5.MaxValidator, i5.PatternValidator],\n  pipes: [i7.KeyValuePipe, i7.TitleCasePipe, i7.DecimalPipe, i7.UpperCasePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}