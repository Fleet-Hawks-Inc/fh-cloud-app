{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from \"src/app/pages/fleet/constants\";\nimport * as moment from \"moment\";\nimport { from } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/list.service\";\nimport * as i2 from \"src/app/services/account.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i9 from \"@ng-select/ng-select\";\n\nfunction AddVendorPaymentComponent_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddVendorPaymentComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_31_div_1_Template, 2, 0, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(30);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_ng_option_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r23 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r23.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", data_r23.companyName, \" \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_41_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Vendor is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddVendorPaymentComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_41_div_1_Template, 2, 0, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(39);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_div_60_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Currency is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddVendorPaymentComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_60_div_1_Template, 2, 0, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r7 = i0.ɵɵreference(55);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 77);\n    i0.ɵɵelementStart(1, \"td\", 78);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.dataMessage, \" \");\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_94_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 77);\n    i0.ɵɵelementStart(2, \"input\", 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_94_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const data_r26 = restoredCtx.$implicit;\n      return data_r26.selected = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_94_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.billsTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵelementStart(23, \"span\", 80);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\", 77);\n    i0.ɵɵelementStart(26, \"input\", 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_94_Template_input_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const data_r26 = restoredCtx.$implicit;\n      return data_r26.fullPayment = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_94_Template_input_change_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const i_r27 = restoredCtx.index;\n      const data_r26 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.assignFullPayment(i_r27, data_r26);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵelementStart(28, \"input\", 81);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_94_Template_input_ngModelChange_28_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const data_r26 = restoredCtx.$implicit;\n      return data_r26.paidAmount = $event;\n    })(\"input\", function AddVendorPaymentComponent_tr_94_Template_input_input_28_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.billsTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r26 = ctx.$implicit;\n    const i_r27 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"selected\", i_r27, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r26.selected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 17, data_r26.txnDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r26.billNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r26.refNo ? data_r26.refNo : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 20, data_r26.dueDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(15, 23, data_r26.total.finalTotal, \"1.2-2\"), \" \", data_r26.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(18, 26, data_r26.balance, \"1.2-2\"), \" \", data_r26.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(21, 29, data_r26.prevPaidAmount, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(data_r26.newStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"fullPay\", i_r27, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r26.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"payment\", i_r27, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r26.paidAmount)(\"disabled\", data_r26.fullPayment);\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_122_ng_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const qtype_r40 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", qtype_r40.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", qtype_r40.name, \"\");\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_122_ng_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const qtype_r41 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", qtype_r41.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", qtype_r41.name, \"\");\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_122_ng_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r42 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r42.actID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", data_r42.actNo, \" - \", i0.ɵɵpipeBind1(2, 3, data_r42.actName), \" \");\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_122_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"input\", 82);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.comm = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelementStart(5, \"div\", 83);\n    i0.ɵɵelementStart(6, \"input\", 84);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_input_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.qty = $event;\n    })(\"input\", function AddVendorPaymentComponent_tr_122_Template_input_input_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const idt_r36 = restoredCtx.index;\n      const ctx_r46 = i0.ɵɵnextContext();\n      return ctx_r46.calcDetailAmount(idt_r36);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 85);\n    i0.ɵɵelementStart(8, \"ng-select\", 86);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_ng_select_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.qtyTyp = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_122_Template_ng_select_change_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const idt_r36 = restoredCtx.index;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.setQuanType($event, idt_r36);\n    });\n    i0.ɵɵtemplate(9, AddVendorPaymentComponent_tr_122_ng_option_9_Template, 2, 2, \"ng-option\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵelementStart(11, \"div\", 4);\n    i0.ɵɵelementStart(12, \"div\", 87);\n    i0.ɵɵelementStart(13, \"input\", 88);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.rate = $event;\n    })(\"input\", function AddVendorPaymentComponent_tr_122_Template_input_input_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const idt_r36 = restoredCtx.index;\n      const ctx_r50 = i0.ɵɵnextContext();\n      return ctx_r50.calcDetailAmount(idt_r36);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 89);\n    i0.ɵɵelementStart(15, \"label\");\n    i0.ɵɵtext(16, \"per\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 85);\n    i0.ɵɵelementStart(18, \"ng-select\", 86);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_ng_select_ngModelChange_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.rateTyp = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_122_Template_ng_select_change_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const idt_r36 = restoredCtx.index;\n      const ctx_r52 = i0.ɵɵnextContext();\n      return ctx_r52.setQuanType($event, idt_r36);\n    });\n    i0.ɵɵtemplate(19, AddVendorPaymentComponent_tr_122_ng_option_19_Template, 2, 2, \"ng-option\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵelementStart(21, \"input\", 90);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_input_ngModelChange_21_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.amount = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵelementStart(23, \"ng-select\", 91);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_ng_select_ngModelChange_23_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.accountID = $event;\n    });\n    i0.ɵɵtemplate(24, AddVendorPaymentComponent_tr_122_ng_option_24_Template, 3, 5, \"ng-option\", 27);\n    i0.ɵɵpipe(25, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵelementStart(27, \"input\", 92);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_122_Template_input_ngModelChange_27_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const detail_r35 = restoredCtx.$implicit;\n      return detail_r35.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\");\n    i0.ɵɵelementStart(29, \"a\", 93);\n    i0.ɵɵlistener(\"click\", function AddVendorPaymentComponent_tr_122_Template_a_click_29_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const idt_r36 = restoredCtx.index;\n      const ctx_r56 = i0.ɵɵnextContext();\n      return ctx_r56.delDetail(idt_r36);\n    });\n    i0.ɵɵelement(30, \"i\", 94);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const detail_r35 = ctx.$implicit;\n    const idt_r36 = ctx.index;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"comm\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.comm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qty\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"quanType\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.qtyTyp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.quantityTypes);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rate\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.rate);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rateTyp\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.rateTyp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.quantityTypes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"amount\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"accountID\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.accountID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(25, 19, ctx_r11.accounts));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"description\", idt_r36, \"\");\n    i0.ɵɵproperty(\"ngModel\", detail_r35.description);\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_157_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 77);\n    i0.ɵɵelementStart(1, \"td\", 95);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r12.dataMessageAdv);\n  }\n}\n\nfunction AddVendorPaymentComponent_tr_158_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 77);\n    i0.ɵɵelementStart(2, \"input\", 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_158_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const data_r57 = restoredCtx.$implicit;\n      return data_r57.selected = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_158_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r61 = i0.ɵɵnextContext();\n      return ctx_r61.advanceTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"span\", 80);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 77);\n    i0.ɵɵelementStart(18, \"input\", 79);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_158_Template_input_ngModelChange_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const data_r57 = restoredCtx.$implicit;\n      return data_r57.fullPayment = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_158_Template_input_change_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const i_r58 = restoredCtx.index;\n      const data_r57 = restoredCtx.$implicit;\n      const ctx_r63 = i0.ɵɵnextContext();\n      return ctx_r63.assignFullPaymentAdv(i_r58, data_r57);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelementStart(20, \"input\", 96);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_tr_158_Template_input_ngModelChange_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const data_r57 = restoredCtx.$implicit;\n      return data_r57.paidAmount = $event;\n    })(\"change\", function AddVendorPaymentComponent_tr_158_Template_input_change_20_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r65 = i0.ɵɵnextContext();\n      return ctx_r65.advanceTotal();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r57 = ctx.$implicit;\n    const i_r58 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"selcadv\", i_r58, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r57.selected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 16, data_r57.txnDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r57.paymentNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", data_r57.amount, \" \", data_r57.currency, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", data_r57.pendingPayment, \" \", data_r57.currency, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", data_r57.prevPaidAmount, \" \", data_r57.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", data_r57.newStatus, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"fullPaymentadv\", i_r58, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r57.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"paidAmountadv\", i_r58, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r57.paidAmount)(\"disabled\", data_r57.fullPayment);\n  }\n}\n\nfunction AddVendorPaymentComponent_ng_option_174_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r66 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r66.actID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", data_r66.actNo, \" - \", i0.ɵɵpipeBind1(2, 3, data_r66.actName), \" \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_176_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Account is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddVendorPaymentComponent_div_176_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_176_div_1_Template, 2, 0, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r14 = i0.ɵɵreference(173);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r14.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_ng_option_185_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 76);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r68 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r68.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", data_r68.name, \" \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_186_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment mode is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddVendorPaymentComponent_div_186_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_186_div_1_Template, 2, 0, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r17 = i0.ɵɵreference(184);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r17.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r75 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r75.paymentLabel, \" date is required. \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_188_div_18_div_1_Template, 2, 1, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r72 = i0.ɵɵreference(17);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r72.errors.required);\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r76 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r76.paymentLabel, \" reference is required. \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_div_19_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r77 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r77.paymentLabel, \" reference must contain alphanumeric characters. \");\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, AddVendorPaymentComponent_div_188_div_19_div_1_Template, 2, 1, \"div\", 75);\n    i0.ɵɵtemplate(2, AddVendorPaymentComponent_div_188_div_19_div_2_Template, 2, 1, \"div\", 75);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r70 = i0.ɵɵreference(8);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r70.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r70.errors.pattern);\n  }\n}\n\nfunction AddVendorPaymentComponent_div_188_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r79 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 97);\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵelementStart(2, \"label\", 59);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\", 21);\n    i0.ɵɵelementStart(5, \"sup\");\n    i0.ɵɵtext(6, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 98, 99);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_div_188_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r79);\n      const ctx_r78 = i0.ɵɵnextContext();\n      return ctx_r78.paymentData.payModeNo = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 19);\n    i0.ɵɵelementStart(10, \"label\", 59);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementStart(12, \"span\", 21);\n    i0.ɵɵelementStart(13, \"sup\");\n    i0.ɵɵtext(14, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 100, 101);\n    i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_div_188_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r79);\n      const ctx_r80 = i0.ɵɵnextContext();\n      return ctx_r80.paymentData.payModeDate = $event;\n    })(\"click\", function AddVendorPaymentComponent_div_188_Template_input_click_15_listener() {\n      i0.ɵɵrestoreView(_r79);\n\n      const _r71 = i0.ɵɵreference(16);\n\n      return _r71.toggle();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddVendorPaymentComponent_div_188_div_18_Template, 2, 1, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, AddVendorPaymentComponent_div_188_div_19_Template, 3, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r70 = i0.ɵɵreference(8);\n\n    const _r72 = i0.ɵɵreference(17);\n\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r20.paymentLabel, \" Reference \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"placeholder\", \"\", ctx_r20.paymentLabel, \" Reference\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.paymentData.payModeNo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r20.paymentLabel, \" Date \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r20.paymentData.payModeDate)(\"minDate\", ctx_r20.dateMinLimit)(\"maxDate\", ctx_r20.futureDatesLimit);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", _r72.invalid && (_r72.dirty || _r72.touched));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r70.invalid && (_r70.dirty || _r70.touched));\n  }\n}\n\nfunction AddVendorPaymentComponent_button_212_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 102);\n    i0.ɵɵlistener(\"click\", function AddVendorPaymentComponent_button_212_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r82 = i0.ɵɵnextContext();\n      return ctx_r82.showCheque();\n    });\n    i0.ɵɵtext(1, \" Cheque preview \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(18);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r21.submitDisabled);\n  }\n}\n\nexport class AddVendorPaymentComponent {\n  constructor(listService, accountService, location, toaster, httpClient) {\n    this.listService = listService;\n    this.accountService = accountService;\n    this.location = location;\n    this.toaster = toaster;\n    this.httpClient = httpClient;\n    this.dataMessage = Constants.NO_RECORDS_FOUND;\n    this.dataMessageAdv = Constants.NO_RECORDS_FOUND;\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.paymentData = {\n      txnDate: moment().format(\"YYYY-MM-DD\"),\n      vendorID: null,\n      refNo: \"\",\n      currency: \"CAD\",\n      accountID: null,\n      payMode: null,\n      payModeNo: \"\",\n      payModeDate: null,\n      billIds: [],\n      billData: [],\n      advIds: [],\n      advData: [],\n      total: {\n        subTotal: 0,\n        advTotal: 0,\n        finalTotal: 0,\n        detailTotal: 0\n      },\n      detail: [{\n        comm: \"\",\n        qty: \"\",\n        qtyTyp: null,\n        rate: \"\",\n        rateTyp: null,\n        amount: 0,\n        accountID: null,\n        description: \"\",\n        rowID: \"\"\n      }]\n    };\n    this.quantityTypes = [];\n    this.vendors = [];\n    this.paymentMode = [{\n      name: \"Cash\",\n      value: \"cash\"\n    }, {\n      name: \"Cheque\",\n      value: \"cheque\"\n    }, {\n      name: \"EFT\",\n      value: \"eft\"\n    }, {\n      name: \"Credit Card\",\n      value: \"credit_card\"\n    }, {\n      name: \"Debit Card\",\n      value: \"debit_card\"\n    }, {\n      name: \"Demand Draft\",\n      value: \"demand_draft\"\n    }];\n    this.paymentLabel = \"\";\n    this.bills = [];\n    this.advancePayments = [];\n    this.submitDisabled = false;\n    this.errors = {};\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = \"\";\n    this.Success = \"\";\n    this.showModal = false;\n  }\n\n  ngOnInit() {\n    this.listService.fetchVendors();\n    let vendorList = new Array();\n    this.getValidVendors(vendorList);\n    this.vendors = vendorList;\n    this.listService.fetchChartAccounts();\n    this.accounts = this.listService.accountsList;\n    this.fetchQuantityTypes();\n  }\n\n  getValidVendors(vendorList) {\n    let ids = [];\n    this.listService.vendorList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          vendorList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  showPaymentFields(type) {\n    if (type === \"credit_card\") {\n      this.paymentLabel = \"Credit Card\";\n    } else if (type === \"debit_card\") {\n      this.paymentLabel = \"Debit Card\";\n    } else if (type === \"demand_draft\") {\n      this.paymentLabel = \"Demand Draft\";\n    } else if (type === \"eft\") {\n      this.paymentLabel = \"EFT\";\n    } else if (type === \"cash\") {\n      this.paymentLabel = \"Cash\";\n    } else if (type === \"cheque\") {\n      this.paymentLabel = \"Cheque\";\n    }\n\n    this.paymentData.payModeNo = \"\";\n    this.paymentData.payModeDate = null;\n  }\n\n  fetchVendorData() {\n    this.bills = [];\n    this.advancePayments = [];\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.dataMessageAdv = Constants.FETCHING_DATA;\n    this.fetchVendorBills();\n    this.fetchVendorAdvance();\n  }\n\n  fetchVendorBills() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.paymentData.vendorID) {\n        let result = yield _this.accountService.getData(`bills/vendor/all/${_this.paymentData.vendorID}?currency=${_this.paymentData.currency}`).toPromise();\n\n        if (result.length === 0) {\n          _this.dataMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        if (result.length > 0) {\n          result.map(v => {\n            v.selected = false;\n            v.prevPaidAmount = Number(v.total.finalTotal) - Number(v.balance);\n            v.paidStatus = false;\n            v.fullPayment = false;\n            v.paidAmount = 0;\n            v.newStatus = v.status.replace(\"_\", \" \");\n          });\n          _this.bills = result;\n        }\n      } else {\n        _this.dataMessage = Constants.NO_RECORDS_FOUND;\n      }\n    })();\n  }\n\n  fetchVendorAdvance() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this2.paymentData.vendorID) {\n        let result = yield _this2.accountService.getData(`advance/allPayments/entity/${_this2.paymentData.vendorID}/${_this2.paymentData.currency}`).toPromise();\n\n        if (result.length === 0) {\n          _this2.dataMessageAdv = Constants.NO_RECORDS_FOUND;\n        }\n\n        result.map(v => {\n          v.selected = false;\n          v.prevPaidAmount = Number(v.amount) - Number(v.pendingPayment);\n          v.paidStatus = false;\n          v.fullPayment = false;\n          v.paidAmount = 0;\n          v.newStatus = v.status.replace(\"_\", \" \");\n        });\n        _this2.advancePayments = result;\n      } else {\n        _this2.dataMessageAdv = Constants.NO_RECORDS_FOUND;\n      }\n    })();\n  }\n\n  assignFullPayment(index, data) {\n    if (data.fullPayment) {\n      this.bills[index].paidAmount = this.bills[index].balance;\n      this.bills[index].status = \"deducted\";\n    } else {\n      this.bills[index].paidAmount = 0;\n      this.bills[index].status = \"open\";\n    }\n\n    this.billsTotal();\n  }\n\n  assignFullPaymentAdv(index, data) {\n    if (data.fullPayment) {\n      this.advancePayments[index].paidAmount = this.advancePayments[index].pendingPayment;\n      this.advancePayments[index].status = \"deducted\";\n    } else {\n      this.advancePayments[index].paidAmount = 0;\n      this.advancePayments[index].status = \"not_deducted\";\n    }\n\n    this.advanceTotal();\n  }\n\n  billsTotal() {\n    let subtotal = 0;\n    this.paymentData.billIds = [];\n    this.paymentData.billData = [];\n\n    for (let i = 0; i < this.bills.length; i++) {\n      const element = this.bills[i];\n\n      if (element.selected) {\n        subtotal += Number(element.paidAmount);\n        let status = \"\";\n\n        if (Number(element.paidAmount) === Number(element.balance)) {\n          status = \"paid\";\n        } else if (Number(element.paidAmount) > 0 && Number(element.paidAmount) < Number(element.balance)) {\n          status = \"partially_paid\";\n        } else {\n          status = \"open\";\n        }\n\n        element.status = status;\n\n        if (!this.paymentData.billIds.includes(element.billID)) {\n          this.paymentData.billIds.push(element.billID);\n          let obj = {\n            billID: element.billID,\n            status: status,\n            paidAmount: element.paidAmount,\n            totalAmount: element.balance,\n            pendingAmount: Number(element.balance) - Number(element.paidAmount)\n          };\n          this.paymentData.billData.push(obj);\n        }\n      }\n    }\n\n    this.paymentData.total.subTotal = subtotal + this.paymentData.total.detailTotal;\n    this.calculateFinalTotal();\n  }\n\n  calculateFinalTotal() {\n    this.paymentData.total.finalTotal = this.paymentData.total.subTotal - this.paymentData.total.advTotal;\n  }\n\n  advanceTotal() {\n    this.paymentData.total.advTotal = 0;\n    this.paymentData.advIds = [];\n    this.paymentData.advData = [];\n\n    for (let i = 0; i < this.advancePayments.length; i++) {\n      const element = this.advancePayments[i];\n\n      if (element.selected) {\n        this.paymentData.total.advTotal += Number(element.paidAmount);\n        let status = \"\";\n\n        if (Number(element.paidAmount) === Number(element.pendingPayment)) {\n          status = \"deducted\";\n        } else if (Number(element.paidAmount) > 0 && Number(element.paidAmount) < Number(element.pendingPayment)) {\n          status = \"partially_deducted\";\n        } else {\n          status = \"not_deducted\";\n        }\n\n        element.status = status;\n\n        if (!this.paymentData.advIds.includes(element.paymentID)) {\n          this.paymentData.advIds.push(element.paymentID);\n          let obj = {\n            paymentID: element.paymentID,\n            status: status,\n            paidAmount: element.paidAmount,\n            totalAmount: element.pendingPayment,\n            pendingAmount: Number(element.pendingPayment) - Number(element.paidAmount)\n          };\n          this.paymentData.advData.push(obj);\n        }\n      }\n    }\n\n    this.calculateFinalTotal();\n  }\n\n  addRecord() {\n    this.submitDisabled = true;\n    this.accountService.postData(\"purchase-payments\", this.paymentData).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {\n            this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Payment added successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  cancel() {\n    this.location.back();\n  }\n\n  setQuanType(val, index) {\n    this.paymentData.detail[index].qtyTyp = val;\n    this.paymentData.detail[index].rateTyp = val;\n  }\n\n  addDetail() {\n    let obj = {\n      comm: \"\",\n      qty: \"\",\n      qtyTyp: null,\n      rate: \"\",\n      rateTyp: null,\n      amount: 0,\n      accountID: null,\n      description: \"\",\n      rowID: uuidv4()\n    };\n    const lastAdded = this.paymentData.detail[this.paymentData.detail.length - 1];\n\n    if (lastAdded.comm !== \"\" && lastAdded.qty !== \"\" && lastAdded.qtyTyp !== null && lastAdded.rate !== \"\" && lastAdded.rateTyp !== null && lastAdded.amount !== 0 && lastAdded.accountID !== null) {\n      this.paymentData.detail.push(obj);\n    }\n  }\n\n  delDetail(index) {\n    if (this.paymentData.detail.length > 1) {\n      this.paymentData.detail.splice(index, 1);\n    }\n\n    this.detailsTotal();\n  }\n\n  detailsTotal() {\n    this.paymentData.total.detailTotal = 0;\n    this.paymentData.detail.forEach(element => {\n      this.paymentData.total.detailTotal += Number(element.amount);\n    });\n    this.billsTotal();\n  }\n\n  calcDetailAmount(index) {\n    if (!this.paymentData.detail[index].rate) {\n      this.paymentData.detail[index].rate = \"0\";\n    }\n\n    if (!this.paymentData.detail[index].qty) {\n      this.paymentData.detail[index].qty = \"0\";\n    }\n\n    if (this.paymentData.detail[index].qty && this.paymentData.detail[index].rate) {\n      this.paymentData.detail[index].amount = Number(this.paymentData.detail[index].qty) * Number(this.paymentData.detail[index].rate);\n    }\n\n    this.detailsTotal();\n  }\n\n  fetchQuantityTypes() {\n    this.httpClient.get(\"assets/jsonFiles/quantityTypes.json\").subscribe(data => {\n      this.quantityTypes = data;\n    });\n  }\n\n  showCheque() {\n    this.showModal = true;\n    let obj = {\n      entityId: this.paymentData.vendorID,\n      chequeDate: this.paymentData.payModeDate,\n      chequeAmount: this.paymentData.total.finalTotal,\n      type: \"purchasePayment\",\n      paymentTo: 'vendor',\n      chequeNo: this.paymentData.payModeNo,\n      currency: this.paymentData.currency,\n      showModal: this.showModal,\n      fromDate: this.paymentData.txnDate,\n      finalAmount: this.paymentData.total.finalTotal,\n      txnDate: this.paymentData.txnDate,\n      page: \"addForm\",\n      advance: this.paymentData.total.advTotal\n    };\n    this.listService.openPaymentChequeModal(obj);\n  }\n\n}\n\nAddVendorPaymentComponent.ɵfac = function AddVendorPaymentComponent_Factory(t) {\n  return new (t || AddVendorPaymentComponent)(i0.ɵɵdirectiveInject(i1.ListService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.HttpClient));\n};\n\nAddVendorPaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddVendorPaymentComponent,\n  selectors: [[\"app-add-vendor-payment\"]],\n  decls: 215,\n  vars: 35,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\"], [1, \"row\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"font-weight-bold\", \"text-4\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-3\"], [\"routerLink\", \"/accounts/purchases/vendor-payments/list\", 1, \"mb-1\", \"mt-1\", \"btn\", \"btn-sm\", \"btn-default\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [\"method\", \"get\", 1, \"form-horizontal\", \"form-bordered\"], [\"venPayForm\", \"ngForm\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"col-lg-6\"], [1, \"col-lg-5\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"name\", \"txnDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", \"required\", \"\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"custexp\", \"ngbDatepicker\", \"jDate\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"name\", \"vendorID\", \"placeholder\", \"Select Vendor\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"vendorID\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"refNo\", \"placeholder\", \"Enter Reference#\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"currency\", \"placeholder\", \"Select\\n                            currency\", \"required\", \"\", 3, \"ngModel\", \"clearable\", \"ngModelChange\", \"change\"], [\"curr\", \"ngModel\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [1, \"row\", \"adddriverpl\"], [1, \"col-lg-11\"], [1, \"font-weight-bold\", \"text-5\"], [1, \"table\", \"table-bordered\", \"table-striped\", \"mb-0\", \"simple-table\"], [1, \"text-2\"], [\"class\", \"text-center\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"adddriverpl\", \"my-3\"], [1, \"bg-white\", \"text-dark\"], [1, \"form-group\", \"row\", \"pt-3\"], [1, \"col-lg-10\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"pt-2\"], [1, \"table\", \"table-bordered\"], [2, \"width\", \"180px\"], [2, \"width\", \"200px\"], [2, \"width\", \"120px\"], [2, \"width\", \"80px\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"pull-right\"], [1, \"row\", \"adddriverpl\", \"pt-2\"], [1, \"row\", \"pt-2\", \"adddriverpl\"], [1, \"control-label\", \"font-weight-bold\"], [\"name\", \"accountID\", \"placeholder\", \"Select Account\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"incAccount\", \"ngModel\"], [1, \"control-label\", \"font-weight-bold\", \"labelalign\"], [\"name\", \"paymentMode\", \"placeholder\", \"Select Payment Mode\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"payMode\", \"ngModel\"], [\"class\", \"row pt-1\", \"id\", \"chequeDivDriver\", 4, \"ngIf\"], [1, \"col-lg-3\", \"offset-lg-2\"], [1, \"col-lg-6\", \"text-right\"], [\"name\", \"payAmount\", \"type\", \"text\", \"placeholder\", \"Amount\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"pt-1\"], [\"name\", \"advTotal\", \"type\", \"text\", \"placeholder\", \"Advance\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"finalTotal\", \"type\", \"text\", \"placeholder\", \"Amount\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"pr-1\", \"text-right\"], [\"routerLink\", \"/accounts/purchases/vendor-payments/list\", \"type\", \"button\", 1, \"btn\", \"btn-default\", \"mr-2\"], [\"type\", \"button\", \"class\", \"btn btn-success modal-with-form mr-2\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"text-danger\"], [4, \"ngIf\"], [3, \"value\"], [1, \"text-center\"], [\"colspan\", \"11\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [1, \"badge\", \"badge-dark\", \"p-1\", \"text-uppercase\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"disabled\", \"name\", \"ngModelChange\", \"input\"], [\"type\", \"text\", \"placeholder\", \"Enter\\n                                                                          commodity\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [1, \"col-lg-6\", \"pr-0\", \"mr-2\"], [\"type\", \"text\", \"placeholder\", \"Enter\\n                                                                                  quantity\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"input\"], [1, \"col-lg-5\", \"pl-0\"], [\"placeholder\", \"Select\\n                                                                                  type\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [1, \"col-lg-5\", \"pr-0\", \"mr-2\"], [\"type\", \"text\", \"placeholder\", \"Enter\\n                                                                                  rate\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"input\"], [1, \"col-lg-1\", \"pr-0\", \"pl-0\"], [\"type\", \"text\", \"placeholder\", \"Enter\\n                                                                          amount\", \"readonly\", \"\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Select\\n                                                                          account\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Enter\\n                                                                          description\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"ngModelChange\"], [\"href\", \"javascript:;\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"colspan\", \"9\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"disabled\", \"ngModelChange\", \"change\"], [\"id\", \"chequeDivDriver\", 1, \"row\", \"pt-1\"], [\"type\", \"text\", \"name\", \"payModeNo\", \"required\", \"\", \"pattern\", \"^[a-zA-Z0-9\\\\s]+$\", 1, \"form-control\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\"], [\"modeNUmber\", \"ngModel\"], [\"name\", \"paymentModeDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"custexp\", \"ngbDatepicker\", \"modeDate\", \"ngModel\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"modal-with-form\", \"mr-2\", 3, \"disabled\", \"click\"]],\n  template: function AddVendorPaymentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r84 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7, \"Vendor Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" All Payments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"div\", 11);\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"form\", 15, 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 4);\n      i0.ɵɵelementStart(22, \"div\", 19);\n      i0.ɵɵelementStart(23, \"label\", 20);\n      i0.ɵɵtext(24, \"Payment Date\");\n      i0.ɵɵelementStart(25, \"span\", 21);\n      i0.ɵɵelementStart(26, \"sup\");\n      i0.ɵɵtext(27, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.paymentData.txnDate = $event;\n      })(\"click\", function AddVendorPaymentComponent_Template_input_click_28_listener() {\n        i0.ɵɵrestoreView(_r84);\n\n        const _r1 = i0.ɵɵreference(29);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(31, AddVendorPaymentComponent_div_31_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 19);\n      i0.ɵɵelementStart(33, \"label\", 20);\n      i0.ɵɵtext(34, \"Vendor\");\n      i0.ɵɵelementStart(35, \"span\", 21);\n      i0.ɵɵelementStart(36, \"sup\");\n      i0.ɵɵtext(37, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"ng-select\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_ng_select_ngModelChange_38_listener($event) {\n        return ctx.paymentData.vendorID = $event;\n      })(\"change\", function AddVendorPaymentComponent_Template_ng_select_change_38_listener() {\n        return ctx.fetchVendorData();\n      });\n      i0.ɵɵtemplate(40, AddVendorPaymentComponent_ng_option_40_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(41, AddVendorPaymentComponent_div_41_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"div\", 18);\n      i0.ɵɵelementStart(43, \"div\", 4);\n      i0.ɵɵelementStart(44, \"div\", 19);\n      i0.ɵɵelementStart(45, \"label\", 20);\n      i0.ɵɵtext(46, \"Reference#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"input\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_input_ngModelChange_47_listener($event) {\n        return ctx.paymentData.refNo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"div\", 19);\n      i0.ɵɵelementStart(49, \"label\", 20);\n      i0.ɵɵtext(50, \"Payment Currency\");\n      i0.ɵɵelementStart(51, \"span\", 21);\n      i0.ɵɵelementStart(52, \"sup\");\n      i0.ɵɵtext(53, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"ng-select\", 29, 30);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_ng_select_ngModelChange_54_listener($event) {\n        return ctx.paymentData.currency = $event;\n      })(\"change\", function AddVendorPaymentComponent_Template_ng_select_change_54_listener() {\n        return ctx.fetchVendorData();\n      });\n      i0.ɵɵelementStart(56, \"ng-option\", 31);\n      i0.ɵɵtext(57, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"ng-option\", 32);\n      i0.ɵɵtext(59, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(60, AddVendorPaymentComponent_div_60_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"div\", 33);\n      i0.ɵɵelementStart(62, \"div\", 34);\n      i0.ɵɵelementStart(63, \"h4\", 35);\n      i0.ɵɵtext(64, \"Purchase Bills \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"div\");\n      i0.ɵɵelementStart(66, \"div\", 33);\n      i0.ɵɵelementStart(67, \"div\", 34);\n      i0.ɵɵelementStart(68, \"table\", 36);\n      i0.ɵɵelementStart(69, \"thead\");\n      i0.ɵɵelementStart(70, \"tr\", 13);\n      i0.ɵɵelement(71, \"th\", 37);\n      i0.ɵɵelementStart(72, \"th\", 37);\n      i0.ɵɵtext(73, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"th\", 37);\n      i0.ɵɵtext(75, \"Purchase Bill#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"th\", 37);\n      i0.ɵɵtext(77, \"Reference#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"th\", 37);\n      i0.ɵɵtext(79, \"Due Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"th\", 37);\n      i0.ɵɵtext(81, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"th\", 37);\n      i0.ɵɵtext(83, \"Pending Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"th\", 37);\n      i0.ɵɵtext(85, \"Paid Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"th\", 37);\n      i0.ɵɵtext(87, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"th\", 37);\n      i0.ɵɵtext(89, \"Full Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(90, \"th\", 37);\n      i0.ɵɵtext(91, \"Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"tbody\");\n      i0.ɵɵtemplate(93, AddVendorPaymentComponent_tr_93_Template, 3, 1, \"tr\", 38);\n      i0.ɵɵtemplate(94, AddVendorPaymentComponent_tr_94_Template, 29, 32, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(95, \"div\", 40);\n      i0.ɵɵelementStart(96, \"div\", 12);\n      i0.ɵɵelementStart(97, \"div\", 41);\n      i0.ɵɵelementStart(98, \"div\", 42);\n      i0.ɵɵelementStart(99, \"div\", 43);\n      i0.ɵɵelementStart(100, \"label\", 44);\n      i0.ɵɵtext(101, \"Manual Bill Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"div\", 34);\n      i0.ɵɵelementStart(103, \"div\", 45);\n      i0.ɵɵelementStart(104, \"table\", 46);\n      i0.ɵɵelementStart(105, \"thead\");\n      i0.ɵɵelementStart(106, \"tr\");\n      i0.ɵɵelementStart(107, \"th\", 47);\n      i0.ɵɵtext(108, \" Commodity \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"th\", 48);\n      i0.ɵɵtext(110, \" Quantity \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(111, \"th\", 48);\n      i0.ɵɵtext(112, \" Rate \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(113, \"th\", 49);\n      i0.ɵɵtext(114, \" Amount \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(115, \"th\", 47);\n      i0.ɵɵtext(116, \" Account \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"th\", 47);\n      i0.ɵɵtext(118, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"th\", 50);\n      i0.ɵɵtext(120, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(121, \"tbody\");\n      i0.ɵɵtemplate(122, AddVendorPaymentComponent_tr_122_Template, 31, 21, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"div\");\n      i0.ɵɵelementStart(124, \"button\", 51);\n      i0.ɵɵlistener(\"click\", function AddVendorPaymentComponent_Template_button_click_124_listener() {\n        return ctx.addDetail();\n      });\n      i0.ɵɵelement(125, \"i\", 52);\n      i0.ɵɵtext(126, \" Add Another Line \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(127, \"span\", 53);\n      i0.ɵɵtext(128);\n      i0.ɵɵpipe(129, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(130, \"div\", 54);\n      i0.ɵɵelementStart(131, \"div\", 34);\n      i0.ɵɵelementStart(132, \"h4\", 35);\n      i0.ɵɵtext(133, \" Advance Payments \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(134, \"div\", 33);\n      i0.ɵɵelementStart(135, \"div\", 34);\n      i0.ɵɵelementStart(136, \"table\", 36);\n      i0.ɵɵelementStart(137, \"thead\");\n      i0.ɵɵelementStart(138, \"tr\", 13);\n      i0.ɵɵelement(139, \"th\", 37);\n      i0.ɵɵelementStart(140, \"th\", 37);\n      i0.ɵɵtext(141, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(142, \"th\", 37);\n      i0.ɵɵtext(143, \"Payment#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(144, \"th\", 37);\n      i0.ɵɵtext(145, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(146, \"th\", 37);\n      i0.ɵɵtext(147, \"Pending Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(148, \"th\", 37);\n      i0.ɵɵtext(149, \"Paid Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(150, \"th\", 37);\n      i0.ɵɵtext(151, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(152, \"th\", 37);\n      i0.ɵɵtext(153, \"Full Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(154, \"th\", 37);\n      i0.ɵɵtext(155, \"Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(156, \"tbody\");\n      i0.ɵɵtemplate(157, AddVendorPaymentComponent_tr_157_Template, 3, 1, \"tr\", 38);\n      i0.ɵɵtemplate(158, AddVendorPaymentComponent_tr_158_Template, 21, 19, \"tr\", 39);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(159, \"div\", 54);\n      i0.ɵɵelementStart(160, \"div\", 34);\n      i0.ɵɵelementStart(161, \"h4\", 35);\n      i0.ɵɵtext(162, \" Payment Information \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(163, \"div\", 55);\n      i0.ɵɵelementStart(164, \"div\", 18);\n      i0.ɵɵelementStart(165, \"div\", 4);\n      i0.ɵɵelementStart(166, \"div\", 19);\n      i0.ɵɵelementStart(167, \"label\", 56);\n      i0.ɵɵtext(168, \"Select Account\");\n      i0.ɵɵelementStart(169, \"span\", 21);\n      i0.ɵɵelementStart(170, \"sup\");\n      i0.ɵɵtext(171, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(172, \"ng-select\", 57, 58);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_ng_select_ngModelChange_172_listener($event) {\n        return ctx.paymentData.accountID = $event;\n      });\n      i0.ɵɵtemplate(174, AddVendorPaymentComponent_ng_option_174_Template, 3, 5, \"ng-option\", 27);\n      i0.ɵɵpipe(175, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(176, AddVendorPaymentComponent_div_176_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(177, \"div\", 19);\n      i0.ɵɵelementStart(178, \"label\", 59);\n      i0.ɵɵtext(179, \"Payment Mode \");\n      i0.ɵɵelementStart(180, \"span\", 21);\n      i0.ɵɵelementStart(181, \"sup\");\n      i0.ɵɵtext(182, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(183, \"ng-select\", 60, 61);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_ng_select_ngModelChange_183_listener($event) {\n        return ctx.paymentData.payMode = $event;\n      })(\"change\", function AddVendorPaymentComponent_Template_ng_select_change_183_listener($event) {\n        return ctx.showPaymentFields($event);\n      });\n      i0.ɵɵtemplate(185, AddVendorPaymentComponent_ng_option_185_Template, 2, 2, \"ng-option\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(186, AddVendorPaymentComponent_div_186_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(187, \"div\", 19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(188, AddVendorPaymentComponent_div_188_Template, 20, 9, \"div\", 62);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(189, \"div\", 63);\n      i0.ɵɵelementStart(190, \"div\", 4);\n      i0.ɵɵelementStart(191, \"div\", 64);\n      i0.ɵɵelementStart(192, \"label\", 56);\n      i0.ɵɵtext(193, \" Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(194, \"div\", 18);\n      i0.ɵɵelementStart(195, \"input\", 65);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_input_ngModelChange_195_listener($event) {\n        return ctx.paymentData.total.subTotal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(196, \"div\", 66);\n      i0.ɵɵelementStart(197, \"div\", 64);\n      i0.ɵɵelementStart(198, \"label\", 56);\n      i0.ɵɵtext(199, \"Advance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(200, \"div\", 18);\n      i0.ɵɵelementStart(201, \"input\", 67);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_input_ngModelChange_201_listener($event) {\n        return ctx.paymentData.total.advTotal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(202, \"div\", 66);\n      i0.ɵɵelementStart(203, \"div\", 64);\n      i0.ɵɵelementStart(204, \"label\", 56);\n      i0.ɵɵtext(205, \"Net Payable\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(206, \"div\", 18);\n      i0.ɵɵelementStart(207, \"input\", 68);\n      i0.ɵɵlistener(\"ngModelChange\", function AddVendorPaymentComponent_Template_input_ngModelChange_207_listener($event) {\n        return ctx.paymentData.total.finalTotal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(208, \"div\", 69);\n      i0.ɵɵelementStart(209, \"div\", 70);\n      i0.ɵɵelementStart(210, \"button\", 71);\n      i0.ɵɵtext(211, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(212, AddVendorPaymentComponent_button_212_Template, 2, 1, \"button\", 72);\n      i0.ɵɵelementStart(213, \"button\", 73);\n      i0.ɵɵlistener(\"click\", function AddVendorPaymentComponent_Template_button_click_213_listener() {\n        return ctx.addRecord();\n      });\n      i0.ɵɵtext(214, \" Save \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(18);\n\n      const _r2 = i0.ɵɵreference(30);\n\n      const _r4 = i0.ɵɵreference(39);\n\n      const _r7 = i0.ɵɵreference(55);\n\n      const _r14 = i0.ɵɵreference(173);\n\n      const _r17 = i0.ɵɵreference(184);\n\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.txnDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.dirty || _r2.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.vendorID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vendors);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.refNo);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.currency)(\"clearable\", false);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r7.invalid && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"ngIf\", ctx.bills.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.bills);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paymentData.detail);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate2(\" Detail Total: \", i0.ɵɵpipeBind2(129, 30, ctx.paymentData.total.detailTotal, \"1.2-2\"), \" \", ctx.paymentData.currency, \" \");\n      i0.ɵɵadvance(29);\n      i0.ɵɵproperty(\"ngIf\", ctx.advancePayments.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.advancePayments);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.accountID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(175, 33, ctx.accounts));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r14.invalid && (_r14.dirty || _r14.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.payMode);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paymentMode);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r17.invalid && (_r17.dirty || _r17.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.paymentData.payMode);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.total.subTotal);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.total.advTotal);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.paymentData.total.finalTotal);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.paymentData.payMode == \"cheque\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx.submitDisabled);\n    }\n  },\n  directives: [i6.RouterLinkWithHref, i7.ɵNgNoValidate, i7.NgControlStatusGroup, i7.NgForm, i8.NgbInputDatepicker, i7.DefaultValueAccessor, i7.RequiredValidator, i7.NgControlStatus, i7.NgModel, i3.NgIf, i9.NgSelectComponent, i3.NgForOf, i9.ɵr, i6.RouterLink, i7.CheckboxControlValueAccessor, i7.PatternValidator],\n  pipes: [i3.DecimalPipe, i3.AsyncPipe, i3.DatePipe, i3.TitleCasePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}