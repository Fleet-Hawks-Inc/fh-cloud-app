{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Auth } from 'aws-amplify';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services\";\nimport * as i2 from \"ngx-spinner\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction AllCarriersComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AllCarriersComponent_tr_25_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.selectCarrier(item_r2.carrierID, item_r2.businessName);\n    });\n    i0.ɵɵtext(3, \"Select\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 17);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 17);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 17);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", item_r2.firstName, \" \", item_r2.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.businessName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.carrierEmail);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 6, item_r2.timeCreated, \"MM-dd-yyyy\"));\n  }\n}\n\nfunction AllCarriersComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.dataMessage, \" \");\n  }\n}\n\nexport class AllCarriersComponent {\n  constructor(apiService, spinner, router) {\n    this.apiService = apiService;\n    this.spinner = spinner;\n    this.router = router;\n    this.carriersList = [];\n    this.dataMessage = 'Fetching Data.....';\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.fetchCarriers();\n    })();\n  }\n\n  fetchCarriers() {\n    this.spinner.show();\n    this.apiService.getData('carriers').subscribe(result => {\n      if (result.Items.length == 0) {\n        this.dataMessage = 'No Data Found';\n      }\n\n      this.carriersList = result.Items;\n      this.spinner.hide();\n    }, err => {\n      this.spinner.hide();\n    });\n  }\n\n  Logout() {\n    Auth.signOut();\n    localStorage.removeItem('vehicle');\n    localStorage.removeItem('driver');\n    localStorage.removeItem('LoggedIn');\n    localStorage.removeItem('user');\n    localStorage.removeItem('carrierID'); // localStorage.removeItem('jwt');\n\n    this.router.navigate(['/Login']);\n  }\n\n  selectCarrier(carrierID, carrierBusiness) {\n    localStorage.setItem('carrierID', carrierID);\n    localStorage.setItem('carrierBusiness', carrierBusiness);\n    this.router.navigate(['/Map-Dashboard']);\n  }\n\n}\n\nAllCarriersComponent.ɵfac = function AllCarriersComponent_Factory(t) {\n  return new (t || AllCarriersComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.NgxSpinnerService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nAllCarriersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AllCarriersComponent,\n  selectors: [[\"app-all-carriers\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[1, \"row\"], [1, \"col-12\", \"px-5\", \"text-right\", \"py-3\", \"shadow-sm\", \"position-fixed\", \"fixed-top\", \"bg-white\"], [\"href\", \"javascript:;\", 3, \"click\"], [1, \"row\", \"justify-content-center\", \"h-100\", \"align-items-center\", \"custom-bg\", \"mt-5\"], [1, \"col-8\"], [1, \"card\"], [1, \"card-body\", \"text-dark\"], [\"id\", \"diverTbl\", 1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [\"id\", \"\"], [\"id\", \"\", 1, \"col2\"], [\"id\", \"\", 1, \"col11\"], [\"id\", \"\", 1, \"col18\"], [\"id\", \"\", 1, \"col12\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"text-capitalize\"], [1, \"\"], [\"colspan\", \"6\"]],\n  template: function AllCarriersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function AllCarriersComponent_Template_a_click_2_listener() {\n        return ctx.Logout();\n      });\n      i0.ɵɵtext(3, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"h3\");\n      i0.ɵɵtext(8, \"Choose carrier...........\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"table\", 7);\n      i0.ɵɵelementStart(11, \"thead\");\n      i0.ɵɵelementStart(12, \"tr\");\n      i0.ɵɵelement(13, \"th\", 8);\n      i0.ɵɵelementStart(14, \"th\", 9);\n      i0.ɵɵtext(15, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 10);\n      i0.ɵɵtext(17, \"Business Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 11);\n      i0.ɵɵtext(19, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 12);\n      i0.ɵɵtext(21, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 8);\n      i0.ɵɵtext(23, \"On-Board Date \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"tbody\");\n      i0.ɵɵtemplate(25, AllCarriersComponent_tr_25_Template, 15, 9, \"tr\", 13);\n      i0.ɵɵtemplate(26, AllCarriersComponent_tr_26_Template, 3, 1, \"tr\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngForOf\", ctx.carriersList);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.carriersList == null ? null : ctx.carriersList.length) == 0);\n    }\n  },\n  directives: [i4.NgForOf, i4.NgIf],\n  pipes: [i4.DatePipe],\n  styles: [\".card-body[_ngcontent-%COMP%]{\\r\\n    box-shadow: 0px 0px 4px 1px #e2e2e2;\\r\\n}\\r\\n.custom-bg[_ngcontent-%COMP%]{\\r\\n    background-color: #f8f9fa;\\r\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module"}