{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from 'src/app/pages/fleet/constants';\nimport * as moment from 'moment';\nimport { from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@ng-select/ng-select\";\n\nfunction AddSalesInvoiceComponent_div_39_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment Currency is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_div_39_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(34);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.required);\n  }\n}\n\nfunction AddSalesInvoiceComponent_ng_option_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 110);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const customer_r27 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", customer_r27.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r27.companyName, \" \");\n  }\n}\n\nfunction AddSalesInvoiceComponent_ng_option_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 110);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r28 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r28.saleID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r28.sOrNo, \" \");\n  }\n}\n\nfunction AddSalesInvoiceComponent_ng_option_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 110);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r29 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r29.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", data_r29.name, \" \");\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_79_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Payment terms is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_div_79_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r9 = i0.ɵɵreference(77);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors.required);\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_94_tr_31_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Partially Received\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_94_tr_31_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r32 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r32.status);\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_94_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"input\", 111);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r38);\n      const data_r32 = restoredCtx.$implicit;\n      return data_r32.selected = $event;\n    })(\"change\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return ctx_r39.selectedCredits(\"stl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelementStart(20, \"span\", 112);\n    i0.ɵɵtemplate(21, AddSalesInvoiceComponent_div_94_tr_31_span_21_Template, 2, 0, \"span\", 84);\n    i0.ɵɵtemplate(22, AddSalesInvoiceComponent_div_94_tr_31_span_22_Template, 2, 1, \"span\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 113);\n    i0.ɵɵelementStart(24, \"input\", 114);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r38);\n      const data_r32 = restoredCtx.$implicit;\n      return data_r32.fullPayment = $event;\n    })(\"change\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_change_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r38);\n      const i_r33 = restoredCtx.index;\n      const data_r32 = restoredCtx.$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return ctx_r41.assignFullPayment(i_r33, data_r32, \"stl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelementStart(26, \"input\", 115);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r38);\n      const data_r32 = restoredCtx.$implicit;\n      return data_r32.paidAmount = $event;\n    })(\"input\", function AddSalesInvoiceComponent_div_94_tr_31_Template_input_input_26_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return ctx_r43.selectedCredits(\"stl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"label\", 116);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r32 = ctx.$implicit;\n    const i_r33 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"cnc\", i_r33, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r32.selected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r32.cCrNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 18, data_r32.txnDate, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r32.crRef ? data_r32.crRef : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(12, 21, data_r32.totalAmt, \"1.2-2\"), \" \", data_r32.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(15, 24, data_r32.balance, \"1.2-2\"), \" \", data_r32.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(18, 27, data_r32.prevPaidAmount, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", data_r32.status === \"partially_deducted\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r32.status != \"partially_deducted\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"cnf\", i_r33, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r32.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"cns\", i_r33, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r32.paidAmount)(\"disabled\", data_r32.paidStatus);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"stlErr\", i_r33, \"\");\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵelementStart(2, \"div\", 49);\n    i0.ɵɵelementStart(3, \"div\", 50);\n    i0.ɵɵelementStart(4, \"div\", 38);\n    i0.ɵɵelementStart(5, \"label\", 51);\n    i0.ɵɵtext(6, \"Settled Customer Credits\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 52);\n    i0.ɵɵelementStart(8, \"table\", 53);\n    i0.ɵɵelementStart(9, \"thead\");\n    i0.ɵɵelementStart(10, \"tr\");\n    i0.ɵɵelement(11, \"th\");\n    i0.ɵɵelementStart(12, \"th\", 55);\n    i0.ɵɵtext(13, \"Credit#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 55);\n    i0.ɵɵtext(15, \"Payment Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 55);\n    i0.ɵɵtext(17, \"Reference#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 55);\n    i0.ɵɵtext(19, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\", 55);\n    i0.ɵɵtext(21, \"Balance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\", 55);\n    i0.ɵɵtext(23, \"Paid Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 55);\n    i0.ɵɵtext(25, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\", 55);\n    i0.ɵɵtext(27, \"Full Payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 55);\n    i0.ɵɵtext(29, \"Payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"tbody\");\n    i0.ɵɵtemplate(31, AddSalesInvoiceComponent_div_94_tr_31_Template, 28, 30, \"tr\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(31);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.stlCreditsData);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 113);\n    i0.ɵɵelementStart(1, \"td\", 117);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r15.dataMessage);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_127_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Partially Received\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_127_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r44 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r44.status);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_127_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"input\", 111);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_127_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const data_r44 = restoredCtx.$implicit;\n      return data_r44.selected = $event;\n    })(\"change\", function AddSalesInvoiceComponent_tr_127_Template_input_change_2_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.selectedCredits(\"unstl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelementStart(20, \"span\", 112);\n    i0.ɵɵtemplate(21, AddSalesInvoiceComponent_tr_127_span_21_Template, 2, 0, \"span\", 84);\n    i0.ɵɵtemplate(22, AddSalesInvoiceComponent_tr_127_span_22_Template, 2, 1, \"span\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 113);\n    i0.ɵɵelementStart(24, \"input\", 114);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_127_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const data_r44 = restoredCtx.$implicit;\n      return data_r44.fullPayment = $event;\n    })(\"change\", function AddSalesInvoiceComponent_tr_127_Template_input_change_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const i_r45 = restoredCtx.index;\n      const data_r44 = restoredCtx.$implicit;\n      const ctx_r53 = i0.ɵɵnextContext();\n      return ctx_r53.assignFullPayment(i_r45, data_r44, \"unstl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelementStart(26, \"input\", 115);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_127_Template_input_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r50);\n      const data_r44 = restoredCtx.$implicit;\n      return data_r44.paidAmount = $event;\n    })(\"input\", function AddSalesInvoiceComponent_tr_127_Template_input_input_26_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return ctx_r55.selectedCredits(\"unstl\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"label\", 116);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r44 = ctx.$implicit;\n    const i_r45 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"stl\", i_r45, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r44.selected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r44.cCrNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 18, data_r44.txnDate, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r44.crRef ? data_r44.crRef : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(12, 21, data_r44.totalAmt, \"1.2-2\"), \" \", data_r44.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(15, 24, data_r44.balance, \"1.2-2\"), \" \", data_r44.currency, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(18, 27, data_r44.prevPaidAmount, \"1.2-2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", data_r44.status === \"partially_deducted\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r44.status != \"partially_deducted\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"advfinal\", i_r45, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r44.fullPayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"advPaidAmount\", i_r45, \"\");\n    i0.ɵɵproperty(\"ngModel\", data_r44.paidAmount)(\"disabled\", data_r44.paidStatus);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"stlErr\", i_r45, \"\");\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Commodity is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_4_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r58 = i0.ɵɵreference(3);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r58.errors.required);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Quantity is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid number \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_12_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵtemplate(2, AddSalesInvoiceComponent_tr_166_div_12_div_2_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r60 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r60.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r60.errors.pattern);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_16_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵtemplate(2, AddSalesInvoiceComponent_tr_166_div_16_div_2_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r62 = i0.ɵɵreference(15);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r62.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r62.errors.pattern);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Rate is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_22_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid number \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_22_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵtemplate(2, AddSalesInvoiceComponent_tr_166_div_22_div_2_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r64 = i0.ɵɵreference(21);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r64.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r64.errors.pattern);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_26_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_26_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_26_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵtemplate(2, AddSalesInvoiceComponent_tr_166_div_26_div_2_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r62 = i0.ɵɵreference(15);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r62.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r62.errors.pattern);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_ng_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 110);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const act_r80 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", act_r80.actID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", act_r80.actNo, \" - \", i0.ɵɵpipeBind1(2, 3, act_r80.actName), \"\");\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_35_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Account is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵtemplate(1, AddSalesInvoiceComponent_tr_166_div_35_div_1_Template, 2, 0, \"div\", 84);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r68 = i0.ɵɵreference(33);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r68.errors.required);\n  }\n}\n\nfunction AddSalesInvoiceComponent_tr_166_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 118);\n    i0.ɵɵelementStart(2, \"input\", 119, 120);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.commodity = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddSalesInvoiceComponent_tr_166_div_4_Template, 2, 1, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 118);\n    i0.ɵɵelementStart(6, \"input\", 121);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.desc = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 118);\n    i0.ɵɵelementStart(8, \"div\", 18);\n    i0.ɵɵelementStart(9, \"div\", 122);\n    i0.ɵɵelementStart(10, \"input\", 123, 124);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.qty = $event;\n    })(\"input\", function AddSalesInvoiceComponent_tr_166_Template_input_input_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const d_r57 = restoredCtx.index;\n      const ctx_r86 = i0.ɵɵnextContext();\n      return ctx_r86.calculateAmount(d_r57);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AddSalesInvoiceComponent_tr_166_div_12_Template, 3, 2, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 125);\n    i0.ɵɵelementStart(14, \"input\", 126, 127);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.qtyUnit = $event;\n    })(\"change\", function AddSalesInvoiceComponent_tr_166_Template_input_change_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const d_r57 = restoredCtx.index;\n      const ctx_r88 = i0.ɵɵnextContext();\n      return ctx_r88.changeUnit($event.target.value, d_r57);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, AddSalesInvoiceComponent_tr_166_div_16_Template, 3, 2, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 118);\n    i0.ɵɵelementStart(18, \"div\", 18);\n    i0.ɵɵelementStart(19, \"div\", 122);\n    i0.ɵɵelementStart(20, \"input\", 128, 129);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.rate = $event;\n    })(\"input\", function AddSalesInvoiceComponent_tr_166_Template_input_input_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const d_r57 = restoredCtx.index;\n      const ctx_r90 = i0.ɵɵnextContext();\n      return ctx_r90.calculateAmount(d_r57);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, AddSalesInvoiceComponent_tr_166_div_22_Template, 3, 2, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 125);\n    i0.ɵɵelementStart(24, \"input\", 126, 127);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.rateUnit = $event;\n    })(\"change\", function AddSalesInvoiceComponent_tr_166_Template_input_change_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const d_r57 = restoredCtx.index;\n      const ctx_r92 = i0.ɵɵnextContext();\n      return ctx_r92.changeUnit($event.target.value, d_r57);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, AddSalesInvoiceComponent_tr_166_div_26_Template, 3, 2, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\", 118);\n    i0.ɵɵelementStart(28, \"div\", 18);\n    i0.ɵɵelementStart(29, \"div\", 12);\n    i0.ɵɵelementStart(30, \"input\", 130);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_input_ngModelChange_30_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.amount = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 118);\n    i0.ɵɵelementStart(32, \"ng-select\", 131, 132);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_tr_166_Template_ng_select_ngModelChange_32_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const dt_r56 = restoredCtx.$implicit;\n      return dt_r56.accountID = $event;\n    });\n    i0.ɵɵtemplate(34, AddSalesInvoiceComponent_tr_166_ng_option_34_Template, 3, 5, \"ng-option\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(35, AddSalesInvoiceComponent_tr_166_div_35_Template, 2, 1, \"div\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"td\", 133);\n    i0.ɵɵelementStart(37, \"button\", 134);\n    i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_tr_166_Template_button_click_37_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r83);\n      const d_r57 = restoredCtx.index;\n      const ctx_r95 = i0.ɵɵnextContext();\n      return ctx_r95.deleteDetail(d_r57);\n    });\n    i0.ɵɵelement(38, \"i\", 135);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const dt_r56 = ctx.$implicit;\n    const d_r57 = ctx.index;\n\n    const _r58 = i0.ɵɵreference(3);\n\n    const _r60 = i0.ɵɵreference(11);\n\n    const _r62 = i0.ɵɵreference(15);\n\n    const _r64 = i0.ɵɵreference(21);\n\n    const _r68 = i0.ɵɵreference(33);\n\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"commodity\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.commodity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r58.invalid && (_r58.dirty || _r58.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"desc\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.desc);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qty\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r60.invalid && (_r60.dirty || _r60.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qtyUnit\", d_r57, \"\");\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rateUnit\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.qtyUnit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r62.invalid && (_r62.dirty || _r62.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rate\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.rate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r64.invalid && (_r64.dirty || _r64.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rateUnit\", d_r57, \"\");\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qtyUnit\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.rateUnit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r62.invalid && (_r62.dirty || _r62.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"amount\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"accountID\", d_r57, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r56.accountID);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.accounts);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r68.invalid && (_r68.dirty || _r68.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r17.saleData.sOrderDetails.length === 1);\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_204_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid amount \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_240_ng_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 140);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const stateTax_r97 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", stateTax_r97.stateTaxID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", stateTax_r97.stateName, \"\");\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_240_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r99 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵelementStart(2, \"label\", 136);\n    i0.ɵɵtext(3, \"Province/State\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 137);\n    i0.ɵɵelementStart(5, \"ng-select\", 138);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_240_Template_ng_select_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r99);\n      const ctx_r98 = i0.ɵɵnextContext();\n      return ctx_r98.saleData.stateTaxID = $event;\n    })(\"change\", function AddSalesInvoiceComponent_div_240_Template_ng_select_change_5_listener() {\n      i0.ɵɵrestoreView(_r99);\n      const ctx_r100 = i0.ɵɵnextContext();\n      return ctx_r100.stateSelectChange();\n    });\n    i0.ɵɵtemplate(6, AddSalesInvoiceComponent_div_240_ng_option_6_Template, 2, 2, \"ng-option\", 139);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r21.saleData.stateTaxID)(\"clearable\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r21.stateTaxes);\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_241_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r106 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵelementStart(1, \"div\", 144);\n    i0.ɵɵelementStart(2, \"input\", 145);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_241_div_2_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r106);\n      const taxD_r103 = restoredCtx.$implicit;\n      return taxD_r103.name = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 146);\n    i0.ɵɵelementStart(4, \"input\", 147);\n    i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_div_241_div_2_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r106);\n      const taxD_r103 = restoredCtx.$implicit;\n      return taxD_r103.tax = $event;\n    })(\"input\", function AddSalesInvoiceComponent_div_241_div_2_Template_input_input_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r106);\n      const td_r104 = restoredCtx.index;\n      const ctx_r108 = i0.ɵɵnextContext(2);\n      return ctx_r108.taxcalculation(td_r104);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 148);\n    i0.ɵɵelementStart(6, \"span\", 149);\n    i0.ɵɵtext(7, \"%\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const taxD_r103 = ctx.$implicit;\n    const td_r104 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"taxName\", td_r104, \"\");\n    i0.ɵɵproperty(\"ngModel\", taxD_r103.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"taxper\", td_r104, \"\");\n    i0.ɵɵproperty(\"ngModel\", taxD_r103.tax);\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_241_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 150);\n    i0.ɵɵelementStart(1, \"div\", 151);\n    i0.ɵɵelementStart(2, \"p\", 152);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const taxD_r109 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", taxD_r109.amount ? i0.ɵɵpipeBind2(4, 1, taxD_r109.amount, \"1.2-2\") : 0, \" \");\n  }\n}\n\nfunction AddSalesInvoiceComponent_div_241_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵtemplate(2, AddSalesInvoiceComponent_div_241_div_2_Template, 8, 4, \"div\", 141);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 142);\n    i0.ɵɵtemplate(4, AddSalesInvoiceComponent_div_241_div_4_Template, 5, 4, \"div\", 143);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r22.saleData.charges.taxes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r22.saleData.charges.taxes);\n  }\n}\n\nfunction AddSalesInvoiceComponent_button_259_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r112 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 153);\n    i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_button_259_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r112);\n      const ctx_r111 = i0.ɵɵnextContext();\n      return ctx_r111.checkEmailStat(\"no\");\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(17);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r23.submitDisabled);\n  }\n}\n\nfunction AddSalesInvoiceComponent_button_260_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r114 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 154);\n    i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_button_260_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r114);\n      const ctx_r113 = i0.ɵɵnextContext();\n      return ctx_r113.checkEmailStat(\"yes\");\n    });\n    i0.ɵɵtext(1, \" Save & Send \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(17);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r24.submitDisabled);\n  }\n}\n\nfunction AddSalesInvoiceComponent_button_261_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r116 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 153);\n    i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_button_261_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r116);\n      const ctx_r115 = i0.ɵɵnextContext();\n      return ctx_r115.updateInvoice();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(17);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r25.submitDisabled);\n  }\n}\n\nexport class AddSalesInvoiceComponent {\n  constructor(apiService, route, listService, httpClient, location, toaster, accountService) {\n    var _this = this;\n\n    this.apiService = apiService;\n    this.route = route;\n    this.listService = listService;\n    this.httpClient = httpClient;\n    this.location = location;\n    this.toaster = toaster;\n    this.accountService = accountService;\n    this.total = 0;\n    this.submitDisabled = false;\n    this.response = '';\n    this.errors = {};\n    this.creditIds = [];\n    this.creditData = [];\n    this.saleData = {\n      txnDate: moment().format('YYYY-MM-DD'),\n      currency: 'CAD',\n      customerID: null,\n      cusAddressID: '',\n      sOrderNo: '',\n      sRef: '',\n      dueDate: null,\n      paymentTerm: null,\n      salePerson: '',\n      sOrderDetails: [{\n        commodity: '',\n        desc: '',\n        qty: 0,\n        qtyUnit: null,\n        rate: 0,\n        rateUnit: null,\n        amount: 0,\n        accountID: null\n      }],\n      charges: {\n        remarks: \"\",\n        cName: \"Adjustments\",\n        cType: \"add\",\n        cAmount: 0,\n        discount: 0,\n        discountUnit: '%',\n        taxes: [{\n          name: \"GST\",\n          tax: 0,\n          type: \"prcnt\",\n          amount: 0\n        }, {\n          name: \"PST\",\n          tax: 0,\n          type: \"prcnt\",\n          amount: 0\n        }, {\n          name: \"HST\",\n          tax: 0,\n          type: \"prcnt\",\n          amount: 0\n        }]\n      },\n      total: {\n        detailTotal: 0,\n        subTotal: 0,\n        taxes: 0,\n        finalTotal: 0,\n        customerCredit: 0,\n        discountAmount: 0\n      },\n      taxExempt: true,\n      stateTaxID: null,\n      remarks: \"\",\n      creditIds: [],\n      creditData: []\n    };\n    this.paymentTerms = [{\n      value: \"15\",\n      name: \"15 Days\"\n    }, {\n      value: \"30\",\n      name: \"30 Days\"\n    }, {\n      value: \"45\",\n      name: \"45 Days\"\n    }, {\n      value: \"dueReceipt\",\n      name: \"Due on receipt\"\n    }, {\n      value: \"dueEnd\",\n      name: \"Due end of the month\"\n    }, {\n      value: \"custom\",\n      name: \"Custom\"\n    }];\n    this.dataMessage = Constants.NO_RECORDS_FOUND;\n    this.salesOrder = [];\n    this.accounts = [];\n    this.customers = [];\n    this.stateTaxes = [];\n    this.customerCredits = [];\n    this.stlCreditsData = [];\n    this.pageTitle = 'Add';\n    this.getCurrentUser = /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.saleData.salePerson = localStorage.getItem(\"currentUserName\");\n    });\n  }\n\n  ngOnInit() {\n    this.saleID = this.route.snapshot.params[`saleID`];\n\n    if (this.saleID) {\n      this.pageTitle = 'Edit';\n      this.fetchSaleInvoice();\n    } else {\n      this.pageTitle = 'Add';\n      this.fetchAccounts();\n    }\n\n    this.getCurrentUser();\n    this.fetchStateTaxes();\n    this.listService.fetchCustomers();\n    let customerList = new Array();\n    this.getValidCustomers(customerList);\n    this.customers = customerList;\n  }\n\n  getValidCustomers(customerList) {\n    let ids = [];\n    this.listService.customersList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          customerList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  fetchCustomer() {\n    this.listService.fetchCustomers();\n  }\n\n  openModal(unit) {\n    this.listService.triggerModal(unit);\n    localStorage.setItem(\"isOpen\", \"true\");\n    this.listService.changeButton(false);\n  }\n\n  changeUnit(value, i) {\n    this.saleData.sOrderDetails[i].qtyUnit = value;\n    this.saleData.sOrderDetails[i].rateUnit = value;\n    this.calculateAmount(null);\n    this.calculateFinalTotal();\n  }\n\n  calculateAmount(i) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let total = 0;\n\n      if (i != null) {\n        let amount = _this2.saleData.sOrderDetails[i].qty * _this2.saleData.sOrderDetails[i].rate;\n        _this2.saleData.sOrderDetails[i].amount = parseFloat(amount.toFixed(2));\n      }\n\n      _this2.saleData.sOrderDetails.forEach(element => {\n        total += element.amount;\n      });\n\n      _this2.saleData.total.detailTotal = parseFloat(total);\n      _this2.saleData.total.finalTotal = _this2.saleData.total.detailTotal;\n\n      _this2.calculateFinalTotal();\n    })();\n  }\n\n  getCustomerOrders(ID) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.saleData.sOrderNo = '';\n      _this3.saleData.cusAddressID = '';\n      _this3.salesOrder = [];\n      _this3.saleData.sOrderDetails = [{\n        commodity: '',\n        desc: '',\n        qty: 0,\n        qtyUnit: null,\n        rate: 0,\n        rateUnit: null,\n        amount: 0,\n        accountID: null\n      }];\n\n      if (ID != undefined) {\n        yield _this3.getCustomerCredit(ID);\n        yield _this3.getOrders(ID);\n        yield _this3.calculateAmount(null);\n        yield _this3.calculateFinalTotal();\n      }\n    })();\n  }\n\n  getOrders(ID) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this4.accountService.getData(`sales-orders/specific/${ID}`).toPromise();\n\n      if (result.length > 0) {\n        _this4.salesOrder = result;\n      }\n    })();\n  }\n\n  getInvDueDate(e) {\n    if (e === '15') {\n      const test = moment().add(15, 'd');\n      const test1 = moment(test).format('YYYY-MM-DD');\n      this.saleData.dueDate = test1;\n    } else if (e === '30') {\n      const test = moment().add(30, 'd');\n      const test1 = moment(test).format('YYYY-MM-DD');\n      this.saleData.dueDate = test1;\n    } else if (e === '45') {\n      const test = moment().add(45, 'd');\n      const test1 = moment(test).format('YYYY-MM-DD');\n      this.saleData.dueDate = test1;\n    } else if (e === 'dueReceipt') {\n      this.saleData.dueDate = moment().format('YYYY-MM-DD');\n    } else if (e === 'dueEnd') {\n      this.saleData.dueDate = moment().endOf('month').format('YYYY-MM-DD');\n    } else {\n      this.saleData.dueDate = null;\n    }\n  }\n\n  assignFullPayment(index, data, type) {\n    if (data.fullPayment) {\n      if (type === 'unstl') {\n        this.customerCredits[index].paidAmount = data.balance.toFixed(2);\n        this.customerCredits[index].paidStatus = true;\n        this.customerCredits[index].selected = true;\n      } else {\n        this.stlCreditsData[index].paidAmount = data.balance.toFixed(2);\n        this.stlCreditsData[index].paidStatus = true;\n        this.stlCreditsData[index].selected = true;\n      }\n    } else {\n      if (type === 'unstl') {\n        this.customerCredits[index].paidAmount = 0;\n        this.customerCredits[index].paidStatus = false;\n      } else {\n        this.stlCreditsData[index].paidAmount = 0;\n        this.stlCreditsData[index].paidStatus = false;\n      }\n    }\n\n    this.selectedCredits(type);\n  }\n\n  changeCur() {\n    if (this.saleData.customerID != '') {\n      this.getCustomerCredit(this.saleData.customerID);\n    }\n  }\n\n  getCustomerCredit(ID) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      _this5.customerCredits = [];\n      _this5.dataMessage = Constants.FETCHING_DATA;\n      let result = yield _this5.accountService.getData(`customer-credits/specific/${ID}?currency=${_this5.saleData.currency}`).toPromise();\n\n      if (result.length === 0) {\n        _this5.dataMessage = Constants.NO_RECORDS_FOUND;\n      }\n\n      if (result.length > 0) {\n        result.map(v => {\n          v.prevPaidAmount = Number(v.totalAmt) - Number(v.balance);\n          v.paidStatus = false;\n          v.fullPayment = false;\n          v.paidAmount = 0;\n          v.newStatus = v.status.replace(\"_\", \" \");\n        });\n        _this5.customerCredits = result;\n      }\n    })();\n  }\n\n  getOrderDetail(ID) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      let getSaleOrder = _this6.salesOrder.find(elem => elem.saleID === ID);\n\n      if (getSaleOrder && getSaleOrder != undefined) {\n        _this6.saleData.cusAddressID = getSaleOrder.cusInfo.addressID;\n        _this6.saleData.sOrderDetails = [...getSaleOrder.sOrderDetails];\n        yield _this6.calculateAmount(null);\n\n        _this6.calculateFinalTotal();\n      }\n    })();\n  }\n\n  fetchAccounts() {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      _this7.accountService.getData(`chartAc/fetch/list`).subscribe(res => {\n        _this7.accounts = res;\n      });\n    })();\n  }\n\n  addDetails() {\n    let obj = {\n      commodity: '',\n      desc: '',\n      qty: 0,\n      qtyUnit: null,\n      rate: 0,\n      rateUnit: null,\n      amount: 0,\n      accountID: null\n    };\n    const lastAdded = this.saleData.sOrderDetails[this.saleData.sOrderDetails.length - 1];\n\n    if (lastAdded.commodity !== \"\" && lastAdded.qty !== \"\" && lastAdded.qtyUnit !== null && lastAdded.rate !== \"\" && lastAdded.rateUnit !== null && lastAdded.amount !== 0 && lastAdded.accountID !== null) {\n      this.saleData.sOrderDetails.push(obj);\n    }\n\n    this.calculateAmount(null);\n    this.calculateFinalTotal();\n  }\n\n  deleteDetail(d) {\n    this.total -= this.saleData.sOrderDetails[d].amount;\n    this.saleData.sOrderDetails.splice(d, 1);\n    this.calculateAmount(null);\n    this.calculateFinalTotal();\n  }\n\n  calculateFinalTotal() {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      _this8.saleData.total.subTotal = Number(_this8.saleData.total.detailTotal) + Number(_this8.saleData.charges.cAmount);\n\n      _this8.allTax();\n\n      let discount;\n\n      if (_this8.saleData.charges.discountUnit != '' && _this8.saleData.charges.discountUnit != null) {\n        if (_this8.saleData.charges.discountUnit === '%') {\n          discount = _this8.saleData.total.subTotal * _this8.saleData.charges.discount / 100;\n        } else {\n          discount = _this8.saleData.charges.discount;\n        }\n      }\n\n      _this8.saleData.total.discountAmount = discount;\n      _this8.saleData.total.finalTotal = Number(_this8.saleData.total.subTotal) + Number(_this8.saleData.total.taxes) - Number(discount) - Number(_this8.saleData.total.customerCredit);\n    })();\n  }\n\n  accessorialFeeTotal() {\n    // if (this.saleData.charges.cType === \"add\") {\n    //   this.saleData.total.feeTotal = Number(this.saleData.charges.cAmount);\n    // } else if (this.saleData.charges.cType === \"ded\") {\n    //   this.saleData.total.feeTotal = -Number(this.saleData.charges.cAmount);\n    // }\n    this.calculateFinalTotal();\n  }\n\n  taxcalculation(index) {\n    this.saleData.charges.taxes[index].amount = this.saleData.charges.taxes[index].tax * this.saleData.total.subTotal / 100;\n    this.taxTotal();\n  }\n\n  allTax() {\n    let countTax = 0;\n    this.saleData.charges.taxes.forEach(element => {\n      element.amount = element.tax * this.saleData.total.subTotal / 100;\n      countTax += element.amount;\n    });\n    this.saleData.total.taxes = countTax;\n  }\n\n  taxTotal() {\n    this.saleData.total.taxes = 0;\n    this.saleData.charges.taxes.forEach(element => {\n      this.saleData.total.taxes += Number(element.amount);\n    });\n    this.calculateFinalTotal();\n  }\n\n  fetchStateTaxes() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this9.apiService.getData(\"stateTaxes\").toPromise();\n      _this9.stateTaxes = result.Items;\n    })();\n  }\n\n  taxExempt() {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      _this10.saleData.charges.taxes.map(v => {\n        v.tax = 0;\n      });\n\n      _this10.saleData.stateTaxID = null;\n\n      _this10.allTax();\n\n      _this10.taxTotal();\n\n      _this10.calculateFinalTotal();\n    })();\n  }\n\n  stateSelectChange() {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      let selected = _this11.stateTaxes.find(o => o.stateTaxID == _this11.saleData.stateTaxID);\n\n      _this11.saleData.charges.taxes = [];\n      _this11.saleData.charges.taxes = [{\n        name: \"GST\",\n        tax: selected.GST ? selected.GST : 0,\n        type: '',\n        amount: 0\n      }, {\n        name: \"HST\",\n        tax: selected.HST ? selected.HST : 0,\n        type: '',\n        amount: 0\n      }, {\n        name: \"PST\",\n        tax: selected.PST ? selected.PST : 0,\n        type: '',\n        amount: 0\n      }];\n\n      _this11.calculateFinalTotal(); // this.tax =\n      //   (parseInt(selected.GST) ? selected.GST : 0) +\n      //   (parseInt(selected.HST) ? selected.HST : 0) +\n      //   (parseInt(selected.PST) ? selected.PST : 0);\n\n    })();\n  }\n\n  selectedCredits(type) {\n    if (type === 'unstl') {\n      for (const element of this.customerCredits) {\n        if (element.selected) {\n          if (!this.saleData.creditIds.includes(element.creditID)) {\n            let obj = {\n              creditID: element.creditID,\n              status: element.status,\n              paidAmount: element.status === \"not_deducted\" ? element.paidAmount : Number(element.totalAmt) - Number(element.balance),\n              totalAmount: element.status === \"not_deducted\" ? element.amount : element.balance,\n              pendingAmount: element.balance\n            };\n            this.creditIds = [...this.creditIds, element.creditID];\n            this.creditData = [...this.creditData, obj];\n          }\n        } else {\n          this.removeElements(element.creditID);\n        }\n      }\n    } else if (type === 'stl') {\n      for (const element of this.stlCreditsData) {\n        if (element.selected) {\n          if (!this.saleData.creditIds.includes(element.creditID)) {\n            let obj = {\n              creditID: element.creditID,\n              status: element.status,\n              paidAmount: element.status === \"deducted\" ? element.paidAmount : Number(element.paidAmount) - Number(element.balance),\n              totalAmount: element.status === \"deducted\" ? element.totalAmt : Number(element.paidAmount) - Number(element.balance),\n              pendingAmount: element.status === \"deducted\" ? element.totalAmt : Number(element.paidAmount) - Number(element.balance)\n            };\n            this.creditIds = [...this.creditIds, element.creditID];\n            this.creditData = [...this.creditData, obj];\n          }\n        } else {\n          this.removeElements(element.creditID);\n        }\n      }\n    }\n\n    console.log('this.creditData', this.creditData);\n    this.saleData.creditIds = this.creditIds;\n    this.saleData.creditData = this.creditData;\n    this.creditCalculation();\n    this.calculateFinalTotal();\n  }\n\n  removeElements(id) {\n    console.log('edit', id);\n    let index = this.creditIds.indexOf(id);\n    console.log('index', index);\n\n    if (index != -1) {\n      this.creditIds.splice(index, 1);\n    }\n\n    var index1 = this.creditData.findIndex(p => p.creditID == id);\n\n    if (index1 != -1) {\n      this.creditData.splice(index1, 1);\n    }\n  }\n\n  creditCalculation() {\n    this.saleData.total.customerCredit = 0;\n    let creditTotal = 0;\n\n    for (const element of this.customerCredits) {\n      if (element.selected) {\n        creditTotal += Number(element.paidAmount);\n        this.saleData.creditData.map(v => {\n          if (element.creditID === v.creditID) {\n            v.paidAmount = Number(element.paidAmount);\n            v.pendingAmount = Number(element.balance) - Number(element.paidAmount);\n\n            if (Number(element.paidAmount) === Number(element.balance)) {\n              v.status = \"deducted\";\n            } else if (Number(element.paidAmount) < Number(element.balance)) {\n              v.status = \"partially_deducted\";\n            } else {\n              v.status = \"not_deducted\";\n            }\n          }\n        });\n      }\n    }\n\n    for (const element of this.stlCreditsData) {\n      if (element.selected) {\n        creditTotal += Number(element.paidAmount);\n        this.saleData.creditData.map(v => {\n          if (element.creditID === v.creditID) {\n            v.paidAmount = Number(element.paidAmount);\n            v.pendingAmount = Number(element.totalAmt) - Number(element.balance);\n\n            if (Number(element.paidAmount) === Number(element.prevPaidAmount)) {\n              v.status = \"deducted\";\n            } else if (Number(element.paidAmount) < Number(element.prevPaidAmount)) {\n              v.status = \"partially_deducted\";\n            } else {\n              v.status = \"not_deducted\";\n            }\n          }\n        });\n      }\n    }\n\n    this.saleData.total.customerCredit = creditTotal;\n  }\n\n  changeTaxExempt() {\n    this.taxTotal();\n  }\n\n  checkEmailStat(type) {\n    if (type === \"yes\") {\n      this.saleData[\"sendEmail\"] = true;\n    } else {\n      this.saleData[\"sendEmail\"] = false;\n    }\n\n    this.addInvoice();\n  }\n\n  addInvoice() {\n    this.submitDisabled = true;\n\n    for (const elem of this.customerCredits) {\n      if (elem.selected && (elem.paidAmount === 0 || elem.paidAmount === '')) {\n        this.toaster.error('Please add credits amount');\n        this.submitDisabled = false;\n        return false;\n      }\n    }\n\n    ;\n    this.accountService.postData(`sales-invoice`, this.saleData).subscribe({\n      complete: () => {},\n      error: err => {\n        this.submitDisabled = false;\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, 'This Field');\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {// this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success('Invoice added successfully.');\n        this.cancel();\n      }\n    });\n  }\n\n  cancel() {\n    this.location.back(); // <-- go back to previous location on cancel\n  }\n\n  fetchSaleInvoice() {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this12.accountService.getData(`sales-invoice/detail/${_this12.saleID}`).toPromise();\n      result = result[0];\n      _this12.saleData['sInvNo'] = result.sInvNo;\n      _this12.saleData.txnDate = result.txnDate;\n      _this12.saleData.currency = result.currency;\n      _this12.saleData.customerID = result.customerID;\n      _this12.saleData.cusAddressID = result.cusAddressID;\n      _this12.saleData.sRef = result.sRef;\n      _this12.saleData.paymentTerm = result.paymentTerm;\n      _this12.saleData.dueDate = result.dueDate;\n      _this12.saleData.salePerson = result.salePerson;\n      _this12.saleData.creditData = result.creditData;\n      _this12.saleData.creditIds = result.creditIds;\n      _this12.creditIds = result.creditIds;\n      _this12.creditData = result.creditData;\n      _this12.saleData.charges = result.charges;\n      _this12.saleData.remarks = result.remarks;\n      yield _this12.fetchAccounts();\n      yield _this12.getCustomerOrders(result.customerID);\n      _this12.saleData.sOrderNo = result.sOrderNumber;\n      _this12.sOrderID = result.sOrderNo;\n      yield _this12.getOrderDetail(result.sOrderNo);\n\n      if (_this12.saleData.creditIds.length > 0) {\n        yield _this12.fetchStlCreditsData(_this12.saleData.creditIds);\n      }\n\n      _this12.saleData.sOrderDetails = result.sOrderDetails;\n      _this12.saleData.total = result.total;\n    })();\n  }\n\n  fetchStlCreditsData(creditIds) {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      let ids = encodeURIComponent(JSON.stringify(creditIds));\n      let result = yield _this13.accountService.getData(`customer-credits/get/selected?entities=${ids}`).toPromise();\n\n      if (result && result.length > 0) {\n        let settledCredits = [];\n\n        if (_this13.saleData.creditData.length > 0) {\n          for (let i = 0; i < result.length; i++) {\n            const elem1 = result[i];\n\n            for (let index = 0; index < _this13.saleData.creditData.length; index++) {\n              const elem2 = _this13.saleData.creditData[index];\n\n              if (elem1.creditID === elem2.creditID) {\n                let obj = {\n                  cCrNo: elem1.cCrNo,\n                  creditID: elem1.creditID,\n                  currency: elem1.currency,\n                  status: elem1.status,\n                  txnDate: elem1.txnDate,\n                  sRef: elem1.crRef,\n                  fullPayment: elem1.status == 'deducted' ? true : false,\n                  prevPaidAmount: elem2.paidAmount,\n                  paidAmount: elem2.paidAmount,\n                  balance: elem2.pendingAmount,\n                  totalAmt: elem2.totalAmount,\n                  selected: true\n                };\n                settledCredits.push(obj);\n              }\n            }\n          }\n\n          _this13.stlCreditsData = settledCredits;\n        }\n      }\n    })();\n  }\n\n  updateInvoice() {\n    this.customerCredits.forEach(elem => {\n      if (elem.selected && (elem.paidAmount === 0 || elem.paidAmount === '')) {\n        this.toaster.error('Please add credits amount');\n        return;\n      }\n    });\n    this.submitDisabled = true;\n    this.saleData.sOrderNo = this.sOrderID;\n    console.log('this.saleData', this.saleData);\n    return;\n    this.accountService.putData(`sales-invoice/update/${this.saleID}`, this.saleData).subscribe({\n      complete: () => {},\n      error: err => {\n        this.submitDisabled = false;\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, 'This Field');\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {// this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success('Invoice updated successfully.');\n        this.cancel();\n      }\n    });\n  }\n\n}\n\nAddSalesInvoiceComponent.ɵfac = function AddSalesInvoiceComponent_Factory(t) {\n  return new (t || AddSalesInvoiceComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i1.ListService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.Location), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i1.AccountService));\n};\n\nAddSalesInvoiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddSalesInvoiceComponent,\n  selectors: [[\"app-add-sales-invoice\"]],\n  decls: 262,\n  vars: 57,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-4\", \"col-lg-4\", \"font-weight-bold\", \"text-4\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-4\"], [\"routerLink\", \"/accounts/sales/invoices/list\", 1, \"btn\", \"btn-default\", \"btn-sm\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [1, \"\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [\"method\", \"post\", \"id\", \"saleForm\", 1, \"form-horizontal\", \"form-bordered\"], [\"saleForm\", \"ngForm\"], [1, \"row\", \"adddriverpl\"], [1, \"col-lg-6\"], [1, \"row\"], [1, \"col-lg-5\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"type\", \"text\", \"name\", \"txnDate\", \"ngbDatepicker\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"tDate\", \"ngbDatepicker\", \"sOrderDate\", \"ngModel\"], [\"name\", \"currency\", \"placeholder\", \"Select currency\", \"required\", \"\", 3, \"clearable\", \"ngModel\", \"change\", \"ngModelChange\"], [\"payCur\", \"ngModel\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"col-lg-8\"], [\"name\", \"customerID\", \"placeholder\", \"Select customer\", \"required\", \"\", 1, \"form-control\", \"text-capitalize\", 3, \"clearable\", \"ngModel\", \"ngModelChange\", \"change\"], [\"cusID\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-2\", \"mar-top-37\", \"text-right\"], [1, \"btn\", \"btn-success\", \"btn-sm\", \"text-light\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [\"data-toggle\", \"modal\", \"href\", \"javascript:;\", 1, \"modal-with-form\", \"btn\", \"btn-sm\", \"btn-success\", \"ml-2\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [1, \"col-lg-10\"], [\"name\", \"sOrderNo\", \"placeholder\", \"Select sale order\", \"required\", \"\", 1, \"form-control\", \"text-capitalize\", 3, \"clearable\", \"ngModel\", \"disabled\", \"ngModelChange\", \"change\"], [\"sONo\", \"ngModel\"], [\"type\", \"text\", \"name\", \"sRef\", \"placeholder\", \"Enter Unique Reference Number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"pt-2\"], [\"name\", \"paymentTerm\", \"placeholder\", \"Select Payment\\n                              Terms\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"paymentTerm\", \"ngModel\"], [\"type\", \"text\", \"name\", \"dueDate\", \"ngbDatepicker\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"dDate\", \"ngbDatepicker\", \"sOrderDate\", \"ngModel\"], [\"type\", \"text\", \"name\", \"salePerson\", \"disabled\", \"\", \"placeholder\", \"Select sale Person\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"row mb-3\", 4, \"ngIf\"], [1, \"bg-white\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-5\"], [1, \"col-lg-11\"], [1, \"table\", \"table-bordered\", \"table-responsive-lg\", \"table-striped\", \"simple-table\"], [1, \"bgcol2\"], [1, \"text-2\"], [\"class\", \"text-center\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"font-weight-bold\"], [1, \"pt-2\"], [1, \"table\"], [1, \"border\", 2, \"width\", \"250px\"], [1, \"border\", 2, \"width\", \"180px\"], [1, \"border\", 2, \"width\", \"300px\"], [\"width\", \"5%\", 1, \"border\"], [\"colspan\", \"5\", 1, \"border-0\", \"pl-0\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"border-0\"], [1, \"font-weight-semibold\", \"mr-1\"], [1, \"pull-right\"], [1, \"col-lg-6\", \"pl-0\"], [1, \"control-label\", \"font-weight-bold\", \"text-4\", \"text-dark\"], [\"name\", \"remarks\", \"rows\", \"7\", 1, \"form-control\", \"h-auto\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mt-0\", \"text-dark\", \"font-weight-bold\", \"text-4\", \"d-inline\"], [1, \"row\", \"mt-3\"], [\"type\", \"text\", \"name\", \"cName\", \"placeholder\", \"Enter name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-3\"], [1, \"col-lg-12\", \"pr-0\"], [\"name\", \"cType\", \"required\", \"\", 3, \"ngModel\", \"clearable\", \"ngModelChange\", \"change\"], [\"cType\", \"ngModel\"], [\"value\", \"add\"], [1, \"col-lg-3\", \"text-right\"], [\"type\", \"text\", \"name\", \"cAmount\", \"placeholder\", \"Enter amount\", \"pattern\", \"^[0-9]\\\\d*(\\\\.\\\\d+)?$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"accFeeam\", \"ngModel\"], [4, \"ngIf\"], [\"type\", \"text\", \"disabled\", \"\", \"value\", \"Discount\", 1, \"form-control\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"0.00\", \"name\", \"discount\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-lg-3\", \"text-left\"], [\"name\", \"discountUnit\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"%\"], [1, \"row\", \"mt-3\", \"align-items-center\"], [1, \"col-lg-5\", \"pl-3\", \"mb-2\"], [1, \"checkbox-custom\", \"checkbox-default\"], [\"name\", \"taxExempt\", \"type\", \"checkbox\", \"id\", \"ZeroRated\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"for\", \"ZeroRated\", 1, \"control-label\", \"font-weight-semibold\", \"labelmt\", \"text-3\", \"text-dark\"], [1, \"col-lg-7\", \"pl-3\", \"mb-0\", \"text-right\"], [1, \"font-weight-semibold\", \"mr-5\"], [1, \"col-lg-12\", \"pl-3\", \"mb-0\", \"text-right\"], [\"class\", \"row mt-3\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\", \"align-items-center\"], [1, \"col-lg-12\", \"pt-1\", \"text-right\"], [1, \"text-right\", \"h5\", \"font-weight-semibold\", \"text-4\", \"text-dark\", \"mr-5\"], [1, \"text-right\", \"m-0\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"pr-0\", \"text-right\"], [\"type\", \"button\", \"routerLink\", \"/accounts/sales/invoices/list\", 1, \"btn\", \"btn-default\", \"mr-3\"], [\"href\", \"javascript:;\", \"class\", \"btn btn-success\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-success ml-2\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"text-danger\"], [3, \"value\"], [\"type\", \"checkbox\", 3, \"name\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"badge\", \"badge-dark\", \"p-1\", \"text-uppercase\"], [1, \"text-center\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"disabled\", \"ngModelChange\", \"input\"], [1, \"error\", 3, \"id\"], [\"colspan\", \"10\"], [1, \"border\"], [\"type\", \"text\", \"placeholder\", \"Enter commodity\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"com\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Description\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [1, \"col-lg-6\", \"pr-1\"], [\"type\", \"text\", \"placeholder\", \"Enter commodity/service\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"input\"], [\"qtyy\", \"ngModel\"], [1, \"col-lg-6\", \"pl-1\"], [\"type\", \"text\", \"placeholder\", \"unit type\", \"pattern\", \"^[a-zA-Z \\\\-\\\\']+\", \"required\", \"\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"unit\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter rate\", \"pattern\", \"^[1-9]\\\\d*(\\\\.\\\\d+)?$\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"input\"], [\"rate\", \"ngModel\"], [\"type\", \"text\", \"disabled\", \"\", \"placeholder\", \"Enter Amount\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"placeholder\", \"Select account\", \"required\", \"\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"acc\", \"ngModel\"], [1, \"border\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-minus\"], [\"for\", \"inputDefault\", 1, \"control-label\", \"font-weight-bold\", \"text-3\", \"text-dark\"], [1, \"col-lg-9\"], [\"name\", \"stateTaxID\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"clearable\", \"ngModelChange\", \"change\"], [\"selected\", \"\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"selected\", \"\", 3, \"value\"], [\"class\", \"row mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-4\"], [\"class\", \"row mt-3 bordtop\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-5\", \"pr-0\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [1, \"col-lg-5\", \"pr-0\", \"input-group\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"input\"], [1, \"input-group-append\"], [1, \"input-group-text\", \"pt-0\", \"pb-0\"], [1, \"row\", \"mt-3\", \"bordtop\"], [1, \"col-lg-12\", \"pt-1\"], [1, \"text-right\", \"mb-0\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"ml-2\", 3, \"disabled\", \"click\"]],\n  template: function AddSalesInvoiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r117 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"a\", 7);\n      i0.ɵɵelement(9, \"i\", 8);\n      i0.ɵɵtext(10, \" All Sales Invoices\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"section\", 9);\n      i0.ɵɵelementStart(12, \"div\", 10);\n      i0.ɵɵelementStart(13, \"div\", 11);\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"form\", 14, 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 19);\n      i0.ɵɵelementStart(22, \"label\", 20);\n      i0.ɵɵtext(23, \"Sales Invoice Date \");\n      i0.ɵɵelementStart(24, \"span\", 21);\n      i0.ɵɵelementStart(25, \"sup\");\n      i0.ɵɵtext(26, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_27_listener($event) {\n        return ctx.saleData.txnDate = $event;\n      })(\"click\", function AddSalesInvoiceComponent_Template_input_click_27_listener() {\n        i0.ɵɵrestoreView(_r117);\n\n        const _r1 = i0.ɵɵreference(28);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 19);\n      i0.ɵɵelementStart(31, \"label\", 20);\n      i0.ɵɵtext(32, \"Payment Currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"ng-select\", 24, 25);\n      i0.ɵɵlistener(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_33_listener() {\n        return ctx.changeCur();\n      })(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_33_listener($event) {\n        return ctx.saleData.currency = $event;\n      });\n      i0.ɵɵelementStart(35, \"ng-option\", 26);\n      i0.ɵɵtext(36, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"ng-option\", 27);\n      i0.ɵɵtext(38, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(39, AddSalesInvoiceComponent_div_39_Template, 2, 1, \"div\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\", 29);\n      i0.ɵɵelementStart(41, \"label\", 20);\n      i0.ɵɵtext(42, \"Customer \");\n      i0.ɵɵelementStart(43, \"span\", 21);\n      i0.ɵɵelementStart(44, \"sup\");\n      i0.ɵɵtext(45, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"ng-select\", 30, 31);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_46_listener($event) {\n        return ctx.saleData.customerID = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_46_listener($event) {\n        return ctx.getCustomerOrders($event);\n      });\n      i0.ɵɵtemplate(48, AddSalesInvoiceComponent_ng_option_48_Template, 2, 2, \"ng-option\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"div\", 33);\n      i0.ɵɵelementStart(50, \"a\", 34);\n      i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_Template_a_click_50_listener() {\n        return ctx.openModal(\"form\");\n      });\n      i0.ɵɵelement(51, \"i\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"a\", 36);\n      i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_Template_a_click_52_listener() {\n        return ctx.fetchCustomer();\n      });\n      i0.ɵɵelement(53, \"em\", 37);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"div\", 38);\n      i0.ɵɵelementStart(55, \"label\", 20);\n      i0.ɵɵtext(56, \"Sales Order# \");\n      i0.ɵɵelementStart(57, \"span\", 21);\n      i0.ɵɵelementStart(58, \"sup\");\n      i0.ɵɵtext(59, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"ng-select\", 39, 40);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_60_listener($event) {\n        return ctx.saleData.sOrderNo = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_60_listener($event) {\n        return ctx.getOrderDetail($event);\n      });\n      i0.ɵɵtemplate(62, AddSalesInvoiceComponent_ng_option_62_Template, 2, 2, \"ng-option\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"div\", 17);\n      i0.ɵɵelementStart(64, \"div\", 18);\n      i0.ɵɵelementStart(65, \"div\", 38);\n      i0.ɵɵelementStart(66, \"label\", 20);\n      i0.ɵɵtext(67, \" Reference# \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"input\", 41);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_68_listener($event) {\n        return ctx.saleData.sRef = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"div\", 42);\n      i0.ɵɵelementStart(70, \"div\", 19);\n      i0.ɵɵelementStart(71, \"label\", 20);\n      i0.ɵɵtext(72, \"Payment Terms \");\n      i0.ɵɵelementStart(73, \"span\", 21);\n      i0.ɵɵelementStart(74, \"sup\");\n      i0.ɵɵtext(75, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"ng-select\", 43, 44);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_76_listener($event) {\n        return ctx.saleData.paymentTerm = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_76_listener($event) {\n        return ctx.getInvDueDate($event);\n      });\n      i0.ɵɵtemplate(78, AddSalesInvoiceComponent_ng_option_78_Template, 2, 2, \"ng-option\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(79, AddSalesInvoiceComponent_div_79_Template, 2, 1, \"div\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"div\", 19);\n      i0.ɵɵelementStart(81, \"label\", 20);\n      i0.ɵɵtext(82, \"Due Date \");\n      i0.ɵɵelementStart(83, \"span\", 21);\n      i0.ɵɵelementStart(84, \"sup\");\n      i0.ɵɵtext(85, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"input\", 45, 46);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_86_listener($event) {\n        return ctx.saleData.dueDate = $event;\n      })(\"click\", function AddSalesInvoiceComponent_Template_input_click_86_listener() {\n        i0.ɵɵrestoreView(_r117);\n\n        const _r12 = i0.ɵɵreference(87);\n\n        return _r12.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"div\", 42);\n      i0.ɵɵelementStart(90, \"div\", 38);\n      i0.ɵɵelementStart(91, \"label\", 20);\n      i0.ɵɵtext(92, \" Salesperson\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"input\", 47);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_93_listener($event) {\n        return ctx.saleData.salePerson = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(94, AddSalesInvoiceComponent_div_94_Template, 32, 1, \"div\", 48);\n      i0.ɵɵelementStart(95, \"div\", 11);\n      i0.ɵɵelementStart(96, \"div\", 12);\n      i0.ɵɵelementStart(97, \"div\", 49);\n      i0.ɵɵelementStart(98, \"div\", 50);\n      i0.ɵɵelementStart(99, \"div\", 38);\n      i0.ɵɵelementStart(100, \"label\", 51);\n      i0.ɵɵtext(101, \"Customer Credits\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"div\", 52);\n      i0.ɵɵelementStart(103, \"table\", 53);\n      i0.ɵɵelementStart(104, \"thead\");\n      i0.ɵɵelementStart(105, \"tr\", 54);\n      i0.ɵɵelement(106, \"th\");\n      i0.ɵɵelementStart(107, \"th\", 55);\n      i0.ɵɵtext(108, \"Credit#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"th\", 55);\n      i0.ɵɵtext(110, \"Payment Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(111, \"th\", 55);\n      i0.ɵɵtext(112, \"Reference#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(113, \"th\", 55);\n      i0.ɵɵtext(114, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(115, \"th\", 55);\n      i0.ɵɵtext(116, \"Balance\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"th\", 55);\n      i0.ɵɵtext(118, \"Paid Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"th\", 55);\n      i0.ɵɵtext(120, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(121, \"th\", 55);\n      i0.ɵɵtext(122, \"Full Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"th\", 55);\n      i0.ɵɵtext(124, \"Payment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(125, \"tbody\");\n      i0.ɵɵtemplate(126, AddSalesInvoiceComponent_tr_126_Template, 3, 1, \"tr\", 56);\n      i0.ɵɵtemplate(127, AddSalesInvoiceComponent_tr_127_Template, 28, 30, \"tr\", 57);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(128, \"div\", 16);\n      i0.ɵɵelementStart(129, \"div\", 12);\n      i0.ɵɵelementStart(130, \"div\", 18);\n      i0.ɵɵelementStart(131, \"div\", 38);\n      i0.ɵɵelementStart(132, \"h4\", 58);\n      i0.ɵɵtext(133, \"Sales Order Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(134, \"div\", 52);\n      i0.ɵɵelementStart(135, \"div\", 59);\n      i0.ɵɵelementStart(136, \"table\", 60);\n      i0.ɵɵelementStart(137, \"thead\");\n      i0.ɵɵelementStart(138, \"tr\");\n      i0.ɵɵelementStart(139, \"th\", 61);\n      i0.ɵɵtext(140, \" Commodity \");\n      i0.ɵɵelementStart(141, \"span\", 21);\n      i0.ɵɵelementStart(142, \"sup\");\n      i0.ɵɵtext(143, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(144, \"th\", 61);\n      i0.ɵɵtext(145, \" Description \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(146, \"th\", 61);\n      i0.ɵɵtext(147, \" Quantity \");\n      i0.ɵɵelementStart(148, \"span\", 21);\n      i0.ɵɵelementStart(149, \"sup\");\n      i0.ɵɵtext(150, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(151, \"th\", 61);\n      i0.ɵɵtext(152, \"Rate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(153, \"th\", 62);\n      i0.ɵɵtext(154, \" Amount \");\n      i0.ɵɵelementStart(155, \"span\", 21);\n      i0.ɵɵelementStart(156, \"sup\");\n      i0.ɵɵtext(157, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(158, \"th\", 63);\n      i0.ɵɵtext(159, \" Account \");\n      i0.ɵɵelementStart(160, \"span\", 21);\n      i0.ɵɵelementStart(161, \"sup\");\n      i0.ɵɵtext(162, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(163, \"th\", 64);\n      i0.ɵɵtext(164, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(165, \"tbody\");\n      i0.ɵɵtemplate(166, AddSalesInvoiceComponent_tr_166_Template, 39, 26, \"tr\", 57);\n      i0.ɵɵelementStart(167, \"tr\");\n      i0.ɵɵelementStart(168, \"td\", 65);\n      i0.ɵɵelementStart(169, \"a\", 66);\n      i0.ɵɵlistener(\"click\", function AddSalesInvoiceComponent_Template_a_click_169_listener() {\n        return ctx.addDetails();\n      });\n      i0.ɵɵelement(170, \"i\", 35);\n      i0.ɵɵtext(171, \" Add Another Line\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(172, \"td\", 67);\n      i0.ɵɵelementStart(173, \"span\", 68);\n      i0.ɵɵtext(174, \"Total: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(175, \"span\", 69);\n      i0.ɵɵtext(176);\n      i0.ɵɵpipe(177, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(178, \"div\", 11);\n      i0.ɵɵelementStart(179, \"div\", 70);\n      i0.ɵɵelementStart(180, \"div\", 52);\n      i0.ɵɵelementStart(181, \"label\", 71);\n      i0.ɵɵtext(182, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(183, \"textarea\", 72);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_textarea_ngModelChange_183_listener($event) {\n        return ctx.saleData.remarks = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(184, \"div\", 17);\n      i0.ɵɵelementStart(185, \"h4\", 73);\n      i0.ɵɵtext(186, \" Charges \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(187, \"div\", 74);\n      i0.ɵɵelementStart(188, \"div\", 17);\n      i0.ɵɵelementStart(189, \"div\", 18);\n      i0.ɵɵelementStart(190, \"div\", 38);\n      i0.ɵɵelementStart(191, \"input\", 75);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_191_listener($event) {\n        return ctx.saleData.charges.cName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(192, \"div\", 76);\n      i0.ɵɵelementStart(193, \"div\", 18);\n      i0.ɵɵelementStart(194, \"div\", 77);\n      i0.ɵɵelementStart(195, \"ng-select\", 78, 79);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_195_listener($event) {\n        return ctx.saleData.charges.cType = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_195_listener() {\n        return ctx.accessorialFeeTotal();\n      });\n      i0.ɵɵelementStart(197, \"ng-option\", 80);\n      i0.ɵɵtext(198, \"Add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(199, \"div\", 81);\n      i0.ɵɵelementStart(200, \"div\", 18);\n      i0.ɵɵelementStart(201, \"div\", 12);\n      i0.ɵɵelementStart(202, \"input\", 82, 83);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_202_listener($event) {\n        return ctx.saleData.charges.cAmount = $event;\n      })(\"input\", function AddSalesInvoiceComponent_Template_input_input_202_listener() {\n        return ctx.accessorialFeeTotal();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(204, AddSalesInvoiceComponent_div_204_Template, 2, 0, \"div\", 84);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(205, \"div\", 74);\n      i0.ɵɵelementStart(206, \"div\", 17);\n      i0.ɵɵelementStart(207, \"div\", 18);\n      i0.ɵɵelementStart(208, \"div\", 38);\n      i0.ɵɵelement(209, \"input\", 85);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(210, \"div\", 76);\n      i0.ɵɵelementStart(211, \"div\", 18);\n      i0.ɵɵelementStart(212, \"div\", 12);\n      i0.ɵɵelementStart(213, \"input\", 86);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_213_listener($event) {\n        return ctx.saleData.charges.discount = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_input_change_213_listener() {\n        return ctx.calculateAmount(null);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(214, \"div\", 87);\n      i0.ɵɵelementStart(215, \"div\", 18);\n      i0.ɵɵelementStart(216, \"div\", 12);\n      i0.ɵɵelementStart(217, \"ng-select\", 88);\n      i0.ɵɵlistener(\"ngModelChange\", function AddSalesInvoiceComponent_Template_ng_select_ngModelChange_217_listener($event) {\n        return ctx.saleData.charges.discountUnit = $event;\n      })(\"change\", function AddSalesInvoiceComponent_Template_ng_select_change_217_listener() {\n        return ctx.calculateAmount(null);\n      });\n      i0.ɵɵelementStart(218, \"ng-option\", 89);\n      i0.ɵɵtext(219, \"%\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(220, \"ng-option\", 26);\n      i0.ɵɵtext(221, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(222, \"ng-option\", 27);\n      i0.ɵɵtext(223, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(224, \"div\", 90);\n      i0.ɵɵelementStart(225, \"div\", 91);\n      i0.ɵɵelementStart(226, \"div\", 92);\n      i0.ɵɵelementStart(227, \"input\", 93);\n      i0.ɵɵlistener(\"change\", function AddSalesInvoiceComponent_Template_input_change_227_listener() {\n        return ctx.taxExempt();\n      })(\"ngModelChange\", function AddSalesInvoiceComponent_Template_input_ngModelChange_227_listener($event) {\n        return ctx.saleData.taxExempt = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(228, \"label\", 94);\n      i0.ɵɵtext(229, \"Tax Exempt\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(230, \"div\", 95);\n      i0.ɵɵelementStart(231, \"span\", 96);\n      i0.ɵɵtext(232, \"Sub Total: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(233);\n      i0.ɵɵpipe(234, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(235, \"div\", 97);\n      i0.ɵɵelementStart(236, \"span\", 96);\n      i0.ɵɵtext(237, \"Discount Amount: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(238);\n      i0.ɵɵpipe(239, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(240, AddSalesInvoiceComponent_div_240_Template, 7, 3, \"div\", 98);\n      i0.ɵɵtemplate(241, AddSalesInvoiceComponent_div_241_Template, 5, 2, \"div\", 99);\n      i0.ɵɵelementStart(242, \"div\", 100);\n      i0.ɵɵelementStart(243, \"div\", 101);\n      i0.ɵɵelementStart(244, \"span\", 102);\n      i0.ɵɵtext(245, \" Customer Credits: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(246, \"span\", 103);\n      i0.ɵɵtext(247);\n      i0.ɵɵpipe(248, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(249, \"div\", 101);\n      i0.ɵɵelementStart(250, \"span\", 102);\n      i0.ɵɵtext(251, \" Total Amount: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(252, \"span\", 103);\n      i0.ɵɵtext(253);\n      i0.ɵɵpipe(254, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(255, \"div\", 104);\n      i0.ɵɵelementStart(256, \"div\", 105);\n      i0.ɵɵelementStart(257, \"button\", 106);\n      i0.ɵɵtext(258, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(259, AddSalesInvoiceComponent_button_259_Template, 2, 1, \"button\", 107);\n      i0.ɵɵtemplate(260, AddSalesInvoiceComponent_button_260_Template, 2, 1, \"button\", 108);\n      i0.ɵɵtemplate(261, AddSalesInvoiceComponent_button_261_Template, 2, 1, \"button\", 107);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r3 = i0.ɵɵreference(34);\n\n      const _r9 = i0.ɵɵreference(77);\n\n      const _r19 = i0.ɵɵreference(203);\n\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" Sales Invoice \");\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.txnDate);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", ctx.saleData.currency);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", ctx.saleData.customerID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", ctx.saleData.sOrderNo)(\"disabled\", ctx.saleID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.salesOrder);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.sRef);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.paymentTerm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paymentTerms);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r9.invalid && (_r9.dirty || _r9.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.dueDate);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.salePerson);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.stlCreditsData.length > 0);\n      i0.ɵɵadvance(32);\n      i0.ɵɵproperty(\"ngIf\", ctx.customerCredits.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customerCredits);\n      i0.ɵɵadvance(39);\n      i0.ɵɵproperty(\"ngForOf\", ctx.saleData.sOrderDetails);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtextInterpolate2(\" \", ctx.saleData.total.detailTotal ? i0.ɵɵpipeBind2(177, 42, ctx.saleData.total.detailTotal, \"1.2-2\") : 0, \" \", ctx.saleData.currency ? ctx.saleData.currency : \"\", \" \");\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.remarks);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.charges.cName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.charges.cType)(\"clearable\", false);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.charges.cAmount);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r19.errors == null ? null : _r19.errors.pattern);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.charges.discount);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.charges.discountUnit);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.saleData.taxExempt);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.saleData.total.subTotal ? i0.ɵɵpipeBind2(234, 45, ctx.saleData.total.subTotal, \"1.2-2\") : 0, \" \");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.saleData.total.discountAmount ? i0.ɵɵpipeBind2(239, 48, ctx.saleData.total.discountAmount, \"1.2-2\") : 0, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saleData.taxExempt);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saleData.taxExempt);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" - \", ctx.saleData.total.customerCredit ? i0.ɵɵpipeBind2(248, 51, ctx.saleData.total.customerCredit, \"1.2-2\") : 0, \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(254, 54, ctx.saleData.total.finalTotal, \"1.2-2\"), \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saleID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.saleID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.saleID);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i8.NgSelectComponent, i8.ɵr, i4.NgIf, i4.NgForOf, i6.PatternValidator, i6.MinValidator, i6.NumberValueAccessor, i6.CheckboxControlValueAccessor, i2.RouterLink],\n  pipes: [i4.DecimalPipe, i4.DatePipe, i4.TitleCasePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}