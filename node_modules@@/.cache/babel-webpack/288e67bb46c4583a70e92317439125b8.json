{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from 'src/app/pages/fleet/constants';\nimport * as _ from 'lodash';\nimport { map } from 'rxjs/operators';\nimport { from } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@angular/common/http\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/router\";\nimport * as i8 from \"ngx-infinite-scroll\";\nimport * as i9 from \"@ng-select/ng-select\";\n\nfunction UsersListComponent_div_8_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 46);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_div_8_li_2_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const data_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.setUser(data_r7);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", data_r7.firstName, \" \", data_r7.lastName, \" \");\n  }\n}\n\nfunction UsersListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵelementStart(1, \"ul\");\n    i0.ɵɵtemplate(2, UsersListComponent_div_8_li_2_Template, 2, 2, \"li\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.suggestedUsers);\n  }\n}\n\nfunction UsersListComponent_tr_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 47);\n    i0.ɵɵelementStart(1, \"td\", 48);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.dataMessage);\n  }\n}\n\nfunction UsersListComponent_tr_48_span_10_span_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \",\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_tr_48_span_10_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, UsersListComponent_tr_48_span_10_span_1_span_2_Template, 2, 0, \"span\", 52);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r14 = ctx.$implicit;\n    const i_r15 = ctx.index;\n    const user_r10 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.userRoles[role_r14], \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r10.userLoginData.userRoles.length > 1 && i_r15 != user_r10.userLoginData.userRoles.length - 1);\n  }\n}\n\nfunction UsersListComponent_tr_48_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, UsersListComponent_tr_48_span_10_span_1_Template, 3, 2, \"span\", 60);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", user_r10.userLoginData.userRoles);\n  }\n}\n\nfunction UsersListComponent_tr_48_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" - \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_tr_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 49);\n    i0.ɵɵelementStart(1, \"td\", 50);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 50);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 50);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 51);\n    i0.ɵɵtemplate(10, UsersListComponent_tr_48_span_10_Template, 2, 1, \"span\", 52);\n    i0.ɵɵtemplate(11, UsersListComponent_tr_48_span_11_Template, 2, 0, \"span\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 50);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 50);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 50);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelementStart(19, \"div\", 53);\n    i0.ɵɵelementStart(20, \"button\", 54);\n    i0.ɵɵelement(21, \"i\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 56);\n    i0.ɵɵelementStart(23, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_48_Template_a_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const user_r10 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.fetchRole(user_r10);\n    });\n    i0.ɵɵtext(24, \" Assign Roles\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"a\", 58);\n    i0.ɵɵtext(26, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_tr_48_Template_button_click_27_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const user_r10 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.deleteUser(user_r10.contactID);\n    });\n    i0.ɵɵtext(28, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.employeeID, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", user_r10.firstName, \"\\u00A0\", user_r10.lastName, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.userLoginData.userName ? user_r10.userLoginData.userName : \"-\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.userAccount.department ? user_r10.userAccount.department : \"-\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r10.userLoginData.userRoles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r10.userLoginData.userRoles.length === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.workPhone ? user_r10.workPhone : \"-\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.contactID, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.workEmail ? user_r10.workEmail : \"-\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/detail/\", user_r10.userName, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r10.currentStatus, \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/manage/users/edit/\", user_r10.contactID, \"\");\n  }\n}\n\nfunction UsersListComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelementStart(1, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_div_50_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.onScroll();\n    });\n    i0.ɵɵtext(2, \" Load More.. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UsersListComponent_ng_option_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r24.role);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r24.name);\n  }\n}\n\nfunction UsersListComponent_ng_option_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r25.role);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r25.name);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/manage\", \"users\", \"add\"];\n};\n\nexport class UsersListComponent {\n  constructor(apiService, toastr, spinner, httpClient) {\n    this.apiService = apiService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.httpClient = httpClient;\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.contactID = '';\n    this.setUsrName = '';\n    this.setRoles = [];\n    this.suggestedUsers = [];\n    this.searchUserName = '';\n    this.users = [];\n    this.filterUsers = [];\n    this.totalRecords = 20;\n    this.pageLength = 10;\n    this.lastEvaluatedKey = '';\n    this.userName = '';\n    this.currentStatus = '';\n    this.departmentName = '';\n    this.companyName = '';\n    this.userNext = false;\n    this.userPrev = true;\n    this.userDraw = 0;\n    this.userPrevEvauatedKeys = [''];\n    this.userStartPoint = 1;\n    this.userEndPoint = this.pageLength;\n    this.userRoles = {};\n    this.selectedUserData = '';\n    this.selectedUser = {\n      userID: '',\n      userRoles: {}\n    };\n    this.newRoles = [];\n    this.searchValue = '';\n    this.queryValue = '';\n    this.lastItemSK = \"\";\n    this.loaded = false;\n    this.roles = [];\n    this.response = '';\n    this.allSubRoles = [];\n    this.subRole = [];\n    this.getSuggestions = _.debounce(function (value) {\n      this.contactID = '';\n      value = value.toLowerCase();\n\n      if (value !== '') {\n        this.apiService.getData(`contacts/getEmployee/suggestions/${value}`).subscribe(result => {\n          result.map(v => {\n            if (v.lastName === undefined) {\n              v.lastName = '';\n            }\n\n            return v;\n          });\n          this.suggestedUsers = result;\n        });\n      } else {\n        this.suggestedUsers = [];\n      }\n    }, 800);\n  }\n\n  ngOnInit() {\n    this.fetchUserRoles();\n    this.fetchRoles();\n    this.initDataTable();\n    this.fetchSubRoles();\n  }\n\n  setUser(data) {\n    this.searchValue = `${data.firstName} ${data.lastName}`;\n    this.searchValue = this.searchValue.toLowerCase().trim();\n    this.contactID = data.contactID;\n    this.suggestedUsers = [];\n  }\n\n  fetchUserRoles() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield _this.httpClient.get('assets/jsonFiles/user/userRoles.json').toPromise();\n      data.forEach(element => {\n        _this.userRoles[element.role] = element.name;\n      });\n    })();\n  }\n\n  fetchSubRoles() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const data = yield _this2.httpClient.get('assets/jsonFiles/user/subRoles.json').toPromise();\n      data.forEach(element => {\n        _this2.userRoles[element.role] = element.name;\n      });\n      _this2.allSubRoles = data;\n    })();\n  }\n\n  fetchRoles() {\n    this.httpClient.get('assets/jsonFiles/user/userRoles.json').subscribe(data => {\n      this.roles = data;\n    });\n  }\n\n  fetchRole(user) {\n    this.selectedUserData = user;\n    this.setUsrName = user.userLoginData.userName;\n\n    if (this.setUsrName == '') {\n      this.setUsrName = user.workEmail;\n    }\n\n    this.selectedUser.userID = user.contactID;\n    const checkArray = user.userLoginData.userRoles;\n    let roles = [];\n    let subRoles = [];\n\n    for (const element of checkArray) {\n      for (const el of this.roles) {\n        if (element == el.role && !roles.includes(element)) {\n          roles.push(element);\n        }\n      }\n\n      for (const e of this.allSubRoles) {\n        if (element == e.role && !subRoles.includes(element)) {\n          subRoles.push(element);\n        }\n      }\n    }\n\n    this.subRole = subRoles;\n    this.setRoles = roles;\n  }\n\n  cancel() {\n    $('#assignrole').modal('hide');\n  }\n\n  assignRole() {\n    this.selectedUser.userRoles = this.setRoles.concat(this.subRole);\n    this.apiService.putData('contacts/assignRole', this.selectedUser).subscribe({\n      complete: () => {},\n      error: err => {\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, 'This Field');\n        })).subscribe({\n          complete: () => {},\n          error: () => {},\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.response = res;\n        this.toastr.success('Role is assigned successfully');\n        $('#assignrole').modal('hide');\n        this.users.filter(elem => {\n          if (elem.contactID === this.selectedUser.userID) {\n            elem.userLoginData.userRoles = this.selectedUser.userRoles;\n          }\n        });\n      }\n    });\n  }\n\n  initDataTable() {\n    if (this.lastItemSK !== 'end') {\n      if (this.searchValue != '') {\n        this.queryValue = this.searchValue;\n      }\n\n      this.apiService.getData(`contacts/fetch/employee/records?searchValue=${encodeURIComponent(this.queryValue)}&lastKey=${this.lastItemSK}`).subscribe(result => {\n        if (result.Items.length === 0) {\n          this.dataMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        if (result.Items.length > 0) {\n          if (result.LastEvaluatedKey !== undefined) {\n            this.lastItemSK = encodeURIComponent(result.LastEvaluatedKey.contactSK);\n          } else {\n            this.lastItemSK = 'end';\n          }\n\n          this.users = this.users.concat(result.Items);\n          this.filterUsers = this.users;\n          this.loaded = true;\n        }\n      });\n    }\n  }\n\n  searchFilter() {\n    this.lastItemSK = '';\n    this.users = [];\n    this.suggestedUsers = [];\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.initDataTable();\n  }\n\n  onScroll() {\n    if (this.loaded) {\n      this.initDataTable();\n    }\n\n    this.loaded = false;\n  }\n\n  resetFilter() {\n    if (this.searchValue !== '') {\n      this.searchValue = null;\n      this.contactID = '';\n      this.users = [];\n      this.lastItemSK = '';\n      this.suggestedUsers = [];\n      this.dataMessage = Constants.NO_RECORDS_FOUND;\n      this.initDataTable();\n    } else {\n      return false;\n    }\n  }\n\n  deleteUser(contactID) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (confirm('Are you sure you want to delete?') === true) {\n        yield _this3.apiService.deleteData(`contacts/delete/user/${contactID}`).subscribe( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (result) {\n            _this3.userDraw = 0;\n            _this3.lastEvaluatedKey = '';\n            _this3.dataMessage = Constants.FETCHING_DATA;\n            _this3.users = [];\n            _this3.lastItemSK = '';\n\n            _this3.initDataTable();\n\n            _this3.toastr.success('User deleted successfully');\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      }\n    })();\n  }\n\n  getStartandEndVal() {\n    this.userStartPoint = this.userDraw * this.pageLength + 1;\n    this.userEndPoint = this.userStartPoint + this.pageLength - 1;\n  }\n\n  resetCountResult() {\n    this.userStartPoint = 1;\n    this.userEndPoint = this.pageLength;\n    this.userDraw = 0;\n  }\n\n}\n\nUsersListComponent.ɵfac = function UsersListComponent_Factory(t) {\n  return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.HttpClient));\n};\n\nUsersListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersListComponent,\n  selectors: [[\"app-users-list\"]],\n  decls: 83,\n  vars: 17,\n  consts: [[1, \"body\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pr-0\", \"pt-0\", \"pl-0\"], [1, \"page-header\", \"pr19\", \"pl7\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-2\", \"col-lg-2\", \"pr-0\"], [\"type\", \"text\", \"name\", \"searchValue\", \"autocomplete\", \"off\", \"placeholder\", \"Search User\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"class\", \"result-suggestions\", 4, \"ngIf\"], [1, \"col-md-2\", \"col-lg-2\", \"pl-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-1\"], [1, \"btn\", \"btn-success\", \"btn-sm\", \"ml-2\", 2, \"color\", \"white\", 3, \"routerLink\"], [1, \"fas\", \"fa-plus\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-2\", \"text-dark\"], [1, \"form-group\", \"row\"], [1, \"col-12\"], [\"infiniteScroll\", \"\", 3, \"infiniteScrollDistance\", \"infiniteScrollUpDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"cursorpoint\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-3\", \"dtPaginate\"], [\"class\", \"col-lg-12 mt-3 text-center\", 4, \"ngIf\"], [\"id\", \"assignrole\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"area-labelledby\", \"assignrole\", \"aria-hidden\", \"true\", \"data-keyboard\", \"false\", \"data-backdrop\", \"static\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\", 2, \"width\", \"600px\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"assignrole\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"row\"], [1, \"form-row\"], [1, \"control-label\", \"font-weight-semibold\", \"labelmt\", \"text-3\", \"text-dark\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"form-control\", 3, \"value\"], [\"name\", \"roles\", \"placeholder\", \"Select User Roles\", 1, \"form-control\", \"populate\", 3, \"multiple\", \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-row\", \"mb-3\"], [\"name\", \"subRole\", \"placeholder\", \"Select Sub Roles\", 1, \"form-control\", \"populate\", 3, \"multiple\", \"ngModel\", \"ngModelChange\"], [2, \"text-align\", \"right\"], [1, \"btn\", \"btn-default\", \"modal-dismiss\", \"mr-2\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"modal-confirm\", 3, \"click\"], [1, \"result-suggestions\"], [\"style\", \"cursor: pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"text-center\"], [\"colspan\", \"9\"], [1, \"cursorpoint\"], [3, \"routerLink\"], [1, \"text-capitalize\", 3, \"routerLink\"], [4, \"ngIf\"], [1, \"btn-group\", \"flex-wrap\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", 1, \"pb-0\", \"pt-0\", \"btn\"], [1, \"fas\", \"fa-ellipsis-v\"], [\"role\", \"menu\", 1, \"dropdown-menu\"], [\"href\", \"javascript:;\", \"data-toggle\", \"modal\", \"data-target\", \"#assignrole\", 1, \"dropdown-item\", 3, \"click\"], [1, \"dropdown-item\", \"text-1\", 3, \"routerLink\"], [1, \"dropdown-item\", \"text-1\", \"modal-with-form\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-12\", \"mt-3\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"text-light\", 3, \"click\"], [3, \"value\"]],\n  template: function UsersListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"section\", 3);\n      i0.ɵɵelementStart(4, \"header\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function UsersListComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.searchValue = $event;\n      })(\"input\", function UsersListComponent_Template_input_input_7_listener($event) {\n        return ctx.getSuggestions($event.target.value);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, UsersListComponent_div_8_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 9);\n      i0.ɵɵelementStart(10, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_10_listener() {\n        return ctx.searchFilter();\n      });\n      i0.ɵɵtext(11, \" Search \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_12_listener() {\n        return ctx.resetFilter();\n      });\n      i0.ɵɵtext(13, \" Reset \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelementStart(15, \"a\", 13);\n      i0.ɵɵelement(16, \"i\", 14);\n      i0.ɵɵtext(17, \" Add User\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"section\", 15);\n      i0.ɵɵelementStart(19, \"div\", 16);\n      i0.ɵɵelementStart(20, \"div\", 17);\n      i0.ɵɵelementStart(21, \"div\", 18);\n      i0.ɵɵelementStart(22, \"div\", 19);\n      i0.ɵɵelementStart(23, \"div\", 20);\n      i0.ɵɵelementStart(24, \"div\", 21);\n      i0.ɵɵlistener(\"scrolled\", function UsersListComponent_Template_div_scrolled_24_listener() {\n        return ctx.onScroll();\n      });\n      i0.ɵɵelementStart(25, \"table\", 22);\n      i0.ɵɵelementStart(26, \"thead\");\n      i0.ɵɵelementStart(27, \"tr\");\n      i0.ɵɵelementStart(28, \"th\");\n      i0.ɵɵtext(29, \"Employee ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"th\");\n      i0.ɵɵtext(31, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\");\n      i0.ɵɵtext(33, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"th\");\n      i0.ɵɵtext(35, \"Department\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"th\");\n      i0.ɵɵtext(37, \"User Roles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"th\");\n      i0.ɵɵtext(39, \"Phone\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"th\");\n      i0.ɵɵtext(41, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"th\");\n      i0.ɵɵtext(43, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"th\");\n      i0.ɵɵtext(45, \"Actions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"tbody\");\n      i0.ɵɵtemplate(47, UsersListComponent_tr_47_Template, 3, 1, \"tr\", 23);\n      i0.ɵɵtemplate(48, UsersListComponent_tr_48_Template, 29, 19, \"tr\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"div\", 25);\n      i0.ɵɵtemplate(50, UsersListComponent_div_50_Template, 3, 0, \"div\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"div\", 27);\n      i0.ɵɵelementStart(52, \"div\", 28);\n      i0.ɵɵelementStart(53, \"div\", 29);\n      i0.ɵɵelementStart(54, \"div\", 30);\n      i0.ɵɵelementStart(55, \"h5\", 31);\n      i0.ɵɵtext(56, \"Assign Roles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 32);\n      i0.ɵɵelementStart(58, \"div\", 33);\n      i0.ɵɵelementStart(59, \"div\", 17);\n      i0.ɵɵelementStart(60, \"form\");\n      i0.ɵɵelementStart(61, \"div\", 34);\n      i0.ɵɵelementStart(62, \"div\", 17);\n      i0.ɵɵelementStart(63, \"label\", 35);\n      i0.ɵɵtext(64, \"User Name/Email*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(65, \"input\", 36);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"div\", 34);\n      i0.ɵɵelementStart(67, \"div\", 17);\n      i0.ɵɵelementStart(68, \"label\", 35);\n      i0.ɵɵtext(69, \"Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"ng-select\", 37);\n      i0.ɵɵlistener(\"ngModelChange\", function UsersListComponent_Template_ng_select_ngModelChange_70_listener($event) {\n        return ctx.setRoles = $event;\n      });\n      i0.ɵɵtemplate(71, UsersListComponent_ng_option_71_Template, 2, 2, \"ng-option\", 38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"div\", 39);\n      i0.ɵɵelementStart(73, \"div\", 17);\n      i0.ɵɵelementStart(74, \"label\", 35);\n      i0.ɵɵtext(75, \"Sub Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(76, \"ng-select\", 40);\n      i0.ɵɵlistener(\"ngModelChange\", function UsersListComponent_Template_ng_select_ngModelChange_76_listener($event) {\n        return ctx.subRole = $event;\n      });\n      i0.ɵɵtemplate(77, UsersListComponent_ng_option_77_Template, 2, 2, \"ng-option\", 38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(78, \"div\", 41);\n      i0.ɵɵelementStart(79, \"button\", 42);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_79_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(80, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"button\", 43);\n      i0.ɵɵlistener(\"click\", function UsersListComponent_Template_button_click_81_listener() {\n        return ctx.assignRole();\n      });\n      i0.ɵɵtext(82, \" Assign Role \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchValue);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.suggestedUsers == null ? null : ctx.suggestedUsers.length) > 0);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(16, _c0));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"infiniteScrollDistance\", 1)(\"infiniteScrollUpDistance\", 1)(\"infiniteScrollThrottle\", 5);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.lastItemSK !== \"end\" && ctx.users.length !== 0);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"value\", ctx.setUsrName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"multiple\", true)(\"ngModel\", ctx.setRoles);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"multiple\", true)(\"ngModel\", ctx.subRole);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allSubRoles);\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgIf, i7.RouterLinkWithHref, i8.InfiniteScrollDirective, i6.NgForOf, i9.NgSelectComponent, i7.RouterLink, i9.ɵr],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}