{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { map } from 'rxjs/operators';\nimport { from } from 'rxjs';\nimport * as moment from 'moment';\nimport Constants from '../../../fleet/constants';\nimport { environment } from 'src/environments/environment';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"ngx-spinner\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"ngx-infinite-scroll\";\nimport * as i8 from \"@ng-select/ng-select\";\nconst _c0 = [\"addDocumentModal\"];\n\nfunction CompanyDocumentsComponent_div_9_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 58);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_div_9_li_2_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const data_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.searchSelectedRoute(data_r10);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r10.name, \" \");\n  }\n}\n\nfunction CompanyDocumentsComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56);\n    i0.ɵɵelementStart(1, \"ul\");\n    i0.ɵɵtemplate(2, CompanyDocumentsComponent_div_9_li_2_Template, 2, 1, \"li\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.suggestions);\n  }\n}\n\nfunction CompanyDocumentsComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵelementStart(1, \"button\", 60);\n    i0.ɵɵtext(2, \" Actions\");\n    i0.ɵɵelement(3, \"span\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 62);\n    i0.ɵɵelementStart(5, \"a\", 63);\n    i0.ɵɵtext(6, \"Print\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"a\", 64);\n    i0.ɵɵtext(8, \"Export\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 65);\n    i0.ɵɵtext(10, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 66);\n    i0.ɵɵelementStart(1, \"td\", 67);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.dataMessage);\n  }\n}\n\nfunction CompanyDocumentsComponent_tr_59_span_16_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 77);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_tr_59_span_16_a_3_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const document_r13 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.showDescModal(document_r13.description);\n    });\n    i0.ɵɵtext(1, \"Full Remarks\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_tr_59_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵtemplate(3, CompanyDocumentsComponent_tr_59_span_16_a_3_Template, 2, 0, \"a\", 76);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const document_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(2, 2, document_r13.description, 0, 100), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", document_r13.description.length > 100);\n  }\n}\n\nfunction CompanyDocumentsComponent_tr_59_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" - \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_tr_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtemplate(16, CompanyDocumentsComponent_tr_59_span_16_Template, 4, 6, \"span\", 68);\n    i0.ɵɵtemplate(17, CompanyDocumentsComponent_tr_59_span_17_Template, 2, 0, \"span\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelementStart(19, \"div\", 69);\n    i0.ɵɵelementStart(20, \"button\", 70);\n    i0.ɵɵelement(21, \"i\", 71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 72);\n    i0.ɵɵelementStart(23, \"a\", 73);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_tr_59_Template_a_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const document_r13 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.editDocument(document_r13.docID);\n    });\n    i0.ɵɵtext(24, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"a\", 74);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_tr_59_Template_a_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const document_r13 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.deactivateAsset(document_r13.isDeleted, document_r13.docID, document_r13.documentNumber);\n    });\n    i0.ɵɵtext(26, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"a\", 75);\n    i0.ɵɵtext(28, \"Download File\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const document_r13 = ctx.$implicit;\n    const i_r14 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(document_r13.documentNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.tripsObjects[document_r13.tripID]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", document_r13.docType == \"BOL\" || document_r13.docType == \"POD\" ? document_r13.docType + \"#\" : document_r13.docType, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(document_r13.uploadedBy);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Created: \", i0.ɵɵpipeBind2(11, 11, document_r13.dateCreated, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Last modified: \", i0.ɵɵpipeBind2(14, 14, document_r13.timeModified, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", document_r13.description != \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", document_r13.description == \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"dropdownMenuButton-\", i_r14, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattributeInterpolate1(\"aria-labelledby\", \"dropdownMenuButton-\", i_r14, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"href\", document_r13.uploadedDocs[0].storedName, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CompanyDocumentsComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 78);\n    i0.ɵɵelementStart(1, \"button\", 79);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_div_61_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.onScroll();\n    });\n    i0.ɵɵtext(2, \" Load More.. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_ng_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 108);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const trip_r40 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", trip_r40.tripID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", trip_r40.tripNo, \" \");\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Trip is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtemplate(2, CompanyDocumentsComponent_ng_template_62_div_18_div_2_Template, 2, 0, \"div\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r29 = i0.ɵɵreference(16);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r29.errors.required);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_35_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Document type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtemplate(2, CompanyDocumentsComponent_ng_template_62_div_35_div_2_Template, 2, 0, \"div\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r32 = i0.ɵɵreference(26);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r32.errors.required);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"label\", 109);\n    i0.ɵɵtext(2, \"Add Document\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_46_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 113);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"No document found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_46_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"a\", 114);\n    i0.ɵɵelement(7, \"img\", 115);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const doc_r45 = ctx.$implicit;\n    const d_r46 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r46 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(doc_r45.displayName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", doc_r45.docPath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", doc_r45.imgPath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 110);\n    i0.ɵɵelementStart(1, \"div\", 111);\n    i0.ɵɵelementStart(2, \"table\", 112);\n    i0.ɵɵelementStart(3, \"thead\");\n    i0.ɵɵelementStart(4, \"th\");\n    i0.ɵɵtext(5, \"Sr.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Icon/Thumbnail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, CompanyDocumentsComponent_ng_template_62_div_46_tr_11_Template, 4, 0, \"tr\", 68);\n    i0.ɵɵtemplate(12, CompanyDocumentsComponent_ng_template_62_div_46_tr_12_Template, 8, 4, \"tr\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r35 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", ctx_r35.newDoc.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r35.newDoc);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_52_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Only 500 characters are allowed. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 109);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtemplate(2, CompanyDocumentsComponent_ng_template_62_div_52_div_2_Template, 2, 0, \"div\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r36 = i0.ɵɵreference(51);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r36.errors.pattern);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_button_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 116);\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r38 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r38.submitDisabled);\n  }\n}\n\nfunction CompanyDocumentsComponent_ng_template_62_button_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 116);\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r39 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r39.submitDisabled);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    error: a0\n  };\n};\n\nfunction CompanyDocumentsComponent_ng_template_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 80, 81);\n    i0.ɵɵlistener(\"ngSubmit\", function CompanyDocumentsComponent_ng_template_62_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r49);\n\n      const _r28 = i0.ɵɵreference(1);\n\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.currentID ? _r28.form.valid && ctx_r48.onUpdateDocument() : _r28.form.valid && ctx_r48.onAddDocument();\n    });\n    i0.ɵɵelementStart(2, \"div\", 47);\n    i0.ɵɵelementStart(3, \"h5\", 82);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_ng_template_62_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const modal_r27 = restoredCtx.$implicit;\n      return modal_r27.dismiss(\"Cross click\");\n    });\n    i0.ɵɵelement(6, \"i\", 84);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 50);\n    i0.ɵɵelementStart(8, \"div\", 85);\n    i0.ɵɵelementStart(9, \"div\", 86);\n    i0.ɵɵelementStart(10, \"label\", 87);\n    i0.ɵɵtext(11, \"Select Trip \");\n    i0.ɵɵelementStart(12, \"span\", 88);\n    i0.ɵɵelementStart(13, \"sup\");\n    i0.ɵɵtext(14, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ng-select\", 89, 90);\n    i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_ng_template_62_Template_ng_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.documentData.tripID = $event;\n    });\n    i0.ɵɵtemplate(17, CompanyDocumentsComponent_ng_template_62_ng_option_17_Template, 2, 2, \"ng-option\", 91);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CompanyDocumentsComponent_ng_template_62_div_18_Template, 3, 1, \"div\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 86);\n    i0.ɵɵelementStart(20, \"label\", 87);\n    i0.ɵɵtext(21, \"Document Type \");\n    i0.ɵɵelementStart(22, \"span\", 88);\n    i0.ɵɵelementStart(23, \"sup\");\n    i0.ɵɵtext(24, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"ng-select\", 93, 94);\n    i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_ng_template_62_Template_ng_select_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return ctx_r52.documentData.docType = $event;\n    });\n    i0.ɵɵelementStart(27, \"ng-option\", 95);\n    i0.ɵɵtext(28, \"Bill of Lading (BOL)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"ng-option\", 96);\n    i0.ɵɵtext(30, \"Proof of Delivery (POD)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"ng-option\", 97);\n    i0.ɵɵtext(32, \"Fuel Receipts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"ng-option\", 98);\n    i0.ɵɵtext(34, \"Load Confirmation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(35, CompanyDocumentsComponent_ng_template_62_div_35_Template, 3, 1, \"div\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 99);\n    i0.ɵɵelementStart(37, \"label\", 87);\n    i0.ɵɵtext(38, \"Choose File \");\n    i0.ɵɵelementStart(39, \"span\", 88);\n    i0.ɵɵelementStart(40, \"sup\");\n    i0.ɵɵtext(41, \"*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"input\", 100);\n    i0.ɵɵlistener(\"change\", function CompanyDocumentsComponent_ng_template_62_Template_input_change_42_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return ctx_r53.selectDoc($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, CompanyDocumentsComponent_ng_template_62_div_43_Template, 3, 0, \"div\", 68);\n    i0.ɵɵelementStart(44, \"span\", 101);\n    i0.ɵɵtext(45, \" Acceptable formats (pdf, jpg, jpeg, png). The maximum file size can be 15MB.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(46, CompanyDocumentsComponent_ng_template_62_div_46_Template, 13, 2, \"div\", 102);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"div\", 103);\n    i0.ɵɵelementStart(48, \"label\", 87);\n    i0.ɵɵtext(49, \"Remarks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"textarea\", 104, 105);\n    i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_ng_template_62_Template_textarea_ngModelChange_50_listener($event) {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return ctx_r54.documentData.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(52, CompanyDocumentsComponent_ng_template_62_div_52_Template, 3, 1, \"div\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 54);\n    i0.ɵɵelementStart(54, \"button\", 106);\n    i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_ng_template_62_Template_button_click_54_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const modal_r27 = restoredCtx.$implicit;\n      return modal_r27.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(55, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(56, CompanyDocumentsComponent_ng_template_62_button_56_Template, 2, 1, \"button\", 107);\n    i0.ɵɵtemplate(57, CompanyDocumentsComponent_ng_template_62_button_57_Template, 2, 1, \"button\", 107);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r28 = i0.ɵɵreference(1);\n\n    const _r29 = i0.ɵɵreference(16);\n\n    const _r32 = i0.ɵɵreference(26);\n\n    const _r36 = i0.ɵɵreference(51);\n\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.modalTitle, \" Document \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.documentData.tripID)(\"ngClass\", i0.ɵɵpureFunction1(14, _c1, _r28.submitted && _r29.invalid));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.trips);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r29.invalid && _r28.submitted);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.documentData.docType)(\"ngClass\", i0.ɵɵpureFunction1(16, _c1, _r28.submitted && _r32.invalid));\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", _r32.invalid && _r28.submitted);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.docError && ctx_r8.documentData.uploadedDocs.length === 0 && ctx_r8.currentID || ctx_r8.docError && ctx_r8.uploadeddoc.length === 0 && !ctx_r8.currentID);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.ifEdit);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r8.documentData.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r36.invalid && (_r36.dirty || _r36.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.currentID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.currentID);\n  }\n}\n\nexport class CompanyDocumentsComponent {\n  constructor(apiService, toastr, spinner, modalService) {\n    var _this = this;\n\n    this.apiService = apiService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.modalService = modalService;\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.environment = environment.isFeatureEnabled;\n    this.Asseturl = this.apiService.AssetUrl;\n    this.documents = [];\n    this.trips = [];\n    this.ifEdit = false;\n    this.modalTitle = 'Add';\n    this.documentsDocs = [];\n    this.documentMode = 'Manual';\n    this.allOptions = {};\n    this.response = '';\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = '';\n    this.Success = '';\n    this.errors = {};\n    this.submitDisabled = false;\n    this.documentData = {\n      categoryType: 'company',\n      tripID: null,\n      docType: null,\n      // documentName: '',\n      description: '',\n      uploadedDocs: [],\n      dateCreated: moment().format('YYYY-MM-DD')\n    };\n    this.totalRecords = 0;\n    this.pageLength = 10;\n    this.serviceUrl = '';\n    this.filterValues = {\n      docID: '',\n      searchValue: '',\n      startDate: '',\n      endDate: '',\n      start: '',\n      end: ''\n    };\n    this.lastEvaluatedKey = '';\n    this.suggestions = [];\n    this.currentID = null;\n    this.uploadeddoc = [];\n    this.newDoc = [];\n    this.tripsObjects = {};\n    this.docError = false; // to show error if doc is not uploaded\n\n    this.docNext = false;\n    this.docPrev = true;\n    this.docDraw = 0;\n    this.docPrevEvauatedKeys = [''];\n    this.docStartPoint = 1;\n    this.docEndPoint = this.pageLength;\n    this.descriptionData = '';\n    this.documentNumberDisabled = false;\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.date = new Date();\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.alltrips = [];\n    this.getSuggestions = _.debounce(function (searchvalue) {\n      this.suggestions = [];\n\n      if (searchvalue !== '') {\n        this.apiService.getData('documents/get/suggestions/' + searchvalue).subscribe({\n          complete: () => {},\n          error: () => {},\n          next: result => {\n            this.suggestions = [];\n\n            for (let i = 0; i < result.length; i++) {\n              const element = result[i];\n              let obj = {\n                id: element.docID,\n                name: element.documentNumber\n              };\n              this.suggestions.push(obj);\n            }\n          }\n        });\n      }\n    }, 800);\n    this.loaded = false;\n\n    this.fetchDocuments = () => {\n      this.totalRecords = 0;\n      this.apiService.getData('documents/get/count?categoryType=company&searchValue=' + this.filterValues.searchValue + \"&from=\" + this.filterValues.start + \"&to=\" + this.filterValues.end).subscribe({\n        complete: () => {},\n        error: () => {},\n        next: result => {\n          this.totalRecords = result.Count;\n        }\n      });\n    };\n\n    this.getCurrentuser = /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.currentUser = localStorage.getItem(\"currentUserName\");\n    });\n    this.selectedFileNames = new Map();\n  }\n\n  ngOnInit() {\n    this.fetchDocumentsCount();\n    this.fetchTrips();\n    this.fetchTripsByIDs();\n  }\n  /*\r\n   * Get all trips from api\r\n   */\n\n\n  fetchTrips() {\n    this.apiService.getData('trips').subscribe(result => {\n      this.alltrips = result.Items;\n      result.Items.forEach(element => {\n        if (element.isDeleted === 0) {\n          this.trips.push(element);\n        }\n\n        if (element.isDeleted === 1 && element.tripID === this.documentData.tripID) {\n          this.documentData.tripID = null;\n        }\n      });\n    });\n  }\n  /*\r\n  * Get all trips from api\r\n  */\n\n\n  fetchTripsByIDs() {\n    this.apiService.getData('trips/get/list').subscribe(result => {\n      this.tripsObjects = result;\n    });\n  }\n\n  fetchDocumentsCount() {\n    this.apiService.getData('documents/get/count?categoryType=company&searchValue=' + this.filterValues.searchValue + \"&from=\" + this.filterValues.start + \"&to=\" + this.filterValues.end).subscribe({\n      complete: () => {},\n      error: () => {},\n      next: result => {\n        this.totalRecords = result.Count;\n\n        if (this.filterValues.searchValue != '' || this.filterValues.start != '' || this.filterValues.end != '') {\n          this.docEndPoint = this.totalRecords;\n        }\n\n        this.initDataTable();\n      }\n    });\n  }\n\n  selectDoc(event) {\n    let files = [...event.target.files];\n    let condition = true;\n\n    for (let i = 0; i < files.length; i++) {\n      const element = files[i];\n      let name = element.name.split('.');\n      let ext = name[name.length - 1].toLowerCase();\n\n      if (ext !== 'jpg' && ext !== 'pdf' && ext !== 'jpeg' && ext !== 'png') {\n        $('#uploadedDocs').val('');\n        condition = false;\n        this.toastr.error('Only pdf, jpg, jpeg and png file formats are allowed');\n        return false;\n      }\n    }\n\n    if (condition) {\n      this.uploadeddoc = [];\n      this.uploadeddoc = files;\n    }\n  }\n\n  saveDocumentMode() {\n    if (this.documentMode !== 'Manual') {\n      const prefixCode = `${this.documentPrefix}-${this.documentSequence}`;\n      this.documentData['documentNumber'] = prefixCode;\n    }\n  }\n\n  onAddDocument() {\n    if (this.uploadeddoc.length > 0) {\n      this.submitDisabled = true;\n      this.hideErrors();\n      this.spinner.show(); // create form data instance\n\n      const formData = new FormData(); // append photos if any\n\n      for (let i = 0; i < this.uploadeddoc.length; i++) {\n        formData.append('uploadedDocs', this.uploadeddoc[i]);\n      } // append other fields\n\n\n      formData.append('data', JSON.stringify(this.documentData));\n      this.apiService.postData('documents', formData, true).subscribe({\n        complete: () => {},\n        error: err => {\n          from(err.error).pipe(map(val => {\n            val.message = val.message.replace(/\".*\"/, 'This Field');\n            this.errors[val.context.label] = val.message;\n          })).subscribe({\n            complete: () => {\n              this.submitDisabled = false; // this.throwErrors();\n            },\n            error: () => {\n              this.submitDisabled = false;\n            },\n            next: () => {}\n          });\n        },\n        next: res => {\n          this.spinner.hide();\n          this.toastr.success('Document Added successfully');\n          this.docRef.close();\n          this.documentData.docType = null;\n          this.documentData.tripID = null;\n          this.documentData.uploadedDocs = [];\n          this.uploadeddoc = [];\n          $('#uploadedDocs').val(''); // this.documentData.documentName = '';\n\n          this.documentData.description = '';\n          this.lastEvaluatedKey = '';\n          this.documents = [];\n          this.fetchDocumentsCount();\n          this.submitDisabled = false;\n        }\n      });\n    } else {\n      this.docError = true;\n    }\n  }\n\n  throwErrors() {\n    this.spinner.hide();\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').after('<label id=\"' + v + '-error\" class=\"error\" for=\"' + v + '\">' + this.errors[v] + '</label>').addClass('error');\n    });\n  }\n\n  hideErrors() {\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').removeClass('error').next().remove('label');\n    });\n    this.errors = {};\n  }\n  /*\r\n    * Fetch Document details before updating\r\n    */\n\n\n  editDocument(id) {\n    this.spinner.show();\n    this.currentID = id;\n    this.docError = false;\n    this.ifEdit = true;\n    this.modalTitle = 'Edit';\n    this.newDoc = [];\n    this.documentData = {\n      categoryType: 'company',\n      tripID: null,\n      docType: null,\n      // documentName: '',\n      description: '',\n      uploadedDocs: [],\n      dateCreated: moment().format('YYYY-MM-DD')\n    };\n    this.documentData.docType = null;\n    this.documentData.description = '';\n    this.documentData.uploadedDocs = [];\n    this.apiService.getData(`documents/${this.currentID}`).subscribe(result => {\n      result = result.Items[0];\n      this.spinner.hide();\n      this.documentData.tripID = result.tripID;\n      this.alltrips.forEach(element => {\n        if (element.isDeleted === 1 && element.tripID === this.documentData.tripID) {\n          this.documentData.tripID = null;\n        }\n      });\n      this.documentData['documentNumber'] = result.documentNumber.toString(); // this.documentData.documentName = result.documentName;\n\n      this.documentData.docType = result.docType;\n      this.documentData.description = result.description;\n      this.documentData[`timeCreated`] = result.timeCreated;\n      this.documentData.dateCreated = result.dateCreated;\n      this.documentData.uploadedDocs = result.uploadedDocs; // this.uploadeddoc = result.uploadedDocs;\n\n      if (result.uploadedDocs !== undefined && result.uploadedDocs.length > 0) {\n        result.uploadedDocs.forEach(x => {\n          if (x.storedName.split(\".\")[1] === \"jpg\" || x.storedName.split(\".\")[1] === \"png\" || x.storedName.split(\".\")[1] === \"jpeg\") {\n            const obj = {\n              imgPath: `${x.urlPath}`,\n              docPath: `${x.urlPath}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n            this.newDoc.push(obj);\n          } else {\n            const obj = {\n              imgPath: 'assets/img/icon-pdf.png',\n              docPath: `${x.urlPath}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n            this.newDoc.push(obj);\n          }\n        });\n      }\n\n      this.openDocModal();\n    });\n  }\n\n  openDocModal() {\n    let ngbModalOptions = {\n      keyboard: false,\n      backdrop: \"static\",\n      windowClass: \"document--main\"\n    };\n    this.docRef = this.modalService.open(this.addDocumentModal, ngbModalOptions);\n  }\n\n  onUpdateDocument() {\n    if (this.uploadeddoc.length > 0 || this.documentData.uploadedDocs.length > 0) {\n      this.submitDisabled = true;\n      this.documentData[`docID`] = this.currentID; // create form data instance\n\n      const formData = new FormData(); //append photos if any\n\n      if (this.uploadeddoc.length > 0) {\n        for (let i = 0; i < this.uploadeddoc.length; i++) {\n          formData.append('uploadedDocs', this.uploadeddoc[i]);\n        }\n      } //append other fields\n\n\n      formData.append('data', JSON.stringify(this.documentData));\n      this.apiService.putData('documents', formData, true).subscribe({\n        complete: () => {},\n        error: err => {\n          from(err.error).pipe(map(val => {\n            val.message = val.message.replace(/\".*\"/, 'This Field');\n            this.errors[val.context.label] = val.message;\n          })).subscribe({\n            complete: () => {\n              this.submitDisabled = false; // this.throwErrors();\n            },\n            error: () => {\n              this.submitDisabled = false;\n            },\n            next: () => {}\n          });\n        },\n        next: res => {\n          this.toastr.success('Document Updated successfully');\n          this.docRef.close();\n          this.documentData.docType = null;\n          this.documentData.tripID = '';\n          this.documentData.uploadedDocs = [];\n          $('#uploadedDocs').val(''); // this.documentData.documentName = '';\n\n          this.documentData.description = '';\n          this.lastEvaluatedKey = '';\n          this.documents = [];\n          this.currentID = null;\n          this.initDataTable();\n          this.submitDisabled = false;\n        }\n      });\n    } else {\n      this.docError = true;\n    }\n  }\n\n  deactivateAsset(value, docID, docNo) {\n    if (confirm(\"Are you sure you want to delete?\") === true) {\n      this.apiService.deleteData(`documents/isDeleted/${docID}/${docNo}/${value}`).subscribe(result => {\n        this.documents = [];\n        this.docDraw = 0;\n        this.lastEvaluatedKey = '';\n        this.dataMessage = Constants.FETCHING_DATA;\n        this.toastr.success('Document deleted successfully.');\n        this.fetchDocuments();\n        this.initDataTable();\n      });\n    }\n  }\n\n  initDataTable(refresh) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (refresh === true) {\n        _this2.lastEvaluatedKey = \"\";\n        _this2.documents = [];\n      }\n\n      if (_this2.lastEvaluatedKey !== 'end') {\n        _this2.apiService.getData(`documents/fetch/records?categoryType=company&searchValue=${_this2.filterValues.searchValue}&from=${_this2.filterValues.start}&to=${_this2.filterValues.end}&lastKey=${_this2.lastEvaluatedKey}`).subscribe(result => {\n          if (result.Items.length == 0) {\n            _this2.dataMessage = Constants.NO_RECORDS_FOUND;\n          }\n\n          if (result.Items.length > 0) {\n            if (result.LastEvaluatedKey !== undefined) {\n              _this2.lastEvaluatedKey = encodeURIComponent(result.LastEvaluatedKey.docSK);\n            } else {\n              _this2.lastEvaluatedKey = 'end';\n            }\n\n            for (let i = 0; i < result.Items.length; i++) {\n              const element = result.Items[i];\n\n              _this2.documents.push(element);\n            } // this.documents = this.documents.concat(result.Items);\n\n\n            _this2.loaded = true;\n          } // this.suggestions = [];\n          // this.getStartandEndVal();\n          // this.documents = result['Items'];\n\n        });\n      }\n    })();\n  }\n\n  onScroll() {\n    if (this.loaded) {\n      this.initDataTable();\n    }\n\n    this.loaded = false;\n  }\n\n  searchFilter() {\n    if (this.filterValues.startDate === null) this.filterValues.startDate = '';\n    if (this.filterValues.endDate === null) this.filterValues.endDate = '';\n\n    if (this.filterValues.startDate != '' || this.filterValues.endDate != '' || this.filterValues.searchValue != '') {\n      if (this.filterValues.startDate != '' && this.filterValues.endDate == '') {\n        this.toastr.error('Please select both start and end dates.');\n        return false;\n      } else if (this.filterValues.startDate == '' && this.filterValues.endDate != '') {\n        this.toastr.error('Please select both start and end dates.');\n        return false;\n      } else if (this.filterValues.startDate > this.filterValues.endDate) {\n        this.toastr.error('Start date should be less then end date');\n        return false;\n      } else {\n        this.dataMessage = Constants.FETCHING_DATA;\n        this.documents = [];\n        this.suggestions = [];\n        this.lastEvaluatedKey = \"\";\n        this.filterValues.searchValue = this.filterValues.searchValue.toLowerCase();\n\n        if (this.filterValues.startDate !== '') {\n          this.filterValues.start = this.filterValues.startDate;\n        }\n\n        if (this.filterValues.endDate !== '') {\n          this.filterValues.end = this.filterValues.endDate;\n        } // this.pageLength = this.totalRecords;\n\n\n        this.fetchDocumentsCount();\n      }\n    } else {\n      this.toastr.error('Please fill at least one field');\n      return false;\n    }\n  }\n\n  resetFilter() {\n    if (this.filterValues.startDate !== '' || this.filterValues.endDate !== '' || this.filterValues.searchValue !== '') {\n      this.dataMessage = Constants.FETCHING_DATA;\n      this.documents = [];\n      this.suggestions = [];\n      this.filterValues = {\n        docID: '',\n        searchValue: '',\n        startDate: '',\n        endDate: '',\n        start: '',\n        end: ''\n      };\n      this.resetCountResult();\n      this.fetchDocumentsCount();\n    } else {\n      return false;\n    }\n  }\n\n  searchSelectedRoute(document) {\n    this.filterValues.docID = document.id;\n    this.filterValues.searchValue = document.name;\n    this.suggestions = [];\n  }\n\n  getStartandEndVal() {\n    this.docStartPoint = this.docDraw * this.pageLength + 1;\n    this.docEndPoint = this.docStartPoint + this.pageLength - 1;\n  } // next button func\n\n\n  nextResults() {\n    this.docNext = true;\n    this.docPrev = true;\n    this.docDraw += 1;\n    this.initDataTable();\n  } // prev button func\n\n\n  prevResults() {\n    this.docPrev = true;\n    this.docNext = true;\n    this.docDraw -= 1;\n    this.lastEvaluatedKey = this.docPrevEvauatedKeys[this.docDraw];\n    this.initDataTable();\n  }\n\n  resetCountResult() {\n    this.lastEvaluatedKey = '';\n    this.docStartPoint = 1;\n    this.docEndPoint = this.pageLength;\n    this.docDraw = 0;\n  }\n\n  openDocumentModal() {\n    this.currentID = null;\n    this.documentData = {\n      categoryType: 'company',\n      tripID: null,\n      docType: null,\n      // documentName: '',\n      description: '',\n      uploadedDocs: [],\n      dateCreated: moment().format('YYYY-MM-DD')\n    };\n    this.newDoc = '';\n    this.openDocModal();\n  }\n\n  showDescModal(description) {\n    this.descriptionData = description;\n    $(\"#routeNotes\").modal('show');\n  }\n\n  refreshData() {\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.documents = [];\n    this.suggestions = [];\n    this.filterValues = {\n      docID: '',\n      searchValue: '',\n      startDate: '',\n      endDate: '',\n      start: '',\n      end: ''\n    };\n    this.lastEvaluatedKey = '';\n    this.resetCountResult();\n    this.fetchDocumentsCount();\n  }\n\n}\n\nCompanyDocumentsComponent.ɵfac = function CompanyDocumentsComponent_Factory(t) {\n  return new (t || CompanyDocumentsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgxSpinnerService), i0.ɵɵdirectiveInject(i4.NgbModal));\n};\n\nCompanyDocumentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompanyDocumentsComponent,\n  selectors: [[\"app-company-documents\"]],\n  viewQuery: function CompanyDocumentsComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addDocumentModal = _t.first);\n    }\n  },\n  decls: 83,\n  vars: 16,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pt-0\", \"pr-0\"], [1, \"page-header\", \"pr5\", \"pl7\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-2\", \"col-lg-2\", \"pr-2\"], [1, \"input-group\", \"input-group-md\", \"mb-3\"], [\"type\", \"text\", \"name\", \"searchValue\", \"autocomplete\", \"off\", \"placeholder\", \"Search Document#\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"class\", \"result-suggestions\", 4, \"ngIf\"], [1, \"col-lg-3\", \"col-md-3\", \"pr-2\"], [1, \"input-daterange\", \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-calendar-alt\"], [\"name\", \"fromDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"from\", \"ngbDatepicker\"], [1, \"input-group-text\", \"border-left-0\", \"border-right-0\", \"rounded-0\"], [\"name\", \"toDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"to\", \"ngbDatepicker\"], [1, \"col-md-2\", \"col-lg-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-2\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [1, \"col-lg-5\", \"text-right\"], [\"class\", \"btn-group flex-wrap pull-right\", 4, \"ngIf\"], [\"href\", \"javascript:;\", \"data-toggle\", \"tooltip\", \"title\", \"Refresh data\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"modal-with-form\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [\"data-toggle\", \"modal\", \"href\", \"javascript:;\", 1, \"modal-with-form\", \"mb-1\", \"mr-1\", \"btn\", \"btn-success\", \"btn-sm\", \"pull-right\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"m-2\"], [\"infiniteScroll\", \"\", 3, \"infiniteScrollDistance\", \"infiniteScrollUpDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"pt-3\"], [1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [\"width\", \"10%\"], [\"width\", \"20%\"], [\"width\", \"5%\"], [\"class\", \"text-center\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-3\", \"dtPaginate\"], [\"class\", \"col-lg-12 mt-3 text-center\", 4, \"ngIf\"], [\"addDocumentModal\", \"\"], [\"id\", \"routeNotes\", \"role\", \"dialog\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\", 2, \"max-width\", \"500px\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"close\"], [1, \"modal-body\"], [1, \"form-group\", \"row\", \"text-dark\"], [1, \"row\"], [1, \"mb-0\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-default\"], [1, \"result-suggestions\"], [\"style\", \"cursor: pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"btn-group\", \"flex-wrap\", \"pull-right\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"dropdown-toggle\", \"mr-2\"], [1, \"caret\"], [\"role\", \"menu\", \"x-placement\", \"bottom-start\", 1, \"dropdown-menu\", 2, \"position\", \"absolute\", \"will-change\", \"transform\", \"top\", \"0px\", \"left\", \"0px\", \"transform\", \"translate3d(0px, 38px, 0px)\"], [\"href\", \"#\", 1, \"dropdown-item\", \"text-1\"], [\"href\", \"\", 1, \"dropdown-item\", \"text-1\"], [\"href\", \"#emailForm\", 1, \"dropdown-item\", \"text-1\", \"modal-with-form\"], [1, \"text-center\"], [\"colspan\", \"8\"], [4, \"ngIf\"], [1, \"dropdown\", \"dropright\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"bg-transparent\", \"border-0\", 3, \"id\"], [1, \"fas\", \"fa-ellipsis-v\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"dropdown-item\", 3, \"click\"], [\"target\", \"_blank\", 1, \"dropdown-item\", 3, \"href\"], [\"href\", \"javascript:;\", \"class\", \"btn btn-dark btn-xs modal-with-form\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-dark\", \"btn-xs\", \"modal-with-form\", 3, \"click\"], [1, \"col-lg-12\", \"mt-3\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"text-light\", 3, \"click\"], [\"method\", \"get\", \"name\", \"form\", \"id\", \"form_\", \"novalidate\", \"\", \"ngNativeValidate\", \"\", 1, \"form-horizontal\", 3, \"ngSubmit\"], [\"docForm\", \"ngForm\"], [\"id\", \"addDocumentModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [1, \"far\", \"fa-window-close\", \"modal-dismiss\", 2, \"font-size\", \"25px\"], [1, \"form-row\"], [1, \"form-group\", \"col-lg-12\"], [1, \"control-label\", \"font-weight-bold\", \"labelmt\", \"text-3\", \"text-dark\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"name\", \"tripID\", \"placeholder\", \"Select Trip\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"dTrip\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"name\", \"docType\", \"placeholder\", \"Select Document Type\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"docTypeName\", \"ngModel\"], [\"value\", \"Bill of Lading\"], [\"value\", \"Proof of Delivery\"], [\"value\", \"Fuel Receipts\"], [\"value\", \"Load Confirmation\"], [1, \"form-group\", \"col-lg-12\", \"mb-3\"], [\"name\", \"\", \"id\", \"uploadedDocs\", \"type\", \"file\", 1, \"form-control\", \"border-0\", \"pl-0\", \"choosefileLH\", 3, \"change\"], [1, \"mt-2\"], [\"class\", \"row\", \"style\", \"max-height: 170px; overflow: scroll\", 4, \"ngIf\"], [1, \"form-group\"], [\"name\", \"description\", \"placeholder\", \"Enter Remarks\", \"rows\", \"3\", \"pattern\", \"^[\\\\s\\\\S]{1,500}$\", 1, \"form-control\", \"heighta\", 3, \"ngModel\", \"ngModelChange\"], [\"Descrip1\", \"ngModel\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", \"modal-dismiss\", 3, \"click\"], [\"type\", \"submit\", \"class\", \"btn btn-success modal-confirm\", 3, \"disabled\", 4, \"ngIf\"], [3, \"value\"], [1, \"text-danger\"], [1, \"row\", 2, \"max-height\", \"170px\", \"overflow\", \"scroll\"], [1, \"col-12\"], [1, \"table\", \"table-bordered\"], [\"colspan\", \"4\"], [\"target\", \"_blank\", 1, \"image-popup-no-margins\", 3, \"href\"], [1, \"img_thumbnail\", 3, \"src\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"modal-confirm\", 3, \"disabled\"]],\n  template: function CompanyDocumentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r56 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵelementStart(8, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.filterValues.searchValue = $event;\n      })(\"input\", function CompanyDocumentsComponent_Template_input_input_8_listener($event) {\n        return ctx.getSuggestions($event.target.value);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, CompanyDocumentsComponent_div_9_Template, 3, 1, \"div\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 10);\n      i0.ɵɵelementStart(11, \"div\", 11);\n      i0.ɵɵelementStart(12, \"span\", 12);\n      i0.ɵɵelementStart(13, \"span\", 13);\n      i0.ɵɵelement(14, \"i\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.filterValues.startDate = $event;\n      })(\"click\", function CompanyDocumentsComponent_Template_input_click_15_listener() {\n        i0.ɵɵrestoreView(_r56);\n\n        const _r1 = i0.ɵɵreference(16);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"span\", 17);\n      i0.ɵɵtext(18, \" to \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 18, 19);\n      i0.ɵɵlistener(\"ngModelChange\", function CompanyDocumentsComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.filterValues.endDate = $event;\n      })(\"click\", function CompanyDocumentsComponent_Template_input_click_19_listener() {\n        i0.ɵɵrestoreView(_r56);\n\n        const _r2 = i0.ɵɵreference(20);\n\n        return _r2.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 20);\n      i0.ɵɵelementStart(22, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_Template_button_click_22_listener() {\n        return ctx.searchFilter();\n      });\n      i0.ɵɵtext(23, \" Search \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_Template_button_click_24_listener() {\n        return ctx.resetFilter();\n      });\n      i0.ɵɵtext(25, \" Reset \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 23);\n      i0.ɵɵtemplate(27, CompanyDocumentsComponent_div_27_Template, 11, 0, \"div\", 24);\n      i0.ɵɵelementStart(28, \"a\", 25);\n      i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_Template_a_click_28_listener() {\n        return ctx.refreshData();\n      });\n      i0.ɵɵelement(29, \"i\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"a\", 27);\n      i0.ɵɵlistener(\"click\", function CompanyDocumentsComponent_Template_a_click_30_listener() {\n        ctx.ifEdit = false;\n        ctx.modalTitle = \"Add\";\n        return ctx.openDocumentModal();\n      });\n      i0.ɵɵelement(31, \"i\", 28);\n      i0.ɵɵtext(32, \" Add Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"section\", 29);\n      i0.ɵɵelementStart(34, \"div\", 30);\n      i0.ɵɵlistener(\"scrolled\", function CompanyDocumentsComponent_Template_div_scrolled_34_listener() {\n        return ctx.onScroll();\n      });\n      i0.ɵɵelementStart(35, \"div\", 31);\n      i0.ɵɵelementStart(36, \"div\", 32);\n      i0.ɵɵelementStart(37, \"div\", 33);\n      i0.ɵɵelementStart(38, \"div\", 34);\n      i0.ɵɵelementStart(39, \"div\", 32);\n      i0.ɵɵelementStart(40, \"table\", 35);\n      i0.ɵɵelementStart(41, \"thead\");\n      i0.ɵɵelementStart(42, \"tr\");\n      i0.ɵɵelementStart(43, \"th\", 36);\n      i0.ɵɵtext(44, \"Document#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 36);\n      i0.ɵɵtext(46, \"Trip\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"th\", 36);\n      i0.ɵɵtext(48, \"Document Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"th\", 36);\n      i0.ɵɵtext(50, \"Uploaded By\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"th\", 36);\n      i0.ɵɵtext(52, \"Uploaded On\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"th\", 37);\n      i0.ɵɵtext(54, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"th\", 38);\n      i0.ɵɵtext(56, \"Actions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"tbody\");\n      i0.ɵɵtemplate(58, CompanyDocumentsComponent_tr_58_Template, 3, 1, \"tr\", 39);\n      i0.ɵɵtemplate(59, CompanyDocumentsComponent_tr_59_Template, 29, 17, \"tr\", 40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"div\", 41);\n      i0.ɵɵtemplate(61, CompanyDocumentsComponent_div_61_Template, 3, 0, \"div\", 42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(62, CompanyDocumentsComponent_ng_template_62_Template, 58, 18, \"ng-template\", null, 43, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(64, \"div\", 44);\n      i0.ɵɵelementStart(65, \"div\", 45);\n      i0.ɵɵelementStart(66, \"div\", 46);\n      i0.ɵɵelementStart(67, \"div\", 47);\n      i0.ɵɵelementStart(68, \"h4\", 48);\n      i0.ɵɵtext(69, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"button\", 49);\n      i0.ɵɵtext(71, \" \\u00D7 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"form\");\n      i0.ɵɵelementStart(73, \"div\", 50);\n      i0.ɵɵelementStart(74, \"div\", 51);\n      i0.ɵɵelementStart(75, \"div\", 32);\n      i0.ɵɵelementStart(76, \"div\", 52);\n      i0.ɵɵelementStart(77, \"div\", 32);\n      i0.ɵɵelementStart(78, \"p\", 53);\n      i0.ɵɵtext(79);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"div\", 54);\n      i0.ɵɵelementStart(81, \"button\", 55);\n      i0.ɵɵtext(82, \" Close \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.filterValues.searchValue);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.suggestions == null ? null : ctx.suggestions.length) > 0);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.filterValues.startDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.filterValues.endDate)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", !ctx.environment);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"infiniteScrollDistance\", 1)(\"infiniteScrollUpDistance\", 1)(\"infiniteScrollThrottle\", 5);\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngIf\", ctx.documents.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.documents);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.lastEvaluatedKey !== \"end\" && ctx.documents.length !== 0);\n      i0.ɵɵadvance(18);\n      i0.ɵɵtextInterpolate1(\" \", ctx.descriptionData, \" \");\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgIf, i4.NgbInputDatepicker, i7.InfiniteScrollDirective, i6.NgForOf, i8.NgSelectComponent, i5.RequiredValidator, i6.NgClass, i8.ɵr, i5.PatternValidator],\n  pipes: [i6.DatePipe, i6.SlicePipe],\n  styles: [\".dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active {\\r\\n  color: #fff !important;\\r\\n}\\r\\n.img_thumbnail[_ngcontent-%COMP%] {\\r\\n  width: 90px;\\r\\n  height: 70px;\\r\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module"}