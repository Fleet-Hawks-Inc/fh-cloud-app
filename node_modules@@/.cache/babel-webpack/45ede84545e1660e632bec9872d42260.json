{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { from, Subject, throwError } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { debounceTime, distinctUntilChanged, switchMap, catchError } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"src/app/services/safety.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@ng-select/ng-select\";\n\nfunction AddIncidentComponent_div_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Event date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_29_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r1 = i0.ɵɵreference(27);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_div_38_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Event time is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_38_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(37);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r34 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r34.driverID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", data_r34.firstName, \" \", data_r34.lastName, \"\");\n  }\n}\n\nfunction AddIncidentComponent_div_49_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Driver is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_49_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r6 = i0.ɵɵreference(47);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r36 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r36.tripID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r36.tripNo);\n  }\n}\n\nfunction AddIncidentComponent_div_59_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Trip is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_59_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r9 = i0.ɵɵreference(57);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const vehicle_r38 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", vehicle_r38.vehicleID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", vehicle_r38.vehicleIdentification, \" \");\n  }\n}\n\nfunction AddIncidentComponent_div_70_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Vehicle is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_70_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r12 = i0.ɵɵreference(68);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r12.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r40 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r40);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r40, \" \");\n  }\n}\n\nfunction AddIncidentComponent_div_80_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Assigned is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_80_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r15 = i0.ɵɵreference(78);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r15.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r42 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r42.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r42.name, \"\");\n  }\n}\n\nfunction AddIncidentComponent_div_91_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Incident type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_91_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r18 = i0.ɵɵreference(89);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r18.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_ng_option_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r44 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", data_r44.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r44.name);\n  }\n}\n\nfunction AddIncidentComponent_div_101_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Severity is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_101_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r21 = i0.ɵɵreference(99);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r21.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_div_111_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 56);\n    i0.ɵɵlistener(\"click\", function AddIncidentComponent_div_111_li_2_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r49);\n      const item_r47 = restoredCtx.$implicit;\n      const ctx_r48 = i0.ɵɵnextContext(2);\n      return ctx_r48.assignLocation(item_r47);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r47 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", item_r47.address);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r47.address);\n  }\n}\n\nfunction AddIncidentComponent_div_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵelementStart(1, \"ul\", 54);\n    i0.ɵɵtemplate(2, AddIncidentComponent_div_111_li_2_Template, 3, 2, \"li\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.searchResults);\n  }\n}\n\nfunction AddIncidentComponent_div_112_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Location is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddIncidentComponent_div_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, AddIncidentComponent_div_112_div_1_Template, 2, 0, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r24 = i0.ɵɵreference(110);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r24.errors.required);\n  }\n}\n\nfunction AddIncidentComponent_span_119_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r27.docSizeError, \" \");\n  }\n}\n\nfunction AddIncidentComponent_span_125_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r28.photoSizeError, \" \");\n  }\n}\n\nfunction AddIncidentComponent_span_130_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r29 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r29.videoSizeError, \" \");\n  }\n}\n\nfunction AddIncidentComponent_div_137_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1, \" Only 500 characters are allowed. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class AddIncidentComponent {\n  constructor(apiService, safetyService, toastr, spinner, router, hereMap) {\n    var _this = this;\n\n    this.apiService = apiService;\n    this.safetyService = safetyService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.router = router;\n    this.hereMap = hereMap;\n    this.errors = {};\n    this.event = {\n      eventDate: \"\",\n      eventTime: \"\",\n      driverID: null,\n      vehicleID: null,\n      tripID: null,\n      assigned: null,\n      incidentType: null,\n      eventSource: \"manual\",\n      location: {\n        label: \"\",\n        cords: \"\"\n      },\n      severity: null,\n      notes: \"\",\n      status: \"open\"\n    };\n    this.uploadedVideos = [];\n    this.uploadedDocs = [];\n    this.uploadedPhotos = [];\n    this.carrierID = \"\";\n    this.incidentType = [{\n      value: \"majorAccident\",\n      name: \"Major Accident\"\n    }, {\n      value: \"minorAccident\",\n      name: \"Minor Accident\"\n    }, {\n      value: \"overSpeeding\",\n      name: \"Over Speeding\"\n    }];\n    this.severity = [{\n      value: \"high\",\n      name: \"High\"\n    }, {\n      value: \"medium\",\n      name: \"Medium\"\n    }, {\n      value: \"low\",\n      name: \"Low\"\n    }];\n    this.vehicles = [];\n    this.drivers = [];\n    this.users = [];\n    this.trips = [];\n    this.safetyManagers = [];\n    this.disableButton = false;\n    this.photoSizeError = \"\";\n    this.videoSizeError = \"\";\n    this.docSizeError = \"\";\n    this.isSuggest = false;\n    this.searchTerm = new Subject();\n    this.getCurrentUser = /*#__PURE__*/_asyncToGenerator(function* () {\n      // let result = (await Auth.currentSession()).getIdToken().payload;\n      // this.currentUser = `${result.firstName} ${result.lastName}`;\n      _this.currentUser = localStorage.getItem(\"currentUserName\");\n\n      _this.safetyManagers.push(_this.currentUser);\n    });\n    this.selectedFileNames = new Map();\n    const date = new Date();\n    this.birthDateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.birthDateMaxLimit = {\n      year: date.getFullYear(),\n      month: 12,\n      day: 31\n    };\n  }\n\n  ngOnInit() {\n    this.fetchVehicles();\n    this.fetchDrivers();\n    this.fetchTrips();\n    this.searchLocation();\n    this.getCurrentUser();\n    this.disabledButton();\n  }\n\n  disabledButton() {\n    if (this.event.driverID == \"\" || this.event.driverID == null || this.event.vehicleID == \"\" || this.event.vehicleID == null || this.event.tripID == \"\" || this.event.tripID == null || this.event.eventDate == \"\" || this.event.eventDate == null || this.event.eventTime == \"\" || this.event.eventTime == null || this.event.assigned == \"\" || this.event.assigned == null || this.event.severity == \"\" || this.event.severity == null || this.event.incidentType == \"\" || this.event.incidentType == null || this.event.location.label == \"\" || this.event.status == \"\" || this.event.eventSource == \"\" || this.event.notes.length > 500) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  fetchVehicles() {\n    this.apiService.getData(\"vehicles\").subscribe(result => {\n      result.Items.forEach(element => {\n        if (element.isDeleted === 0) {\n          this.vehicles.push(element);\n        }\n      });\n    });\n  }\n\n  fetchDrivers() {\n    this.apiService.getData(\"drivers/safety\").subscribe(result => {\n      this.drivers = result.Items;\n    });\n  }\n\n  fetchTrips() {\n    this.apiService.getData(\"common/trips/safety/active\").subscribe(result => {\n      this.trips = result.Items;\n    });\n  }\n\n  addEvent() {\n    if (!this.isSuggest) {\n      this.toastr.error(\"Please select valid location\");\n      return;\n    }\n\n    this.disableButton = true;\n    this.hideErrors(); // create form data instance\n\n    const formData = new FormData(); // append videos if any\n\n    for (let i = 0; i < this.uploadedVideos.length; i++) {\n      formData.append(\"uploadedVideos\", this.uploadedVideos[i]);\n    } // append photos if any\n\n\n    for (let j = 0; j < this.uploadedPhotos.length; j++) {\n      formData.append(\"uploadedPhotos\", this.uploadedPhotos[j]);\n    } // append docs if any\n\n\n    for (let j = 0; j < this.uploadedDocs.length; j++) {\n      formData.append(\"uploadedDocs\", this.uploadedDocs[j]);\n    } // append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.event));\n    this.safetyService.postData(\"incidents\", formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        this.disableButton = false;\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n          this.disableButton = false;\n        })).subscribe({\n          complete: () => {\n            this.disableButton = false;\n            this.throwErrors();\n          },\n          error: () => {\n            this.disableButton = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.spinner.hide();\n        this.toastr.success(\"Incident added successfully\");\n        this.router.navigateByUrl(\"/safety/incidents\");\n      }\n    });\n  }\n\n  throwErrors() {\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').after('<label id=\"' + v + '-error\" class=\"error\" for=\"' + v + '\">' + this.errors[v] + \"</label>\").addClass(\"error\");\n    });\n  }\n\n  hideErrors() {\n    from(Object.keys(this.errors)).subscribe(v => {\n      $('[name=\"' + v + '\"]').removeClass(\"error\").next().remove(\"label\");\n    });\n    this.errors = {};\n  }\n\n  searchLocation() {\n    this.searchTerm.pipe(map(e => {\n      $(e.target).closest(\"div\").addClass(\"show-search__result\");\n      return e.target.value;\n    }), debounceTime(400), distinctUntilChanged(), switchMap(term => {\n      return this.hereMap.searchEntries(term);\n    }), catchError(e => {\n      return throwError(e);\n    })).subscribe(res => {\n      this.searchResults = res;\n    });\n  }\n\n  getAddressDetail(id) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this2.apiService.getData(`pcMiles/detail/${id}`).toPromise();\n      return result;\n    })();\n  }\n\n  assignLocation(item) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = yield _this3.getAddressDetail(item.place_id);\n\n      if (result != undefined) {\n        _this3.event.location.cords = `${result.position.lat},${result.position.lng}`;\n        _this3.event.location.label = item.address;\n        _this3.searchResults = false;\n        _this3.isSuggest = true;\n        $(\"div\").removeClass(\"show-search__result\");\n      } else {\n        _this3.event.location.label = item.address;\n        _this3.event.location.cords = \"0,0\";\n      }\n    })();\n  }\n  /*\r\n   * Selecting files before uploading\r\n   */\n\n\n  selectDocuments(event, obj) {\n    let files = [...event.target.files];\n    let filesSize = 0;\n\n    if (files.length > 5) {\n      this.toastr.error(\"files count limit exceeded\");\n\n      if (obj === \"uploadedPhotos\") {\n        this.photoSizeError = \"files should not be more than 5\";\n      } else if (obj === \"uploadedDocs\") {\n        this.docSizeError = \"files should not be more than 5\";\n      } else {\n        this.videoSizeError = \"files should not be more than 5\";\n      }\n\n      return;\n    }\n\n    if (obj === \"uploadedPhotos\") {\n      this.uploadedPhotos = [];\n\n      for (let i = 0; i < files.length; i++) {\n        filesSize += files[i].size / 1024 / 1024;\n\n        if (filesSize > 10) {\n          this.toastr.error(\"file(s) size limit exceeded.\");\n          this.photoSizeError = \"Please select file which have size below 10 MB.\";\n          return;\n        } else {\n          this.photoSizeError = \"\";\n          let name = files[i].name.split(\".\");\n          let ext = name[name.length - 1].toLowerCase();\n\n          if (ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\") {\n            this.uploadedPhotos.push(files[i]);\n          } else {\n            this.photoSizeError = \"Only .jpg, .jpeg, .png files allowed.\";\n          }\n        }\n      }\n    } else if (obj === \"uploadedDocs\") {\n      this.uploadedDocs = [];\n\n      for (let i = 0; i < files.length; i++) {\n        filesSize += files[i].size / 1024 / 1024;\n\n        if (filesSize > 10) {\n          this.toastr.error(\"file(s) size limit exceeded.\");\n          this.docSizeError = \"Please select file which have size below 10 MB.\";\n          return;\n        } else {\n          this.docSizeError = \"\";\n          let name = files[i].name.split(\".\");\n          let ext = name[name.length - 1].toLowerCase();\n\n          if (ext == \"doc\" || ext == \"docx\" || ext == \"pdf\") {\n            this.uploadedDocs.push(files[i]);\n          } else {\n            this.docSizeError = \"Only .doc, .docx and .pdf files allowed.\";\n          }\n        }\n      }\n    } else {\n      this.uploadedVideos = [];\n\n      for (let i = 0; i < files.length; i++) {\n        filesSize += files[i].size / 1024 / 1024;\n\n        if (filesSize > 30) {\n          this.toastr.error(\"files size limit exceeded\");\n          this.videoSizeError = \"Please select file which have size below 30 MB\";\n          return;\n        } else {\n          this.videoSizeError = \"\";\n          let name = files[i].name.split(\".\");\n          let ext = name[name.length - 1].toLowerCase();\n\n          if (ext == \"mp4\" || ext == \"mov\") {\n            this.uploadedVideos.push(files[i]);\n          } else {\n            this.videoSizeError = \"Only .mp4 and .mov files allowed\";\n          }\n        }\n      }\n    }\n  }\n\n}\n\nAddIncidentComponent.ɵfac = function AddIncidentComponent_Factory(t) {\n  return new (t || AddIncidentComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.SafetyService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i1.HereMapService));\n};\n\nAddIncidentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddIncidentComponent,\n  selectors: [[\"app-add-incident\"]],\n  decls: 143,\n  vars: 33,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pr-0\", \"pl-0\", \"pt-0\"], [1, \"page-header\", \"pr8\", \"pl11\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-4\", \"col-lg-4\", \"font-weight-bold\", \"text-4\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\"], [\"href\", \"javascript:;\", \"routerLink\", \"/safety/incidents\", 1, \"btn\", \"btn-default\", \"btn-sm\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [1, \"form-horizontal\", \"form-bordered\", \"text-dark\"], [\"eventForm\", \"ngForm\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\", \"adddriverpl\", \"pt-3\"], [1, \"col-lg-6\"], [1, \"row\"], [1, \"col-lg-5\"], [1, \"control-label\", \"font-weight-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"readonly\", \"\", \"name\", \"eventDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"maxDate\", \"minDate\", \"ngModelChange\", \"click\"], [\"date\", \"ngModel\", \"d\", \"ngbDatepicker\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"type\", \"time\", \"name\", \"eventTime\", \"placeholder\", \"Enter event time\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"time\", \"ngModel\"], [\"name\", \"driverID\", \"required\", \"\", \"placeholder\", \"Select driver name\", 3, \"ngModel\", \"ngModelChange\"], [\"dName\", \"ngModel\"], [\"class\", \"text-capitalize\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"tripID\", \"required\", \"\", \"placeholder\", \"Select trip\", 3, \"ngModel\", \"ngModelChange\"], [\"trip\", \"ngModel\"], [\"name\", \"vehicleID\", \"placeholder\", \"Select vehicle\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"vehicle\", \"ngModel\"], [\"name\", \"assigned\", \"placeholder\", \"Select assigned to\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"assigned\", \"ngModel\"], [\"name\", \"incidentType\", \"required\", \"\", \"placeholder\", \"Select incident type\", 3, \"ngModel\", \"ngModelChange\"], [\"incType\", \"ngModel\"], [\"name\", \"severity\", \"placeholder\", \"Select severity\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"sever\", \"ngModel\"], [1, \"col-lg-10\"], [\"type\", \"text\", \"name\", \"location\", \"placeholder\", \"eg. 71 Ave NW, Calgary, AB T3B, Canada\", \"autocomplete\", \"off\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"keyup\", \"ngModelChange\"], [\"location\", \"ngModel\"], [\"class\", \"map-search__results\", 4, \"ngIf\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"upload-doc\", 1, \"form-control\", \"p-0\", \"border-0\", 3, \"change\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"add_vid\", 1, \"form-control\", \"border-0\", \"p-0\", 3, \"change\"], [\"required\", \"\", \"rows\", \"3\", \"placeholder\", \"Enter notes for the Safety Manager\", \"name\", \"notes\", 1, \"form-control\", \"h-auto\", 3, \"ngModel\", \"ngModelChange\"], [\"notes\", \"ngModel\"], [1, \"col-lg-11\", \"text-right\"], [\"type\", \"button\", \"routerLink\", \"/safety/incidents\", 1, \"btn\", \"btn-default\", \"mt-4\", \"mr-3\"], [1, \"btn\", \"btn-success\", \"mt-4\", \"modal-confirm\", 3, \"disabled\", \"click\"], [1, \"text-danger\"], [4, \"ngIf\"], [1, \"text-capitalize\", 3, \"value\"], [1, \"map-search__results\"], [1, \"p-0\", \"m-0\", \"text-left\", \"bg-white\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:;\", 3, \"title\", \"click\"]],\n  template: function AddIncidentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r51 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵtext(6, \" Add Incident \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"a\", 7);\n      i0.ɵɵelement(9, \"i\", 8);\n      i0.ɵɵtext(10, \" Incident List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"section\", 9);\n      i0.ɵɵelementStart(12, \"form\", 10, 11);\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"div\", 15);\n      i0.ɵɵelementStart(18, \"div\", 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"label\", 19);\n      i0.ɵɵtext(22, \"Event Date \");\n      i0.ɵɵelementStart(23, \"span\", 20);\n      i0.ɵɵelementStart(24, \"sup\");\n      i0.ɵɵtext(25, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 21, 22);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.event.eventDate = $event;\n      })(\"click\", function AddIncidentComponent_Template_input_click_26_listener() {\n        i0.ɵɵrestoreView(_r51);\n\n        const _r2 = i0.ɵɵreference(28);\n\n        return _r2.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(29, AddIncidentComponent_div_29_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 18);\n      i0.ɵɵelementStart(31, \"label\", 19);\n      i0.ɵɵtext(32, \"Event Time \");\n      i0.ɵɵelementStart(33, \"span\", 20);\n      i0.ɵɵelementStart(34, \"sup\");\n      i0.ɵɵtext(35, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"input\", 24, 25);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.event.eventTime = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(38, AddIncidentComponent_div_38_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 17);\n      i0.ɵɵelementStart(40, \"div\", 18);\n      i0.ɵɵelementStart(41, \"label\", 19);\n      i0.ɵɵtext(42, \"Driver Name \");\n      i0.ɵɵelementStart(43, \"span\", 20);\n      i0.ɵɵelementStart(44, \"sup\");\n      i0.ɵɵtext(45, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"ng-select\", 26, 27);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_46_listener($event) {\n        return ctx.event.driverID = $event;\n      });\n      i0.ɵɵtemplate(48, AddIncidentComponent_ng_option_48_Template, 2, 3, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(49, AddIncidentComponent_div_49_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\", 18);\n      i0.ɵɵelementStart(51, \"label\", 19);\n      i0.ɵɵtext(52, \"Trip ID \");\n      i0.ɵɵelementStart(53, \"span\", 20);\n      i0.ɵɵelementStart(54, \"sup\");\n      i0.ɵɵtext(55, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"ng-select\", 29, 30);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_56_listener($event) {\n        return ctx.event.tripID = $event;\n      });\n      i0.ɵɵtemplate(58, AddIncidentComponent_ng_option_58_Template, 2, 2, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(59, AddIncidentComponent_div_59_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"div\", 17);\n      i0.ɵɵelementStart(61, \"div\", 18);\n      i0.ɵɵelementStart(62, \"label\", 19);\n      i0.ɵɵtext(63, \"Vehicle \");\n      i0.ɵɵelementStart(64, \"span\", 20);\n      i0.ɵɵelementStart(65, \"sup\");\n      i0.ɵɵtext(66, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"ng-select\", 31, 32);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_67_listener($event) {\n        return ctx.event.vehicleID = $event;\n      });\n      i0.ɵɵtemplate(69, AddIncidentComponent_ng_option_69_Template, 2, 2, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(70, AddIncidentComponent_div_70_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"div\", 18);\n      i0.ɵɵelementStart(72, \"label\", 19);\n      i0.ɵɵtext(73, \"Assigned To \");\n      i0.ɵɵelementStart(74, \"span\", 20);\n      i0.ɵɵelementStart(75, \"sup\");\n      i0.ɵɵtext(76, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"ng-select\", 33, 34);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_77_listener($event) {\n        return ctx.event.assigned = $event;\n      });\n      i0.ɵɵtemplate(79, AddIncidentComponent_ng_option_79_Template, 2, 2, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(80, AddIncidentComponent_div_80_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"div\", 17);\n      i0.ɵɵelementStart(82, \"div\", 18);\n      i0.ɵɵelementStart(83, \"label\", 19);\n      i0.ɵɵtext(84, \"Incident Type \");\n      i0.ɵɵelementStart(85, \"span\", 20);\n      i0.ɵɵelementStart(86, \"sup\");\n      i0.ɵɵtext(87, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"ng-select\", 35, 36);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_88_listener($event) {\n        return ctx.event.incidentType = $event;\n      });\n      i0.ɵɵtemplate(90, AddIncidentComponent_ng_option_90_Template, 2, 2, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(91, AddIncidentComponent_div_91_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"div\", 18);\n      i0.ɵɵelementStart(93, \"label\", 19);\n      i0.ɵɵtext(94, \"Severity \");\n      i0.ɵɵelementStart(95, \"span\", 20);\n      i0.ɵɵelementStart(96, \"sup\");\n      i0.ɵɵtext(97, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"ng-select\", 37, 38);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_ng_select_ngModelChange_98_listener($event) {\n        return ctx.event.severity = $event;\n      });\n      i0.ɵɵtemplate(100, AddIncidentComponent_ng_option_100_Template, 2, 2, \"ng-option\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(101, AddIncidentComponent_div_101_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"div\", 17);\n      i0.ɵɵelementStart(103, \"div\", 39);\n      i0.ɵɵelementStart(104, \"label\", 19);\n      i0.ɵɵtext(105, \"Location \");\n      i0.ɵɵelementStart(106, \"span\", 20);\n      i0.ɵɵelementStart(107, \"sup\");\n      i0.ɵɵtext(108, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"input\", 40, 41);\n      i0.ɵɵlistener(\"keyup\", function AddIncidentComponent_Template_input_keyup_109_listener($event) {\n        return ctx.searchTerm.next($event);\n      })(\"ngModelChange\", function AddIncidentComponent_Template_input_ngModelChange_109_listener($event) {\n        return ctx.event.location.label = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(111, AddIncidentComponent_div_111_Template, 3, 1, \"div\", 42);\n      i0.ɵɵtemplate(112, AddIncidentComponent_div_112_Template, 2, 1, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(113, \"div\", 16);\n      i0.ɵɵelementStart(114, \"div\", 17);\n      i0.ɵɵelementStart(115, \"div\", 39);\n      i0.ɵɵelementStart(116, \"label\", 19);\n      i0.ɵɵtext(117, \"Attach Document(s) \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(118, \"input\", 43);\n      i0.ɵɵlistener(\"change\", function AddIncidentComponent_Template_input_change_118_listener($event) {\n        return ctx.selectDocuments($event, \"uploadedDocs\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(119, AddIncidentComponent_span_119_Template, 2, 1, \"span\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(120, \"div\", 17);\n      i0.ɵɵelementStart(121, \"div\", 18);\n      i0.ɵɵelementStart(122, \"label\", 19);\n      i0.ɵɵtext(123, \"Attach Photo(s) \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(124, \"input\", 44);\n      i0.ɵɵlistener(\"change\", function AddIncidentComponent_Template_input_change_124_listener($event) {\n        return ctx.selectDocuments($event, \"uploadedPhotos\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(125, AddIncidentComponent_span_125_Template, 2, 1, \"span\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(126, \"div\", 18);\n      i0.ɵɵelementStart(127, \"label\", 19);\n      i0.ɵɵtext(128, \"Attach Video(s) \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(129, \"input\", 44);\n      i0.ɵɵlistener(\"change\", function AddIncidentComponent_Template_input_change_129_listener($event) {\n        return ctx.selectDocuments($event, \"uploadedVideos\");\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(130, AddIncidentComponent_span_130_Template, 2, 1, \"span\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(131, \"div\", 17);\n      i0.ɵɵelementStart(132, \"div\", 39);\n      i0.ɵɵelementStart(133, \"label\", 19);\n      i0.ɵɵtext(134, \"Safety Manager Internal Notes \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(135, \"textarea\", 45, 46);\n      i0.ɵɵlistener(\"ngModelChange\", function AddIncidentComponent_Template_textarea_ngModelChange_135_listener($event) {\n        return ctx.event.notes = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(137, AddIncidentComponent_div_137_Template, 2, 0, \"div\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(138, \"div\", 47);\n      i0.ɵɵelementStart(139, \"button\", 48);\n      i0.ɵɵtext(140, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(141, \"button\", 49);\n      i0.ɵɵlistener(\"click\", function AddIncidentComponent_Template_button_click_141_listener() {\n        return ctx.addEvent();\n      });\n      i0.ɵɵtext(142, \" Save \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(27);\n\n      const _r4 = i0.ɵɵreference(37);\n\n      const _r6 = i0.ɵɵreference(47);\n\n      const _r9 = i0.ɵɵreference(57);\n\n      const _r12 = i0.ɵɵreference(68);\n\n      const _r15 = i0.ɵɵreference(78);\n\n      const _r18 = i0.ɵɵreference(89);\n\n      const _r21 = i0.ɵɵreference(99);\n\n      const _r24 = i0.ɵɵreference(110);\n\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.eventDate)(\"maxDate\", ctx.birthDateMaxLimit)(\"minDate\", ctx.birthDateMinLimit);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && (_r1.dirty || _r1.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.eventTime);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.driverID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.drivers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r6.invalid && (_r6.dirty || _r6.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.tripID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.trips);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r9.invalid && (_r9.dirty || _r9.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.vehicleID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vehicles);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r12.invalid && (_r12.dirty || _r12.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.assigned);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.safetyManagers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r15.invalid && (_r15.dirty || _r15.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.incidentType);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.incidentType);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r18.invalid && (_r18.dirty || _r18.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.severity);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.severity);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r21.invalid && (_r21.dirty || _r21.touched));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.location.label);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.searchResults);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r24.invalid && (_r24.dirty || _r24.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.docSizeError != \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.photoSizeError != \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.videoSizeError != \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.event.notes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.event.notes == null ? null : ctx.event.notes.length) > 500);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", ctx.disableButton || ctx.disabledButton());\n    }\n  },\n  directives: [i5.RouterLinkWithHref, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i8.NgIf, i9.NgSelectComponent, i8.NgForOf, i5.RouterLink, i9.ɵr],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}