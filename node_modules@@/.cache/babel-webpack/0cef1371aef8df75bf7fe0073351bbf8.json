{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Directive, Input, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\n\nclass FocusTrap {\n  constructor(el) {\n    this.el = el;\n  }\n\n  onkeydown(e) {\n    if (this.pFocusTrapDisabled !== true) {\n      e.preventDefault();\n      let focusableElements = DomHandler.getFocusableElements(this.el.nativeElement);\n\n      if (focusableElements && focusableElements.length > 0) {\n        if (!focusableElements[0].ownerDocument.activeElement) {\n          focusableElements[0].focus();\n        } else {\n          let focusedIndex = focusableElements.indexOf(focusableElements[0].ownerDocument.activeElement);\n\n          if (e.shiftKey) {\n            if (focusedIndex == -1 || focusedIndex === 0) focusableElements[focusableElements.length - 1].focus();else focusableElements[focusedIndex - 1].focus();\n          } else {\n            if (focusedIndex == -1 || focusedIndex === focusableElements.length - 1) focusableElements[0].focus();else focusableElements[focusedIndex + 1].focus();\n          }\n        }\n      }\n    }\n  }\n\n}\n\nFocusTrap.ɵfac = function FocusTrap_Factory(t) {\n  return new (t || FocusTrap)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nFocusTrap.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: FocusTrap,\n  selectors: [[\"\", \"pFocusTrap\", \"\"]],\n  hostAttrs: [1, \"p-element\"],\n  hostBindings: function FocusTrap_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"keydown.tab\", function FocusTrap_keydown_tab_HostBindingHandler($event) {\n        return ctx.onkeydown($event);\n      })(\"keydown.shift.tab\", function FocusTrap_keydown_shift_tab_HostBindingHandler($event) {\n        return ctx.onkeydown($event);\n      });\n    }\n  },\n  inputs: {\n    pFocusTrapDisabled: \"pFocusTrapDisabled\"\n  }\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FocusTrap, [{\n    type: Directive,\n    args: [{\n      selector: '[pFocusTrap]',\n      host: {\n        'class': 'p-element'\n      }\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }];\n  }, {\n    pFocusTrapDisabled: [{\n      type: Input\n    }],\n    onkeydown: [{\n      type: HostListener,\n      args: ['keydown.tab', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['keydown.shift.tab', ['$event']]\n    }]\n  });\n})();\n\nclass FocusTrapModule {}\n\nFocusTrapModule.ɵfac = function FocusTrapModule_Factory(t) {\n  return new (t || FocusTrapModule)();\n};\n\nFocusTrapModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: FocusTrapModule,\n  declarations: [FocusTrap],\n  imports: [CommonModule],\n  exports: [FocusTrap]\n});\nFocusTrapModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(FocusTrapModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      exports: [FocusTrap],\n      declarations: [FocusTrap]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { FocusTrap, FocusTrapModule }; //# sourceMappingURL=primeng-focustrap.mjs.map","map":null,"metadata":{},"sourceType":"module"}