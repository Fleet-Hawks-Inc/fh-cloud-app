{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as moment from \"moment\";\nimport { from } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { Auth } from \"aws-amplify\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@ng-select/ng-select\";\n\nfunction AddCreditNoteComponent_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Credit Date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtemplate(1, AddCreditNoteComponent_div_31_div_1_Template, 2, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(30);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors.required);\n  }\n}\n\nfunction AddCreditNoteComponent_div_44_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Vendor Credit Date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtemplate(1, AddCreditNoteComponent_div_44_div_1_Template, 2, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r4 = i0.ɵɵreference(39);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\n\nfunction AddCreditNoteComponent_ng_option_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const customer_r16 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", customer_r16.contactID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customer_r16.companyName, \" \");\n  }\n}\n\nfunction AddCreditNoteComponent_div_52_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Customer is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtemplate(1, AddCreditNoteComponent_div_52_div_1_Template, 2, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r6 = i0.ɵɵreference(50);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors.required);\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtemplate(1, AddCreditNoteComponent_tr_106_div_12_div_1_Template, 2, 0, \"div\", 62);\n    i0.ɵɵtemplate(2, AddCreditNoteComponent_tr_106_div_12_div_2_Template, 2, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r20 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r20.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r20.errors.pattern);\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_20_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Type is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_20_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Please enter valid type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtemplate(1, AddCreditNoteComponent_tr_106_div_20_div_1_Template, 2, 0, \"div\", 62);\n    i0.ɵɵtemplate(2, AddCreditNoteComponent_tr_106_div_20_div_2_Template, 2, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r20 = i0.ɵɵreference(11);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r20.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r20.errors.pattern);\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_ng_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const act_r29 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", act_r29.actID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", act_r29.actNo, \" - \", i0.ɵɵpipeBind1(2, 3, act_r29.actName), \"\");\n  }\n}\n\nfunction AddCreditNoteComponent_tr_106_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"input\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.commodity = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"input\", 65);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.desc = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵelementStart(7, \"div\", 66);\n    i0.ɵɵelementStart(8, \"input\", 67);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.qty = $event;\n    })(\"change\", function AddCreditNoteComponent_tr_106_Template_input_change_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const d_r19 = restoredCtx.index;\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.calculateAmount(d_r19);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 68);\n    i0.ɵɵelementStart(10, \"input\", 69, 70);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.qtyUnit = $event;\n    })(\"change\", function AddCreditNoteComponent_tr_106_Template_input_change_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const d_r19 = restoredCtx.index;\n      const ctx_r36 = i0.ɵɵnextContext();\n      return ctx_r36.changeUnit($event.target.value, d_r19);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, AddCreditNoteComponent_tr_106_div_12_Template, 3, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelementStart(14, \"div\", 4);\n    i0.ɵɵelementStart(15, \"div\", 66);\n    i0.ɵɵelementStart(16, \"input\", 71);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_16_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.rate = $event;\n    })(\"change\", function AddCreditNoteComponent_tr_106_Template_input_change_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const d_r19 = restoredCtx.index;\n      const ctx_r38 = i0.ɵɵnextContext();\n      return ctx_r38.calculateAmount(d_r19);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 68);\n    i0.ɵɵelementStart(18, \"input\", 69, 70);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.rateUnit = $event;\n    })(\"change\", function AddCreditNoteComponent_tr_106_Template_input_change_18_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const d_r19 = restoredCtx.index;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return ctx_r40.changeUnit($event.target.value, d_r19);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, AddCreditNoteComponent_tr_106_div_20_Template, 3, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵelementStart(22, \"div\", 4);\n    i0.ɵɵelementStart(23, \"div\", 37);\n    i0.ɵɵelementStart(24, \"input\", 72);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_input_ngModelChange_24_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.amount = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵelementStart(26, \"ng-select\", 73);\n    i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_tr_106_Template_ng_select_ngModelChange_26_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const dt_r18 = restoredCtx.$implicit;\n      return dt_r18.accountID = $event;\n    });\n    i0.ɵɵtemplate(27, AddCreditNoteComponent_tr_106_ng_option_27_Template, 3, 5, \"ng-option\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\", 74);\n    i0.ɵɵelementStart(29, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function AddCreditNoteComponent_tr_106_Template_button_click_29_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const d_r19 = restoredCtx.index;\n      const ctx_r43 = i0.ɵɵnextContext();\n      return ctx_r43.deleteDetail(d_r19);\n    });\n    i0.ɵɵelement(30, \"i\", 76);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const dt_r18 = ctx.$implicit;\n    const d_r19 = ctx.index;\n\n    const _r20 = i0.ɵɵreference(11);\n\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"commodity\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.commodity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"desc\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.desc);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qty\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.qty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qtyUnit\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.qtyUnit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r20.invalid && (_r20.dirty || _r20.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"rate\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.rate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"qtyUnit\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.rateUnit);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r20.invalid && (_r20.dirty || _r20.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"amount\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"accountID\", d_r19, \"\");\n    i0.ɵɵproperty(\"ngModel\", dt_r18.accountID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.accounts);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r9.creditData.crDetails.length === 1);\n  }\n}\n\nfunction AddCreditNoteComponent_span_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.filesError, \" \");\n  }\n}\n\nfunction AddCreditNoteComponent_div_127_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelementStart(6, \"a\", 78);\n    i0.ɵɵelement(7, \"img\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 80);\n    i0.ɵɵelementStart(9, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function AddCreditNoteComponent_div_127_tr_12_Template_a_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const doc_r45 = restoredCtx.$implicit;\n      const d_r46 = restoredCtx.index;\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return ctx_r47.deleteDocument(doc_r45.displayName, d_r46);\n    });\n    i0.ɵɵelement(10, \"em\", 82);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const doc_r45 = ctx.$implicit;\n    const d_r46 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(d_r46 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(doc_r45.displayName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"href\", doc_r45.docPath, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", doc_r45.imgPath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction AddCreditNoteComponent_div_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77);\n    i0.ɵɵelementStart(1, \"table\", 40);\n    i0.ɵɵelementStart(2, \"thead\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Sr.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Icon/Thumbnail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Action\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tbody\");\n    i0.ɵɵtemplate(12, AddCreditNoteComponent_div_127_tr_12_Template, 11, 4, \"tr\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.oldDocs);\n  }\n}\n\nfunction AddCreditNoteComponent_button_138_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function AddCreditNoteComponent_button_138_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return ctx_r49.addNotes();\n    });\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(18);\n\n    i0.ɵɵproperty(\"disabled\", !_r0.form.valid || ctx_r12.submitDisabled);\n  }\n}\n\nfunction AddCreditNoteComponent_button_139_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function AddCreditNoteComponent_button_139_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r51 = i0.ɵɵnextContext();\n      return ctx_r51.updateNotes();\n    });\n    i0.ɵɵtext(1, \" Update \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r13.submitDisabled);\n  }\n}\n\nexport class AddCreditNoteComponent {\n  constructor(listService, route, toaster, location, accountService, apiService, httpClient) {\n    var _this = this;\n\n    this.listService = listService;\n    this.route = route;\n    this.toaster = toaster;\n    this.location = location;\n    this.accountService = accountService;\n    this.apiService = apiService;\n    this.httpClient = httpClient;\n    this.assetUrl = this.apiService.AssetUrl;\n    this.submitDisabled = false;\n    this.total = 0;\n    this.creditData = {\n      txnDate: moment().format(\"YYYY-MM-DD\"),\n      currency: \"CAD\",\n      customerID: null,\n      crRef: \"\",\n      salePerson: null,\n      crDetails: [{\n        commodity: \"\",\n        desc: \"\",\n        qty: 0,\n        qtyUnit: null,\n        rate: 0,\n        rateUnit: null,\n        amount: 0,\n        accountID: null\n      }],\n      remarks: \"\",\n      totalAmt: 0,\n      transactionLog: []\n    };\n    this.accounts = [];\n    this.vendors = [];\n    this.errors = {};\n    this.response = \"\";\n    this.hasError = false;\n    this.hasSuccess = false;\n    this.Error = \"\";\n    this.pageTitle = \"Add\";\n    this.units = [];\n    this.customers = [];\n    this.docs = [];\n    this.oldDocs = [];\n    this.removedDocs = [];\n    this.filesError = '';\n    this.getCurrentUser = /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.currentUser = (yield Auth.currentSession()).getIdToken().payload;\n      _this.creditData.salePerson = localStorage.getItem(\"currentUserName\");\n    });\n  }\n\n  ngOnInit() {\n    this.creditID = this.route.snapshot.params[`creditID`];\n\n    if (this.creditID) {\n      this.pageTitle = \"Edit\";\n      this.fetchCredit();\n    } else {\n      this.pageTitle = \"Add\";\n    }\n\n    this.fetchAccounts();\n    this.fetchQuantityUnits();\n    this.getCurrentUser();\n    this.listService.fetchCustomers();\n    let customerList = new Array();\n    this.getValidCustomers(customerList);\n    this.customers = customerList;\n  }\n\n  changeUnit(value, i) {\n    this.creditData.crDetails[i].qtyUnit = value;\n    this.creditData.crDetails[i].rateUnit = value;\n  }\n\n  getValidCustomers(customerList) {\n    let ids = [];\n    this.listService.customersList.forEach(element => {\n      element.forEach(element2 => {\n        if (element2.isDeleted === 0 && !ids.includes(element2.contactID)) {\n          customerList.push(element2);\n          ids.push(element2.contactID);\n        }\n      });\n    });\n  }\n\n  fetchQuantityUnits() {\n    this.httpClient.get(\"assets/jsonFiles/quantityTypes.json\").subscribe(data => {\n      this.units = data;\n    });\n  }\n\n  fetchAccounts() {\n    this.accountService.getData(`chartAc/fetch/list`).subscribe(res => {\n      this.accounts = res;\n    });\n  }\n\n  refreshVendorData() {\n    this.listService.fetchVendors();\n  }\n\n  openModal(unit) {\n    this.listService.triggerModal(unit);\n    localStorage.setItem(\"isOpen\", \"true\");\n    this.listService.changeButton(false);\n  }\n\n  addDetails() {\n    let obj = {\n      commodity: \"\",\n      desc: \"\",\n      qty: 0,\n      qtyUnit: null,\n      rate: 0,\n      rateUnit: null,\n      amount: 0,\n      accountID: null\n    };\n    const lastAdded = this.creditData.crDetails[this.creditData.crDetails.length - 1];\n\n    if (lastAdded.commodity !== \"\" && lastAdded.qty !== \"\" && lastAdded.qtyUnit !== null && lastAdded.rate !== \"\" && lastAdded.rateUnit !== null && lastAdded.amount !== 0 && lastAdded.accountID !== null) {\n      this.creditData.crDetails.push(obj);\n    }\n  }\n\n  deleteDetail(d) {\n    this.total -= this.creditData.crDetails[d].amount;\n    this.creditData.crDetails.splice(d, 1);\n  }\n\n  calculateAmount(i) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let total = 0;\n      let amount = _this2.creditData.crDetails[i].qty * _this2.creditData.crDetails[i].rate;\n      _this2.creditData.crDetails[i].amount = parseFloat(amount.toFixed(2));\n\n      _this2.creditData.crDetails.forEach(element => {\n        total += element.amount;\n      });\n\n      _this2.total = total;\n    })();\n  }\n\n  cancel() {\n    this.location.back(); // <-- go back to previous location on cancel\n  }\n\n  addNotes() {\n    this.submitDisabled = true;\n    this.creditData.totalAmt = this.total; // create form data instance\n\n    const formData = new FormData(); //append docs if any\n\n    for (let j = 0; j < this.docs.length; j++) {\n      formData.append(\"docs\", this.docs[j]);\n    } //append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.creditData));\n    this.accountService.postData(`customer-credits`, formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        this.submitDisabled = false;\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {\n            this.submitDisabled = false; // this.throwErrors();\n          },\n          error: () => {// this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Credit note added successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  fetchCredit() {\n    this.accountService.getData(`customer-credits/detail/${this.creditID}`).subscribe(res => {\n      this.creditData = res[0];\n      this.carrierID = res[0].pk;\n      this.total = res[0].totalAmt;\n\n      if (res[0].docs.length > 0) {\n        res[0].docs.forEach(x => {\n          let obj = {};\n\n          if (x.storedName.split(\".\")[1] === \"jpg\" || x.storedName.split(\".\")[1] === \"png\" || x.storedName.split(\".\")[1] === \"jpeg\") {\n            obj = {\n              imgPath: `${this.assetUrl}/${this.carrierID}/${x.storedName}`,\n              docPath: `${this.assetUrl}/${this.carrierID}/${x.storedName}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n          } else {\n            obj = {\n              imgPath: \"assets/img/icon-pdf.png\",\n              docPath: `${this.assetUrl}/${this.carrierID}/${x.storedName}`,\n              displayName: x.displayName,\n              name: x.storedName,\n              ext: x.storedName.split(\".\")[1]\n            };\n          }\n\n          this.oldDocs.push(obj);\n        });\n      }\n    });\n  }\n\n  updateNotes() {\n    this.submitDisabled = true;\n    this.creditData.totalAmt = this.total;\n    this.creditData.removedDocs = this.removedDocs; // create form data instance\n\n    const formData = new FormData(); //append docs if any\n\n    for (let j = 0; j < this.docs.length; j++) {\n      formData.append(\"docs\", this.docs[j]);\n    } //append other fields\n\n\n    formData.append(\"data\", JSON.stringify(this.creditData));\n    this.accountService.putData(`customer-credits/update/${this.creditID}`, formData, true).subscribe({\n      complete: () => {},\n      error: err => {\n        this.submitDisabled = false;\n        from(err.error).pipe(map(val => {\n          val.message = val.message.replace(/\".*\"/, \"This Field\");\n          this.errors[val.context.key] = val.message;\n        })).subscribe({\n          complete: () => {//this.submitDisabled = false;\n            // this.throwErrors();\n          },\n          error: () => {// this.submitDisabled = false;\n          },\n          next: () => {}\n        });\n      },\n      next: res => {\n        // this.submitDisabled = false;\n        this.response = res;\n        this.toaster.success(\"Credit note updated successfully.\");\n        this.cancel();\n      }\n    });\n  }\n\n  uploadDocs(documents) {\n    this.filesError = '';\n    this.docs = [];\n    let files = [...documents];\n    let filesSize = 0;\n\n    if (files.length > 5) {\n      this.toaster.error(\"Files count limit exceeded\");\n      this.filesError = \"Files should not be more than 5\";\n      return;\n    }\n\n    for (let i = 0; i < files.length; i++) {\n      filesSize += files[i].size / 1024 / 1024;\n\n      if (filesSize > 10) {\n        this.toaster.error(\"Files size limit exceeded\");\n        this.filesError = 'Files size limit exceeded. Files size should be less than 10mb';\n        return;\n      } else {\n        let name = files[i].name.split(\".\");\n        let ext = name[name.length - 1].toLowerCase();\n\n        if (ext == \"doc\" || ext == \"docx\" || ext == \"pdf\" || ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\") {\n          this.docs.push(files[i]);\n        } else {\n          this.filesError = \"Only .doc, .docx, .pdf, .jpg, .jpeg and png files allowed.\";\n        }\n      }\n    }\n  }\n\n  deleteDocument(name, index) {\n    this.oldDocs.filter(elem => {\n      if (elem.displayName === name) {\n        let obj = {\n          storedName: elem.name,\n          displayName: elem.displayName\n        };\n        this.removedDocs.push(obj);\n        ;\n      }\n    });\n    this.oldDocs.splice(index, 1);\n  }\n\n}\n\nAddCreditNoteComponent.ɵfac = function AddCreditNoteComponent_Factory(t) {\n  return new (t || AddCreditNoteComponent)(i0.ɵɵdirectiveInject(i1.ListService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.Location), i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i5.HttpClient));\n};\n\nAddCreditNoteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddCreditNoteComponent,\n  selectors: [[\"app-add-credit-note\"]],\n  decls: 140,\n  vars: 24,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pl-0\", \"pr-0\", \"pt-0\"], [1, \"page-header\"], [1, \"row\"], [1, \"col-md-4\", \"col-lg-4\"], [1, \"text-4\", \"mb-0\", \"font-weight-bold\", \"text-dark\"], [1, \"col-md-8\", \"col-lg-8\", \"text-right\", \"pr-4\"], [\"routerLink\", \"/accounts/sales/credit-notes/list\", 1, \"mt-2\", \"btn\", \"btn-default\", \"btn-sm\"], [1, \"fas\", \"fa-list\"], [1, \"m-2\"], [1, \"\"], [1, \"row\", \"mb-3\"], [1, \"col-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [\"method\", \"post\", \"id\", \"creditForm\", 1, \"form-horizontal\", \"form-bordered\"], [\"creditForm\", \"ngForm\"], [1, \"row\", \"adddriverpl\"], [1, \"col-lg-6\"], [1, \"col-lg-5\"], [1, \"control-label\", \"font-weight-bold\", \"font-bold\", \"text-lg-right\", \"pt-2\"], [1, \"mandfield\", \"text-2\", \"ml-1\"], [\"type\", \"text\", \"name\", \"txnDate\", \"ngbDatepicker\", \"\", \"placeholder\", \"mm/dd/yyyy\", \"readonly\", \"\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"creDate\", \"ngbDatepicker\", \"cDate\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"name\", \"currency\", \"placeholder\", \"Select Vendor\", \"required\", \"\", 3, \"clearable\", \"ngModel\", \"ngModelChange\"], [\"cur\", \"ngModel\"], [\"value\", \"CAD\"], [\"value\", \"USD\"], [1, \"col-lg-10\"], [\"name\", \"customerID\", \"placeholder\", \"Select customer\", \"required\", \"\", 1, \"form-control\", \"text-capitalize\", 3, \"clearable\", \"ngModel\", \"ngModelChange\"], [\"cusID\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"crRef\", \"placeholder\", \"Enter Unique Reference Number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"disabled\", \"\", \"name\", \"salePerson\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-lg-6\", \"mt-2\"], [1, \"font-weight-bold\"], [1, \"col-lg-12\"], [1, \"row\", \"pt-2\"], [1, \"col-11\"], [1, \"table\", \"table-bordered\"], [2, \"width\", \"250px\"], [2, \"width\", \"180px\"], [2, \"width\", \"300px\"], [\"width\", \"5%\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-11\", \"pl-0\", \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"], [1, \"fas\", \"fa-plus\"], [1, \"h6\", \"font-semi-bold\", \"ml-3\"], [1, \"row\", \"mt-3\"], [1, \"col-lg-11\"], [1, \"btn\", \"btn-default\", \"btn-file\", \"btn-md\", \"w100\", \"border-0\", \"pl-0\", \"text-left\"], [\"type\", \"file\", \"multiple\", \"\", \"name\", \"files\", 1, \"\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"class\", \"col-10 mt-3\", \"style\", \"max-height: 256px; overflow: scroll\", 4, \"ngIf\"], [1, \"control-label\", \"font-weight-bold\", \"text-4\", \"text-dark\"], [\"rows\", \"6\", \"name\", \"remarks\", 1, \"form-control\", \"heighta\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-group\", \"row\", \"mt-4\"], [1, \"col-lg-11\", \"text-right\", \"pr-1\"], [\"type\", \"button\", \"routerLink\", \"/accounts/sales/credit-notes/list\", 1, \"btn\", \"btn-default\", \"mr-3\"], [\"class\", \"btn btn-success\", \"type\", \"button\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"text-danger\"], [4, \"ngIf\"], [3, \"value\"], [\"type\", \"text\", \"placeholder\", \"Enter commodity\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Description\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [1, \"col-lg-6\", \"pr-1\"], [\"type\", \"text\", \"placeholder\", \"Enter commodity/service\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [1, \"col-lg-6\", \"pl-1\"], [\"placeholder\", \"unit type\", \"pattern\", \"^[a-zA-Z \\\\-\\\\']+\", \"required\", \"\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"unit\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Enter rate\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\", \"change\"], [\"type\", \"text\", \"disabled\", \"\", \"placeholder\", \"Enter Amount\", 1, \"form-control\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"placeholder\", \"Select account\", 1, \"form-control\", \"populate\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [1, \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-minus\"], [1, \"col-10\", \"mt-3\", 2, \"max-height\", \"256px\", \"overflow\", \"scroll\"], [\"target\", \"_blank\", 1, \"image-popup-no-margins\", 3, \"href\"], [1, \"img-fluid\", \"img_thumbnail\", 3, \"src\"], [1, \"cursorpoint\", \"text-center\"], [\"href\", \"javascript:;\", 1, \"modal-with-form\", 3, \"click\"], [1, \"fas\", \"fa-times\", \"text-danger\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"]],\n  template: function AddCreditNoteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r53 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"h4\", 6);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"a\", 8);\n      i0.ɵɵelement(10, \"i\", 9);\n      i0.ɵɵtext(11, \" All Sales Customer Credits\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 10);\n      i0.ɵɵelementStart(13, \"div\", 11);\n      i0.ɵɵelementStart(14, \"div\", 12);\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelementStart(16, \"div\", 14);\n      i0.ɵɵelementStart(17, \"form\", 15, 16);\n      i0.ɵɵelementStart(19, \"div\", 17);\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"div\", 4);\n      i0.ɵɵelementStart(22, \"div\", 19);\n      i0.ɵɵelementStart(23, \"label\", 20);\n      i0.ɵɵtext(24, \"Credit Date \");\n      i0.ɵɵelementStart(25, \"span\", 21);\n      i0.ɵɵelementStart(26, \"sup\");\n      i0.ɵɵtext(27, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.creditData.txnDate = $event;\n      })(\"click\", function AddCreditNoteComponent_Template_input_click_28_listener() {\n        i0.ɵɵrestoreView(_r53);\n\n        const _r1 = i0.ɵɵreference(29);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(31, AddCreditNoteComponent_div_31_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 19);\n      i0.ɵɵelementStart(33, \"label\", 20);\n      i0.ɵɵtext(34, \"Currency \");\n      i0.ɵɵelementStart(35, \"span\", 21);\n      i0.ɵɵelementStart(36, \"sup\");\n      i0.ɵɵtext(37, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"ng-select\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_ng_select_ngModelChange_38_listener($event) {\n        return ctx.creditData.currency = $event;\n      });\n      i0.ɵɵelementStart(40, \"ng-option\", 27);\n      i0.ɵɵtext(41, \"CAD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"ng-option\", 28);\n      i0.ɵɵtext(43, \"USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(44, AddCreditNoteComponent_div_44_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 4);\n      i0.ɵɵelementStart(46, \"div\", 29);\n      i0.ɵɵelementStart(47, \"label\", 20);\n      i0.ɵɵtext(48, \"Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"ng-select\", 30, 31);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_ng_select_ngModelChange_49_listener($event) {\n        return ctx.creditData.customerID = $event;\n      });\n      i0.ɵɵtemplate(51, AddCreditNoteComponent_ng_option_51_Template, 2, 2, \"ng-option\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(52, AddCreditNoteComponent_div_52_Template, 2, 1, \"div\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 18);\n      i0.ɵɵelementStart(54, \"div\", 4);\n      i0.ɵɵelementStart(55, \"div\", 29);\n      i0.ɵɵelementStart(56, \"label\", 20);\n      i0.ɵɵtext(57, \" Reference# \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"input\", 33);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_input_ngModelChange_58_listener($event) {\n        return ctx.creditData.crRef = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"div\", 4);\n      i0.ɵɵelementStart(60, \"div\", 29);\n      i0.ɵɵelementStart(61, \"label\", 20);\n      i0.ɵɵtext(62, \" Sales Person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"input\", 34);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_input_ngModelChange_63_listener($event) {\n        return ctx.creditData.salePerson = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"div\", 17);\n      i0.ɵɵelementStart(65, \"div\", 29);\n      i0.ɵɵelementStart(66, \"div\", 4);\n      i0.ɵɵelementStart(67, \"div\", 35);\n      i0.ɵɵelementStart(68, \"h4\", 36);\n      i0.ɵɵtext(69, \" Vendor Credit Details \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"div\", 37);\n      i0.ɵɵelementStart(71, \"div\", 38);\n      i0.ɵɵelementStart(72, \"div\", 39);\n      i0.ɵɵelementStart(73, \"table\", 40);\n      i0.ɵɵelementStart(74, \"thead\");\n      i0.ɵɵelementStart(75, \"tr\");\n      i0.ɵɵelementStart(76, \"th\", 41);\n      i0.ɵɵtext(77, \" Commodity \");\n      i0.ɵɵelementStart(78, \"span\", 21);\n      i0.ɵɵelementStart(79, \"sup\");\n      i0.ɵɵtext(80, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(81, \"th\", 41);\n      i0.ɵɵtext(82, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"th\", 41);\n      i0.ɵɵtext(84, \" Quantity \");\n      i0.ɵɵelementStart(85, \"span\", 21);\n      i0.ɵɵelementStart(86, \"sup\");\n      i0.ɵɵtext(87, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"th\", 41);\n      i0.ɵɵtext(89, \" Rate \");\n      i0.ɵɵelementStart(90, \"span\", 21);\n      i0.ɵɵelementStart(91, \"sup\");\n      i0.ɵɵtext(92, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(93, \"th\", 42);\n      i0.ɵɵtext(94, \" Amount \");\n      i0.ɵɵelementStart(95, \"span\", 21);\n      i0.ɵɵelementStart(96, \"sup\");\n      i0.ɵɵtext(97, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(98, \"th\", 43);\n      i0.ɵɵtext(99, \" Account \");\n      i0.ɵɵelementStart(100, \"span\", 21);\n      i0.ɵɵelementStart(101, \"sup\");\n      i0.ɵɵtext(102, \"*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(103, \"th\", 44);\n      i0.ɵɵtext(104, \"Action\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"tbody\");\n      i0.ɵɵtemplate(106, AddCreditNoteComponent_tr_106_Template, 31, 20, \"tr\", 45);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(107, \"div\", 46);\n      i0.ɵɵelementStart(108, \"button\", 47);\n      i0.ɵɵlistener(\"click\", function AddCreditNoteComponent_Template_button_click_108_listener() {\n        return ctx.addDetails();\n      });\n      i0.ɵɵelement(109, \"i\", 48);\n      i0.ɵɵtext(110, \" Add Another Line \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(111, \"div\");\n      i0.ɵɵelementStart(112, \"span\");\n      i0.ɵɵtext(113, \"Total Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(114, \"span\", 49);\n      i0.ɵɵtext(115);\n      i0.ɵɵpipe(116, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(117);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(118, \"div\", 50);\n      i0.ɵɵelementStart(119, \"div\", 18);\n      i0.ɵɵelementStart(120, \"div\", 4);\n      i0.ɵɵelementStart(121, \"div\", 51);\n      i0.ɵɵelementStart(122, \"label\", 20);\n      i0.ɵɵtext(123, \" Attachments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(124, \"span\", 52);\n      i0.ɵɵelementStart(125, \"input\", 53);\n      i0.ɵɵlistener(\"change\", function AddCreditNoteComponent_Template_input_change_125_listener($event) {\n        return ctx.uploadDocs($event.target.files);\n      })(\"ngModelChange\", function AddCreditNoteComponent_Template_input_ngModelChange_125_listener($event) {\n        return ctx.files = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(126, AddCreditNoteComponent_span_126_Template, 2, 1, \"span\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(127, AddCreditNoteComponent_div_127_Template, 13, 1, \"div\", 54);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(128, \"div\", 18);\n      i0.ɵɵelementStart(129, \"div\", 4);\n      i0.ɵɵelementStart(130, \"div\", 29);\n      i0.ɵɵelementStart(131, \"label\", 55);\n      i0.ɵɵtext(132, \"Remarks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(133, \"textarea\", 56);\n      i0.ɵɵlistener(\"ngModelChange\", function AddCreditNoteComponent_Template_textarea_ngModelChange_133_listener($event) {\n        return ctx.creditData.remarks = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(134, \"div\", 57);\n      i0.ɵɵelementStart(135, \"div\", 58);\n      i0.ɵɵelementStart(136, \"button\", 59);\n      i0.ɵɵtext(137, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(138, AddCreditNoteComponent_button_138_Template, 2, 1, \"button\", 60);\n      i0.ɵɵtemplate(139, AddCreditNoteComponent_button_139_Template, 2, 1, \"button\", 60);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(30);\n\n      const _r4 = i0.ɵɵreference(39);\n\n      const _r6 = i0.ɵɵreference(50);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" Customer Credit \");\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngModel\", ctx.creditData.txnDate);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.dirty || _r2.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", ctx.creditData.currency);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", ctx.creditData.customerID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", _r6.invalid && (_r6.dirty || _r6.touched));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.creditData.crRef);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.creditData.salePerson);\n      i0.ɵɵadvance(43);\n      i0.ɵɵproperty(\"ngForOf\", ctx.creditData.crDetails);\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(116, 21, ctx.total, \"1.2-2\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.creditData.currency, \" \");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.files);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.filesError != \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.oldDocs.length > 0);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.creditData.remarks);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.creditID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.creditID);\n    }\n  },\n  directives: [i2.RouterLinkWithHref, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.RequiredValidator, i6.NgControlStatus, i6.NgModel, i4.NgIf, i8.NgSelectComponent, i8.ɵr, i4.NgForOf, i2.RouterLink, i6.PatternValidator],\n  pipes: [i4.DecimalPipe, i4.TitleCasePipe],\n  styles: [\".img_thumbnail[_ngcontent-%COMP%] {\\r\\n  width: 90px;\\r\\n  height: 70px;\\r\\n  object-fit: contain;\\r\\n}\"]\n});","map":null,"metadata":{},"sourceType":"module"}