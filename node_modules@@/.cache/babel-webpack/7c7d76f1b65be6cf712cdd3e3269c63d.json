{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as moment from 'moment';\nimport Constants from 'src/app/pages/fleet/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../services\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"src/app/services\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@angular/common\";\n\nfunction ExpenseComponent_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r15.vehicleIdentification);\n  }\n}\n\nfunction ExpenseComponent_tr_76_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 50);\n    i0.ɵɵelementStart(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.dataMessage);\n  }\n}\n\nfunction ExpenseComponent_tr_77_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r19 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", data_r19.type, \": \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r19.location, \" \");\n  }\n}\n\nfunction ExpenseComponent_tr_77_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", data_r20.type, \": \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r20.date, \" \");\n  }\n}\n\nfunction ExpenseComponent_tr_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtemplate(11, ExpenseComponent_tr_77_span_11_Template, 5, 2, \"span\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtemplate(13, ExpenseComponent_tr_77_span_13_Template, 5, 2, \"span\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r16.tripNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r16.orderName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r16.orderType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 7, item_r16.driverName));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", item_r16.tripPlanning);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", item_r16.tripPlanning);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(16, 9, item_r16.miles, \"1.2-2\"), \" \");\n  }\n}\n\nfunction ExpenseComponent_div_78_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵelementStart(1, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function ExpenseComponent_div_78_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.fetchTrpByVehicle();\n    });\n    i0.ɵɵtext(2, \" Load More.. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExpenseComponent_tr_108_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 50);\n    i0.ɵɵelementStart(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.fuelMessage);\n  }\n}\n\nfunction ExpenseComponent_tr_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.vehicle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.data.cardNo ? item_r23.data.cardNo : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r23.data.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(9, 10, item_r23.data.date, \"yyyy/MM/dd\"), \", \", item_r23.dateTime, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" \", item_r23.data.city, \",\", item_r23.data.state, \",\", item_r23.data.country, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(14, 13, item_r23.data.amt, \"1.2-2\"), \" \", item_r23.data.currency, \" \");\n  }\n}\n\nfunction ExpenseComponent_tr_133_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 50);\n    i0.ɵɵelementStart(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r8.logMessage);\n  }\n}\n\nfunction ExpenseComponent_tr_134_span_10_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 60);\n    i0.ɵɵtext(1, \", \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExpenseComponent_tr_134_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 58);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, ExpenseComponent_tr_134_span_10_span_2_Template, 2, 0, \"span\", 59);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const task_r28 = ctx.$implicit;\n    const $last_r30 = ctx.last;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(task_r28.taskName ? task_r28.taskName : \"-\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !$last_r30);\n  }\n}\n\nfunction ExpenseComponent_tr_134_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"- \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExpenseComponent_tr_134_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"- \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExpenseComponent_tr_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵelementStart(8, \"span\", 54);\n    i0.ɵɵtext(9, \"Service Task(s): \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ExpenseComponent_tr_134_span_10_Template, 3, 2, \"span\", 55);\n    i0.ɵɵtemplate(11, ExpenseComponent_tr_134_span_11_Template, 2, 0, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵelementStart(13, \"span\", 54);\n    i0.ɵɵtext(14, \"Issue(s): \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"a\", 57);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ExpenseComponent_tr_134_span_17_Template, 2, 0, \"span\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r24 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r24.vehicle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 8, item_r24.completionDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", item_r24.allServiceTasks.serviceTaskList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r24.allServiceTasks.serviceTaskList == 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(item_r24.issue);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r24.selectedIssues.length == 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", (item_r24.allServiceParts.total + item_r24.allServiceTasks.total).toFixed(2), \" \", item_r24.allServiceParts.currency, \" \");\n  }\n}\n\nfunction ExpenseComponent_tr_164_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 50);\n    i0.ɵɵelementStart(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r10.drvPayMessage);\n  }\n}\n\nfunction ExpenseComponent_tr_165_span_10_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \",\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExpenseComponent_tr_165_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, ExpenseComponent_tr_165_span_10_span_4_Template, 2, 0, \"span\", 56);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const stl_r34 = ctx.$implicit;\n    const s_r35 = ctx.index;\n    const item_r32 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stl_r34.settlementName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (\", stl_r34.status, \") \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", s_r35 < item_r32.settlementIds.length - 1);\n  }\n}\n\nfunction ExpenseComponent_tr_165_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtemplate(10, ExpenseComponent_tr_165_span_10_Template, 5, 3, \"span\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"strong\", 61);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r32 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r32.paymentNo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 8, item_r32.txnDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 11, item_r32.payMode));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", item_r32.settlData);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", item_r32.paymentTo, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 13, item_r32.entityName), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(18, 15, item_r32.finalAmount, \"1.2-2\"), \" \", item_r32.currency, \" \");\n  }\n}\n\nfunction ExpenseComponent_tr_202_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 50);\n    i0.ɵɵelementStart(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r12.expenseMessage);\n  }\n}\n\nfunction ExpenseComponent_tr_203_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"span\", 62);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r38 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r38.vehicleName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 6, item_r38.txnDate, \"yyyy/MM/dd\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r38.categoryName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(10, 9, item_r38.finalTotal, \"1.2-2\"), \" \", item_r38.currency, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r38.newStatus ? item_r38.newStatus : \"not deducted\");\n  }\n}\n\nfunction ExpenseComponent_div_213_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵelementStart(1, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function ExpenseComponent_div_213_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.fetchExpensePayment();\n    });\n    i0.ɵɵtext(2, \" Load More.. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ExpenseComponent {\n  constructor(apiService, toastr, route, spinner, accountService) {\n    this.apiService = apiService;\n    this.toastr = toastr;\n    this.route = route;\n    this.spinner = spinner;\n    this.accountService = accountService;\n    this.data = [];\n    this.allData = [];\n    this.vehicleData = [];\n    this.startDate = '';\n    this.endDate = '';\n    this.start = null;\n    this.end = null;\n    this.lastItemSK = '';\n    this.datee = '';\n    this.expDate = '';\n    this.loaded = false;\n    this.dateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.logMessage = Constants.FETCHING_DATA;\n    this.expenseMessage = Constants.FETCHING_DATA;\n    this.fuelMessage = Constants.FETCHING_DATA;\n    this.drvPayMessage = Constants.FETCHING_DATA;\n    this.date = new Date();\n    this.exportData = [];\n    this.futureDatesLimit = {\n      year: this.date.getFullYear() + 30,\n      month: 12,\n      day: 31\n    };\n    this.lastEvaluatedKey = '';\n    this.fuel = [];\n    this.payments = [];\n    this.expensePay = [];\n    this.filter = {\n      startDate: null,\n      endDate: null,\n      type: null,\n      paymentNo: null\n    };\n    this.serviceLogData = [];\n    this.payment = [];\n    this.driver = [];\n    this.lastExpPay = '';\n    this.totalExpense = 0;\n    this.totalDriverPay = 0;\n  }\n\n  ngOnInit() {\n    this.end = moment().format(\"YYYY-MM-DD\");\n    this.start = moment().subtract(1, 'months').format('YYYY-MM-DD');\n    this.vehicleId = this.route.snapshot.params[`vehicleId`];\n    this.fetchTrpByVehicle();\n    this.fetchVehicleName();\n    this.fetchFuelByVehicle();\n    this.fetchSlogByVehicle();\n    this.fetchExpensePayment();\n  }\n\n  fetchDriverPayment() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const result = yield _this.accountService.getData(`driver-payments/get/driver/payment?drivers=${encodeURIComponent(JSON.stringify(_this.driver))}&startDate=${_this.start}&endDate=${_this.end}`).toPromise(); // this.payments = result;\n\n      if (result.length === 0) {\n        _this.drvPayMessage = Constants.NO_RECORDS_FOUND;\n      }\n\n      for (let i = 0; i < result.length; i++) {\n        const paymentdata = result[i];\n        _this.totalDriverPay += parseFloat(paymentdata.finalAmount);\n      }\n\n      result.map(v => {\n        v.currency = v.currency ? v.currency : \"CAD\";\n\n        if (v.payMode) {\n          v.payMode = v.payMode.replace(\"_\", \" \");\n        } else {\n          v.payMode = \"-\";\n        }\n\n        v.paymentTo = v.paymentTo.replace(\"_\", \" \");\n        v.settlData.map(k => {\n          k.status = k.status.replace(\"_\", \" \");\n        });\n\n        _this.payments.push(v);\n      });\n    })();\n  }\n\n  fetchExpensePayment() {\n    if (this.lastExpPay !== 'end') {\n      this.accountService.getData(`expense/get/expense/pay/byTrp/${encodeURIComponent(JSON.stringify(this.vehicleId))}?startDate=${this.start}&endDate=${this.end}&lastKey=${this.lastExpPay}&date=${this.expDate}`).subscribe(result => {\n        if (result.Items.length === 0) {\n          this.expenseMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        for (let i = 0; i < result.Items.length; i++) {\n          const expenseData = result.Items[i];\n          this.totalExpense += parseFloat(expenseData.finalTotal);\n        }\n\n        if (result.LastEvaluatedKey !== undefined) {\n          this.lastExpPay = encodeURIComponent(result.LastEvaluatedKey.sk);\n          this.expDate = encodeURIComponent(result.LastEvaluatedKey.transDate);\n        } else {\n          this.lastExpPay = 'end';\n        }\n\n        this.loaded = true;\n        result.Items.map(v => {\n          v.disableEdit = false;\n\n          if (v.status) {\n            v.newStatus = v.status.replace(\"_\", \" \");\n\n            if (v.status === \"deducted\" || v.status === \"partially_deducted\") {\n              v.disableEdit = true;\n            }\n          }\n\n          this.expensePay.push(v);\n        }); // this.expensePay = this.expensePay.concat(result.Items)\n      });\n    }\n  }\n\n  fetchSlogByVehicle() {\n    this.apiService.getData(`serviceLogs/getBy/vehicle/name/trips/${this.vehicleId}?startDate=${this.start}&endDate=${this.end}`).subscribe(result => {\n      this.serviceLogData = result.Items;\n\n      if (result.Items.length === 0) {\n        this.logMessage = Constants.NO_RECORDS_FOUND;\n      }\n    });\n  }\n\n  fetchVehicleName() {\n    this.apiService.getData(`vehicles/fetch/detail/${this.vehicleId}`).subscribe(result => {\n      this.vehicleData = result.Items;\n\n      if (result.Items.length === 0) {\n        this.dataMessage = Constants.NO_RECORDS_FOUND;\n      }\n    });\n  }\n\n  fetchFuelByVehicle() {\n    this.apiService.getData(`fuelEntries/getBy/vehicle/trips/${this.vehicleId}?startDate=${this.start}&endDate=${this.end}`).subscribe(result => {\n      this.fuel = result.Items;\n\n      if (result.Items.length === 0) {\n        this.fuelMessage = Constants.NO_RECORDS_FOUND;\n      }\n\n      result[`Items`].forEach(element => {\n        let date = moment(element.data.date);\n\n        if (element.data.time) {\n          let time = moment(element.data.time, 'h mm a');\n          date.set({\n            hour: time.get('hour'),\n            minute: time.get('minute')\n          });\n          date = date.format(' h:mm a');\n        } else {\n          date = date.format('MMM Do YYYY');\n        }\n\n        element.dateTime = date;\n      });\n    });\n  }\n\n  fetchTrpByVehicle() {\n    if (this.lastItemSK !== 'end') {\n      this.apiService.getData(`vehicles/fetch/TripData?vehicle=${this.vehicleId}&startDate=${this.start}&endDate=${this.end}&lastKey=${this.lastItemSK}&date=${this.datee}`).subscribe(result => {\n        this.allData = this.allData.concat(result.Items);\n\n        if (result.Items.length === 0) {\n          this.dataMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        for (let veh of this.allData) {\n          let dataa = veh;\n          veh.miles = 0;\n\n          for (let element of dataa.tripPlanning) {\n            veh.miles += Number(element.miles);\n          }\n\n          for (let driv of dataa.driverIDs) {\n            this.driver.push(driv);\n          }\n        }\n\n        if (this.loaded) {\n          this.payments = [];\n          this.totalDriverPay = 0;\n          this.drvPayMessage = Constants.FETCHING_DATA;\n        }\n\n        this.fetchDriverPayment();\n\n        if (result.LastEvaluatedKey !== undefined) {\n          this.lastItemSK = encodeURIComponent(result.Items[result.Items.length - 1].tripSK);\n          this.datee = encodeURIComponent(result.Items[result.Items.length - 1].dateCreated);\n        } else {\n          this.lastItemSK = 'end';\n        }\n\n        this.loaded = true;\n      });\n    }\n  } // onScroll() {\n  //   if (this.loaded) {\n  //     this.fetchTrpByVehicle();\n  //   }\n  //   this.loaded = false;\n  // }\n  // onScrollExpense() {\n  //   if (this.loaded) {\n  //     this.fetchExpensePayment();\n  //   }\n  //   this.loaded = false;\n  // }\n\n\n  searchFilter() {\n    if (this.start != null && this.end != null) {\n      if (this.start != null && this.end == null) {\n        this.toastr.error('Please select both start and end dates.');\n        return false;\n      } else if (this.start == null && this.end != null) {\n        this.toastr.error('Please select both start and end dates.');\n        return false;\n      } else if (this.start > this.end) {\n        this.toastr.error('Start Date should be less then end date.');\n        return false;\n      } else {\n        // this.dataMessage = Constants.FETCHING_DATA;\n        this.lastItemSK = '';\n        this.lastExpPay = '';\n        this.allData = [];\n        this.fuel = [];\n        this.serviceLogData = [];\n        this.payments = [];\n        this.expensePay = [];\n        this.totalExpense = 0;\n        this.totalDriverPay = 0;\n        this.dataMessage = Constants.FETCHING_DATA;\n        this.logMessage = Constants.FETCHING_DATA;\n        this.expenseMessage = Constants.FETCHING_DATA;\n        this.fuelMessage = Constants.FETCHING_DATA;\n        this.drvPayMessage = Constants.FETCHING_DATA;\n        this.fetchTrpByVehicle();\n        this.fetchFuelByVehicle();\n        this.fetchSlogByVehicle();\n        this.fetchExpensePayment();\n      }\n    } else {\n      return false;\n    }\n  }\n\n  generateCSV() {\n    if (this.expensePay.length > 0) {\n      let dataObject = [];\n      let csvArray = [];\n      this.expensePay.forEach(element => {\n        let obj = {};\n        obj[\"Vehicle Name/Number\"] = element.vehicleName;\n        obj[\"Expense Type\"] = element.categoryName;\n        obj[\"Amount\"] = element.finalTotal + \" \" + element.currency;\n        dataObject.push(obj);\n      });\n      let headers = Object.keys(dataObject[0]).join(',');\n      headers += ' \\n';\n      csvArray.push(headers);\n      dataObject.forEach(element => {\n        let obj = Object.values(element).join(',');\n        obj += ' \\n';\n        csvArray.push(obj);\n      });\n      const blob = new Blob(csvArray, {\n        type: 'text/csv;charset=utf-8;'\n      });\n      const link = document.createElement('a');\n\n      if (link.download !== undefined) {\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${moment().format(\"YYYY-MM-DD:HH:m\")}VehicleExpense-Report.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    } else {\n      this.toastr.error(\"No Records found\");\n    }\n  }\n\n}\n\nExpenseComponent.ɵfac = function ExpenseComponent_Factory(t) {\n  return new (t || ExpenseComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.AccountService));\n};\n\nExpenseComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ExpenseComponent,\n  selectors: [[\"app-expense\"]],\n  decls: 214,\n  vars: 27,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\", \"pt-0\", \"pr-0\", \"pl-1\"], [1, \"page-header\", \"pr19\", \"pl11\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-3\", \"col-lg-3\", \"pr-0\"], [\"data-plugin-datepicker\", \"\", 1, \"input-daterange\", \"input-group\", \"input-group-sm\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-calendar-alt\"], [\"name\", \"fromDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"from\", \"ngbDatepicker\"], [1, \"input-group-text\", \"border-left-0\", \"border-right-0\", \"rounded-0\"], [\"name\", \"toDate\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"minDate\", \"maxDate\", \"ngModelChange\", \"click\"], [\"to\", \"ngbDatepicker\"], [1, \"col-md-2\", \"col-lg-2\", \"pl-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-2\", 3, \"click\"], [1, \"col-md-7\", \"col-lg-7\", \"text-right\", \"pr-1\"], [\"routerLink\", \"/reports/fleet/vehicles/expense-list\", 1, \"btn\", \"btn-sm\", \"btn-success\"], [1, \"btn-group\", \"flex-wrap\", \"ml-2\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"dropdown-toggle\"], [1, \"fas\", \"fa-upload\"], [1, \"caret\"], [\"role\", \"menu\", \"x-placement\", \"bottom-start\", 1, \"dropdown-menu\", 2, \"position\", \"absolute\", \"will-change\", \"transform\", \"top\", \"0px\", \"left\", \"0px\", \"transform\", \"translate3d(0px, 38px, 0px)\"], [1, \"dropdown-item\", \"text-1\", 3, \"click\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-12\"], [1, \"p-1\"], [1, \"row\", \"text-dark\"], [1, \"col-3\"], [1, \"maindriverbox\", \"bg-white\"], [1, \"col-8\"], [1, \"mt-1\", \"mb-0\", \"font-weight-bold\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"text-dark\", \"mb-3\"], [1, \"col\", \"pr-0\"], [1, \"card\"], [1, \"card-body\"], [1, \"control-label\", \"font-weight-bold\", \"font-weight-bold\", \"text-lg-right\", \"text-dark\", \"text-4\", \"pt-1\"], [1, \"reports_div\"], [\"width\", \"18%\", 1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [2, \"width\", \"2%\"], [2, \"width\", \"5%\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"col-lg-12 mt-3 text-center\", 4, \"ngIf\"], [1, \"font-weight-bold\", \"text-4\"], [\"width\", \"30%\", 1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [2, \"width\", \"10%\"], [1, \"text-center\"], [\"colspan\", \"15\"], [1, \"col-lg-12\", \"mt-3\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"text-light\", 3, \"click\"], [1, \"font-weight-bold\"], [\"title\", \"Service\\n                                                        Task\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"text-info\", \"font-size-12\"], [\"title\", \"Service\\n                                                        Task\"], [\"class\", \"list-format\", 4, \"ngIf\"], [1, \"list-format\"], [1, \"text-capitalize\"], [1, \"badge\", \"badge-dark\", \"p-1\", \"text-uppercase\"]],\n  template: function ExpenseComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r41 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵelementStart(8, \"span\", 8);\n      i0.ɵɵelementStart(9, \"span\", 9);\n      i0.ɵɵelement(10, \"i\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function ExpenseComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.start = $event;\n      })(\"click\", function ExpenseComponent_Template_input_click_11_listener() {\n        i0.ɵɵrestoreView(_r41);\n\n        const _r0 = i0.ɵɵreference(12);\n\n        return _r0.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"span\", 13);\n      i0.ɵɵtext(14, \" to \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 14, 15);\n      i0.ɵɵlistener(\"ngModelChange\", function ExpenseComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.end = $event;\n      })(\"click\", function ExpenseComponent_Template_input_click_15_listener() {\n        i0.ɵɵrestoreView(_r41);\n\n        const _r1 = i0.ɵɵreference(16);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 16);\n      i0.ɵɵelementStart(18, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function ExpenseComponent_Template_button_click_18_listener() {\n        return ctx.searchFilter();\n      });\n      i0.ɵɵtext(19, \" Search \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 18);\n      i0.ɵɵelementStart(21, \"a\", 19);\n      i0.ɵɵtext(22, \"Vehicles List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 20);\n      i0.ɵɵelementStart(24, \"button\", 21);\n      i0.ɵɵelement(25, \"i\", 22);\n      i0.ɵɵtext(26, \" Export\");\n      i0.ɵɵelement(27, \"span\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 24);\n      i0.ɵɵelementStart(29, \"a\", 25);\n      i0.ɵɵlistener(\"click\", function ExpenseComponent_Template_a_click_29_listener() {\n        return ctx.generateCSV();\n      });\n      i0.ɵɵtext(30, \"CSV\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"section\", 26);\n      i0.ɵɵelementStart(32, \"div\", 27);\n      i0.ɵɵelementStart(33, \"div\", 28);\n      i0.ɵɵelementStart(34, \"div\", 29);\n      i0.ɵɵelementStart(35, \"div\", 30);\n      i0.ɵɵelementStart(36, \"div\", 31);\n      i0.ɵɵelementStart(37, \"div\", 32);\n      i0.ɵɵelementStart(38, \"div\", 33);\n      i0.ɵɵelementStart(39, \"div\");\n      i0.ɵɵelementStart(40, \"h4\", 34);\n      i0.ɵɵtext(41, \"Vehicle Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"h3\");\n      i0.ɵɵtemplate(43, ExpenseComponent_span_43_Template, 2, 1, \"span\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 36);\n      i0.ɵɵelementStart(45, \"div\", 37);\n      i0.ɵɵelementStart(46, \"div\", 38);\n      i0.ɵɵelementStart(47, \"div\", 39);\n      i0.ɵɵelementStart(48, \"label\", 40);\n      i0.ɵɵtext(49, \"Trip Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"section\", 41);\n      i0.ɵɵelementStart(51, \"table\", 42);\n      i0.ɵɵelement(52, \"col\", 43);\n      i0.ɵɵelement(53, \"col\", 43);\n      i0.ɵɵelement(54, \"col\", 43);\n      i0.ɵɵelement(55, \"col\", 43);\n      i0.ɵɵelement(56, \"col\", 44);\n      i0.ɵɵelement(57, \"col\", 43);\n      i0.ɵɵelement(58, \"col\", 43);\n      i0.ɵɵelementStart(59, \"thead\");\n      i0.ɵɵelementStart(60, \"tr\");\n      i0.ɵɵelementStart(61, \"th\");\n      i0.ɵɵtext(62, \"Trip#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"th\");\n      i0.ɵɵtext(64, \"Order#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"th\");\n      i0.ɵɵtext(66, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"th\");\n      i0.ɵɵtext(68, \"Driver\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"th\");\n      i0.ɵɵtext(70, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"th\");\n      i0.ɵɵtext(72, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"th\");\n      i0.ɵɵtext(74, \"Total Miles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"tbody\");\n      i0.ɵɵtemplate(76, ExpenseComponent_tr_76_Template, 3, 1, \"tr\", 45);\n      i0.ɵɵtemplate(77, ExpenseComponent_tr_77_Template, 17, 12, \"tr\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(78, ExpenseComponent_div_78_Template, 3, 0, \"div\", 46);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 36);\n      i0.ɵɵelementStart(80, \"div\", 37);\n      i0.ɵɵelementStart(81, \"div\", 38);\n      i0.ɵɵelementStart(82, \"div\", 39);\n      i0.ɵɵelementStart(83, \"label\", 40);\n      i0.ɵɵtext(84, \"Fuel Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(85, \"section\", 41);\n      i0.ɵɵelementStart(86, \"table\", 42);\n      i0.ɵɵelement(87, \"col\", 43);\n      i0.ɵɵelement(88, \"col\", 43);\n      i0.ɵɵelement(89, \"col\", 43);\n      i0.ɵɵelement(90, \"col\", 43);\n      i0.ɵɵelement(91, \"col\", 43);\n      i0.ɵɵelement(92, \"col\", 43);\n      i0.ɵɵelementStart(93, \"thead\");\n      i0.ɵɵelementStart(94, \"tr\");\n      i0.ɵɵelementStart(95, \"th\");\n      i0.ɵɵtext(96, \"Vehicle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(97, \"th\");\n      i0.ɵɵtext(98, \"Fuel Card\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"th\");\n      i0.ɵɵtext(100, \"Fuel Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(101, \"th\");\n      i0.ɵɵtext(102, \"Date/Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(103, \"th\");\n      i0.ɵɵtext(104, \"Province\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"th\");\n      i0.ɵɵtext(106, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(107, \"tbody\");\n      i0.ɵɵtemplate(108, ExpenseComponent_tr_108_Template, 3, 1, \"tr\", 45);\n      i0.ɵɵtemplate(109, ExpenseComponent_tr_109_Template, 15, 16, \"tr\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(110, \"div\", 36);\n      i0.ɵɵelementStart(111, \"div\", 37);\n      i0.ɵɵelementStart(112, \"div\", 38);\n      i0.ɵɵelementStart(113, \"div\", 39);\n      i0.ɵɵelementStart(114, \"label\", 40);\n      i0.ɵɵtext(115, \"Maintenance Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(116, \"section\", 41);\n      i0.ɵɵelementStart(117, \"table\", 42);\n      i0.ɵɵelement(118, \"col\", 43);\n      i0.ɵɵelement(119, \"col\", 43);\n      i0.ɵɵelement(120, \"col\", 43);\n      i0.ɵɵelement(121, \"col\", 43);\n      i0.ɵɵelementStart(122, \"thead\");\n      i0.ɵɵelementStart(123, \"tr\");\n      i0.ɵɵelementStart(124, \"th\");\n      i0.ɵɵtext(125, \"Vehicles\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(126, \"th\");\n      i0.ɵɵtext(127, \"Completion Date/Odometer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(128, \"th\");\n      i0.ɵɵtext(129, \"Service Task(s)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(130, \"th\");\n      i0.ɵɵtext(131, \"Total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(132, \"tbody\");\n      i0.ɵɵtemplate(133, ExpenseComponent_tr_133_Template, 3, 1, \"tr\", 45);\n      i0.ɵɵtemplate(134, ExpenseComponent_tr_134_Template, 20, 11, \"tr\", 35);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(135, \"div\", 36);\n      i0.ɵɵelementStart(136, \"div\", 37);\n      i0.ɵɵelementStart(137, \"div\", 38);\n      i0.ɵɵelementStart(138, \"div\", 39);\n      i0.ɵɵelementStart(139, \"label\", 40);\n      i0.ɵɵtext(140, \"Driver-Payment Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(141, \"section\", 41);\n      i0.ɵɵelementStart(142, \"table\", 42);\n      i0.ɵɵelement(143, \"col\", 43);\n      i0.ɵɵelement(144, \"col\", 43);\n      i0.ɵɵelement(145, \"col\", 43);\n      i0.ɵɵelement(146, \"col\", 43);\n      i0.ɵɵelement(147, \"col\", 43);\n      i0.ɵɵelement(148, \"col\", 43);\n      i0.ɵɵelementStart(149, \"thead\");\n      i0.ɵɵelementStart(150, \"tr\");\n      i0.ɵɵelementStart(151, \"th\");\n      i0.ɵɵtext(152, \"Payment#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(153, \"th\");\n      i0.ɵɵtext(154, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(155, \"th\");\n      i0.ɵɵtext(156, \"Payment Mode Information\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(157, \"th\");\n      i0.ɵɵtext(158, \"Settlement#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(159, \"th\");\n      i0.ɵɵtext(160, \"Paid To\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(161, \"th\");\n      i0.ɵɵtext(162, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(163, \"tbody\");\n      i0.ɵɵtemplate(164, ExpenseComponent_tr_164_Template, 3, 1, \"tr\", 45);\n      i0.ɵɵtemplate(165, ExpenseComponent_tr_165_Template, 19, 18, \"tr\", 35);\n      i0.ɵɵelementStart(166, \"tr\");\n      i0.ɵɵelement(167, \"td\");\n      i0.ɵɵelement(168, \"td\");\n      i0.ɵɵelement(169, \"td\");\n      i0.ɵɵelement(170, \"td\");\n      i0.ɵɵelementStart(171, \"td\", 47);\n      i0.ɵɵtext(172, \"Total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(173, \"td\");\n      i0.ɵɵtext(174);\n      i0.ɵɵpipe(175, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(176, \"div\", 36);\n      i0.ɵɵelementStart(177, \"div\", 37);\n      i0.ɵɵelementStart(178, \"div\", 38);\n      i0.ɵɵelementStart(179, \"div\", 39);\n      i0.ɵɵelementStart(180, \"label\", 40);\n      i0.ɵɵtext(181, \"Expense-Payment Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(182, \"section\", 41);\n      i0.ɵɵelementStart(183, \"table\", 48);\n      i0.ɵɵelement(184, \"col\", 49);\n      i0.ɵɵelement(185, \"col\", 49);\n      i0.ɵɵelement(186, \"col\", 49);\n      i0.ɵɵelement(187, \"col\", 49);\n      i0.ɵɵelement(188, \"col\", 49);\n      i0.ɵɵelementStart(189, \"thead\");\n      i0.ɵɵelementStart(190, \"tr\");\n      i0.ɵɵelementStart(191, \"th\");\n      i0.ɵɵtext(192, \"Vehicle Name/Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(193, \"th\");\n      i0.ɵɵtext(194, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(195, \"th\");\n      i0.ɵɵtext(196, \"Expense Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(197, \"th\");\n      i0.ɵɵtext(198, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(199, \"th\");\n      i0.ɵɵtext(200, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(201, \"tbody\");\n      i0.ɵɵtemplate(202, ExpenseComponent_tr_202_Template, 3, 1, \"tr\", 45);\n      i0.ɵɵtemplate(203, ExpenseComponent_tr_203_Template, 14, 12, \"tr\", 35);\n      i0.ɵɵelementStart(204, \"tr\");\n      i0.ɵɵelement(205, \"td\");\n      i0.ɵɵelement(206, \"td\");\n      i0.ɵɵelementStart(207, \"td\", 47);\n      i0.ɵɵtext(208, \"Total\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(209, \"td\");\n      i0.ɵɵtext(210);\n      i0.ɵɵpipe(211, \"number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(212, \"td\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(213, ExpenseComponent_div_213_Template, 3, 0, \"div\", 46);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.start)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.end)(\"minDate\", ctx.dateMinLimit)(\"maxDate\", ctx.futureDatesLimit);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vehicleData);\n      i0.ɵɵadvance(33);\n      i0.ɵɵproperty(\"ngIf\", ctx.allData.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allData);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.lastItemSK !== \"end\" && ctx.allData.length !== 0);\n      i0.ɵɵadvance(30);\n      i0.ɵɵproperty(\"ngIf\", ctx.fuel.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.fuel);\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngIf\", ctx.serviceLogData.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.serviceLogData);\n      i0.ɵɵadvance(30);\n      i0.ɵɵproperty(\"ngIf\", ctx.payments.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.payments);\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(175, 21, ctx.totalDriverPay, \"1.2-2\"));\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngIf\", ctx.expensePay.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.expensePay);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(211, 24, ctx.totalExpense, \"1.2-2\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.lastExpPay !== \"end\" && ctx.expensePay.length !== 0);\n    }\n  },\n  directives: [i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.NgForm, i7.NgbInputDatepicker, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i3.RouterLinkWithHref, i8.NgForOf, i8.NgIf],\n  pipes: [i8.DecimalPipe, i8.TitleCasePipe, i8.DatePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}