{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport Constants from 'src/app/pages/fleet/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services\";\nimport * as i2 from \"src/app/services/safety.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ng-select/ng-select\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i9 from \"ngx-infinite-scroll\";\n\nfunction IncidentListComponent_ng_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const driver_r4 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", driver_r4.driverID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", driver_r4.firstName, \" \", driver_r4.lastName, \"\");\n  }\n}\n\nfunction IncidentListComponent_tbody_71_tr_1_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.location.label);\n  }\n}\n\nfunction IncidentListComponent_tbody_71_tr_1_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"NA\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction IncidentListComponent_tbody_71_tr_1_ng_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const status_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", status_r12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(status_r12);\n  }\n}\n\nfunction IncidentListComponent_tbody_71_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 40);\n    i0.ɵɵelementStart(1, \"td\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 41);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 41);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 41);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 41);\n    i0.ɵɵtemplate(13, IncidentListComponent_tbody_71_tr_1_span_13_Template, 2, 1, \"span\", 37);\n    i0.ɵɵtemplate(14, IncidentListComponent_tbody_71_tr_1_span_14_Template, 2, 0, \"span\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 41);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 41);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 42);\n    i0.ɵɵelementStart(20, \"ng-select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function IncidentListComponent_tbody_71_tr_1_Template_ng_select_ngModelChange_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const data_r6 = restoredCtx.$implicit;\n      const i_r7 = restoredCtx.index;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.changeStatus(data_r6.incidentID, $event, i_r7);\n    })(\"ngModelChange\", function IncidentListComponent_tbody_71_tr_1_Template_ng_select_ngModelChange_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const data_r6 = restoredCtx.$implicit;\n      return data_r6.status = $event;\n    });\n    i0.ɵɵtemplate(21, IncidentListComponent_tbody_71_tr_1_ng_option_21_Template, 2, 2, \"ng-option\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.driversObject[data_r6.driverID], \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.vehiclesObject[data_r6.vehicleID]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(7, 20, data_r6.eventDate, \"yyyy/MM/dd\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.convertTimeFormat(data_r6.eventTime));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.eventSource);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.location.label != undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r6.location.label === undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.severity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", data_r6.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r6.assigned);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"clearable\", false)(\"ngModel\", data_r6.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.status_values);\n  }\n}\n\nfunction IncidentListComponent_tbody_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, IncidentListComponent_tbody_71_tr_1_Template, 22, 23, \"tr\", 39);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.events);\n  }\n}\n\nfunction IncidentListComponent_tbody_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\", 44);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.dataMessage, \"\");\n  }\n}\n\nexport class IncidentListComponent {\n  constructor(apiService, hereMapService, safetyService, router, toaster) {\n    this.apiService = apiService;\n    this.hereMapService = hereMapService;\n    this.safetyService = safetyService;\n    this.router = router;\n    this.toaster = toaster;\n    this.events = [];\n    this.newEvents = [];\n    this.lastEvaluatedKey = '';\n    this.totalRecords = 20;\n    this.pageLength = 10;\n    this.coachingStatus = [{\n      value: 'open',\n      name: 'Open'\n    }, {\n      value: 'closed',\n      name: 'Closed'\n    }, {\n      value: 'underReview',\n      name: 'Under Review'\n    }, {\n      value: 'coaching',\n      name: 'Coaching'\n    }, {\n      value: 'investigating',\n      name: 'Investigating'\n    }];\n    this.vehicles = [];\n    this.vehicleID = '';\n    this.serviceUrl = '';\n    this.filter = {\n      date: null,\n      driverID: null\n    };\n    this.suggestions = [];\n    this.vehiclesObject = {};\n    this.driversObject = {};\n    this.usersObject = {};\n    this.status_values = [\"open\", \"investigating\", \"coaching\", \"closed\"];\n    this.dataMessage = Constants.FETCHING_DATA;\n    this.drivers = [];\n    this.lastItemSK = '';\n    const date = new Date();\n    this.birthDateMinLimit = {\n      year: 1950,\n      month: 1,\n      day: 1\n    };\n    this.birthDateMaxLimit = {\n      year: date.getFullYear(),\n      month: 12,\n      day: 31\n    };\n  }\n\n  ngOnInit() {\n    this.fetchEvents();\n    this.fetchVehicles();\n    this.fetchAllVehiclesIDs();\n    this.fetchAllDriverIDs();\n    this.fetchAllUsersIDs();\n    this.fetchDrivers();\n  }\n\n  changeStatus(incidentID, newValue, i) {\n    var _this = this;\n\n    let data = {\n      incidentID: incidentID,\n      status: newValue\n    };\n    this.safetyService.putData('incidents', data).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        if (res.status == false) {\n          _this.events[i].status = res.oldStatus;\n\n          _this.toaster.error('Please select valid status');\n        } else {\n          _this.toaster.success('Status updated successfully');\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  fetchEvents(refresh) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (refresh === true) {\n        _this2.lastItemSK = '';\n        _this2.events = [];\n      }\n\n      if (_this2.lastItemSK !== 'end') {\n        _this2.safetyService.getData(`incidents?lastKey=${_this2.lastItemSK}`).subscribe( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator(function* (result) {\n            if (result.length === 0) {\n              _this2.dataMessage = Constants.NO_RECORDS_FOUND;\n            }\n\n            result.map(v => {\n              v.url = `/safety/incidents/incident-details/${v.incidentID}`;\n            });\n\n            if (result.length > 0) {\n              for (let index = 0; index < result.length; index++) {\n                const element = result[index];\n\n                _this2.events.push(element);\n              }\n\n              if (_this2.events[_this2.events.length - 1].sk != undefined) {\n                _this2.lastItemSK = encodeURIComponent(_this2.events[_this2.events.length - 1].sk);\n              } else {\n                _this2.lastItemSK = 'end';\n              }\n\n              _this2.newEvents = _this2.events;\n            }\n          });\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }\n    })();\n  }\n\n  onScroll() {\n    this.fetchEvents();\n  }\n\n  fetchVehicles() {\n    this.apiService.getData('vehicles').subscribe(result => {\n      this.vehicles = result.Items;\n    });\n  }\n\n  searchEvent() {\n    var _this3 = this;\n\n    this.dataMessage = Constants.FETCHING_DATA;\n\n    if (this.filter.date == '' || this.filter.driverID == '') {\n      this.filter.date = 'null';\n      this.filter.driverID = 'null';\n    }\n\n    this.safetyService.getData(`incidents/paging?driverID=${this.filter.driverID}&date=${this.filter.date}`).subscribe( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (result) {\n        if (result.length == 0) {\n          _this3.dataMessage = Constants.NO_RECORDS_FOUND;\n        }\n\n        _this3.events = result;\n      });\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  }\n\n  fetchTabData(tabType) {\n    if (this.filter.date != '' || this.filter.date != null || this.filter.driverID != '' || this.filter.driverID != null) {\n      this.filter.date = '';\n      this.filter.driverID = null;\n    }\n\n    this.events = this.newEvents;\n    $(\".navtabs\").removeClass('active');\n\n    if (tabType === 'all') {\n      $(\"#allSafetyIncidents-tab\").addClass('active');\n      this.events = this.newEvents;\n    } else if (tabType === 'assigned') {\n      $(\"#assigned-tab\").addClass('active');\n      this.events = this.events.filter(element => {\n        return element.status != 'assigned';\n      });\n    } else if (tabType === 'coaching') {\n      $(\"#coaching-tab\").addClass('active');\n      this.events = this.events.filter(element => {\n        return element.status == 'coaching';\n      });\n    } else if (tabType === 'investigating') {\n      $(\"#under-review-tab\").addClass('active');\n      this.events = this.events.filter(element => {\n        return element.status == 'investigating';\n      });\n    } else if (tabType === 'closed') {\n      $(\"#resolved-tab\").addClass('active');\n      this.events = this.events.filter(element => {\n        return element.status == 'closed';\n      });\n    }\n\n    if (this.events.length == 0) {\n      this.dataMessage = Constants.NO_RECORDS_FOUND;\n    }\n  }\n\n  fetchDrivers() {\n    this.apiService.getData('drivers/safety').subscribe(result => {\n      this.drivers = result.Items;\n    });\n  }\n\n  resetFilter() {\n    if (this.filter.date !== '' || this.filter.driverID !== '') {\n      this.lastItemSK = '';\n      this.events = [];\n      this.fetchEvents();\n      this.filter = {\n        date: null,\n        driverID: null\n      };\n    } else {\n      return false;\n    }\n  }\n\n  fetchAllVehiclesIDs() {\n    this.apiService.getData('vehicles/get/list').subscribe(result => {\n      this.vehiclesObject = result;\n    });\n  }\n\n  fetchAllDriverIDs() {\n    this.apiService.getData('drivers/get/list').subscribe(result => {\n      this.driversObject = result;\n    });\n  }\n\n  fetchAllUsersIDs() {\n    this.apiService.getData('common/users/get/list').subscribe(result => {\n      this.usersObject = result;\n    });\n  }\n\n  convertTimeFormat(time) {\n    // Check correct time format and split into components\n    time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n    if (time.length > 1) {\n      // If time format correct\n      time = time.slice(1); // Remove full string match value\n\n      time[5] = +time[0] < 12 ? ' AM' : ' PM'; // Set AM/PM\n\n      time[0] = +time[0] % 12 || 12; // Adjust hours\n    }\n\n    return time.join(''); // return adjusted time or original string\n  }\n\n  refreshData() {\n    this.lastItemSK = '';\n    this.events = [];\n    this.fetchEvents();\n    this.filter = {\n      date: null,\n      driverID: null\n    };\n  }\n\n}\n\nIncidentListComponent.ɵfac = function IncidentListComponent_Factory(t) {\n  return new (t || IncidentListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i1.HereMapService), i0.ɵɵdirectiveInject(i2.SafetyService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\n\nIncidentListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: IncidentListComponent,\n  selectors: [[\"app-incident-list\"]],\n  decls: 74,\n  vars: 10,\n  consts: [[1, \"body\"], [1, \"inner-wrapper\"], [\"role\", \"main\", 1, \"content-body\"], [1, \"page-header\", \"pr8\", \"pl11\"], [\"method\", \"get\", 1, \"form-horizontal\"], [1, \"row\", 2, \"padding-top\", \"10px\"], [1, \"col-md-2\", \"col-lg-2\"], [\"name\", \"driverID\", \"placeholder\", \"Search by Driver\", 1, \"text-capitalize\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"input-group\", \"input-group-sm\", \"mb-3\"], [\"name\", \"date\", \"type\", \"text\", \"placeholder\", \"yyyy/mm/dd\", \"ngbDatepicker\", \"\", \"autocomplete\", \"off\", 1, \"form-control\", 3, \"ngModel\", \"maxDate\", \"minDate\", \"ngModelChange\", \"click\"], [\"from\", \"ngbDatepicker\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"mr-3\", 3, \"click\"], [\"href\", \"javascript:;\", 1, \"btn\", \"btn-success\", \"btn-sm\", 2, \"color\", \"white\", 3, \"click\"], [1, \"col-6\", \"text-right\", \"pr-1\"], [\"href\", \"javascript:;\", \"data-toggle\", \"tooltip\", \"title\", \"Refresh data\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"modal-with-form\", \"mr-2\", 3, \"click\"], [1, \"fas\", \"fa-sync\"], [\"href\", \"javascript:;\", \"routerLink\", \"/safety/incidents/add-incident\", 1, \"btn\", \"btn-success\", \"btn-sm\", \"mx-2\", 2, \"color\", \"white\"], [1, \"fas\", \"fa-plus\"], [1, \"m-2\"], [1, \"row\", \"mb-3\"], [1, \"col-lg-12\"], [1, \"bg-white\", \"p-3\", \"text-dark\"], [1, \"form-group\", \"row\"], [\"infiniteScroll\", \"\", 1, \"col-lg-12\", 3, \"infiniteScrollDistance\", \"infiniteScrollUpDistance\", \"infiniteScrollThrottle\", \"scrolled\"], [1, \"mb-3\", \"pb-1\"], [\"id\", \"incident-tabs\", \"role\", \"tablist\", 1, \"nav\", \"nav-tabs\", \"top-tabs\", \"incident-tabs\"], [1, \"nav-item\"], [\"id\", \"allSafetyIncidents-tab\", \"href\", \"javascript:;\", 1, \"nav-link\", \"active\", \"navtabs\", 3, \"click\"], [\"id\", \"assigned-tab\", \"href\", \"javascript:;\", 1, \"nav-link\", \"navtabs\", 3, \"click\"], [\"id\", \"under-review-tab\", \"href\", \"javascript:;\", 1, \"nav-link\", \"navtabs\", 3, \"click\"], [\"id\", \"coaching-tab\", \"href\", \"javascript:;\", 1, \"nav-link\", \"navtabs\", 3, \"click\"], [\"id\", \"resolved-tab\", \"data-toggle\", \"tab\", \"href\", \"javascript:;\", 1, \"nav-link\", \"navtabs\", 3, \"click\"], [\"id\", \"myTabContent\", 1, \"tab-content\", \"border-0\", \"p-0\"], [\"id\", \"allSafetyIncidents\", \"role\", \"tabpanel\", \"aria-labelledby\", \"allSafetyIncidents-tab\", 1, \"tab-pane\", \"fade\", \"show\", \"active\"], [1, \"\"], [1, \"row-border\", \"hover\", \"table\", \"table-bordered\", \"table-striped\", \"mb-0\"], [4, \"ngIf\"], [3, \"value\"], [\"class\", \"cursorpoint\", 4, \"ngFor\", \"ngForOf\"], [1, \"cursorpoint\"], [1, \"text-capitalize\", 3, \"routerLink\"], [2, \"width\", \"180px\"], [1, \"form-control\", \"text-capitalize\", 3, \"clearable\", \"ngModel\", \"ngModelChange\"], [\"colspan\", \"9\", 1, \"no-data-available\"]],\n  template: function IncidentListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r16 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"section\", 2);\n      i0.ɵɵelementStart(3, \"header\", 3);\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"ng-select\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function IncidentListComponent_Template_ng_select_ngModelChange_7_listener($event) {\n        return ctx.filter.driverID = $event;\n      });\n      i0.ɵɵtemplate(8, IncidentListComponent_ng_option_8_Template, 2, 3, \"ng-option\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelementStart(10, \"div\", 9);\n      i0.ɵɵelementStart(11, \"input\", 10, 11);\n      i0.ɵɵlistener(\"ngModelChange\", function IncidentListComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.filter.date = $event;\n      })(\"click\", function IncidentListComponent_Template_input_click_11_listener() {\n        i0.ɵɵrestoreView(_r16);\n\n        const _r1 = i0.ɵɵreference(12);\n\n        return _r1.toggle();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelementStart(14, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_button_click_14_listener() {\n        return ctx.searchEvent();\n      });\n      i0.ɵɵtext(15, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_16_listener() {\n        return ctx.resetFilter();\n      });\n      i0.ɵɵtext(17, \" Reset \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 14);\n      i0.ɵɵelementStart(19, \"a\", 15);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_19_listener() {\n        return ctx.refreshData();\n      });\n      i0.ɵɵelement(20, \"i\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"a\", 17);\n      i0.ɵɵelement(22, \"i\", 18);\n      i0.ɵɵtext(23, \" Add Incident\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"section\", 19);\n      i0.ɵɵelementStart(25, \"div\", 20);\n      i0.ɵɵelementStart(26, \"div\", 21);\n      i0.ɵɵelementStart(27, \"div\", 22);\n      i0.ɵɵelementStart(28, \"div\", 23);\n      i0.ɵɵelementStart(29, \"div\", 24);\n      i0.ɵɵlistener(\"scrolled\", function IncidentListComponent_Template_div_scrolled_29_listener() {\n        return ctx.onScroll();\n      });\n      i0.ɵɵelementStart(30, \"div\", 25);\n      i0.ɵɵelementStart(31, \"ul\", 26);\n      i0.ɵɵelementStart(32, \"li\", 27);\n      i0.ɵɵelementStart(33, \"a\", 28);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_33_listener() {\n        return ctx.fetchTabData(\"all\");\n      });\n      i0.ɵɵtext(34, \"All\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"li\", 27);\n      i0.ɵɵelementStart(36, \"a\", 29);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_36_listener() {\n        return ctx.fetchTabData(\"assigned\");\n      });\n      i0.ɵɵtext(37, \"Assigned\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"li\", 27);\n      i0.ɵɵelementStart(39, \"a\", 30);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_39_listener() {\n        return ctx.fetchTabData(\"investigating\");\n      });\n      i0.ɵɵtext(40, \"Investigating\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"li\", 27);\n      i0.ɵɵelementStart(42, \"a\", 31);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_42_listener() {\n        return ctx.fetchTabData(\"coaching\");\n      });\n      i0.ɵɵtext(43, \"Coaching\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"li\", 27);\n      i0.ɵɵelementStart(45, \"a\", 32);\n      i0.ɵɵlistener(\"click\", function IncidentListComponent_Template_a_click_45_listener() {\n        return ctx.fetchTabData(\"closed\");\n      });\n      i0.ɵɵtext(46, \"Closed\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"div\", 33);\n      i0.ɵɵelementStart(48, \"div\", 34);\n      i0.ɵɵelementStart(49, \"div\", 35);\n      i0.ɵɵelementStart(50, \"table\", 36);\n      i0.ɵɵelementStart(51, \"thead\");\n      i0.ɵɵelementStart(52, \"tr\");\n      i0.ɵɵelementStart(53, \"th\");\n      i0.ɵɵtext(54, \"Driver Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"th\");\n      i0.ɵɵtext(56, \"Vehicle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"th\");\n      i0.ɵɵtext(58, \"Event Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"th\");\n      i0.ɵɵtext(60, \"Event Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"th\");\n      i0.ɵɵtext(62, \"Event Source\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"th\");\n      i0.ɵɵtext(64, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"th\");\n      i0.ɵɵtext(66, \"Severity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"th\");\n      i0.ɵɵtext(68, \"Assigned\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"th\");\n      i0.ɵɵtext(70, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(71, IncidentListComponent_tbody_71_Template, 2, 1, \"tbody\", 37);\n      i0.ɵɵtemplate(72, IncidentListComponent_tbody_72_Template, 4, 1, \"tbody\", 37);\n      i0.ɵɵelement(73, \"tbody\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.filter.driverID);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.drivers);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.filter.date)(\"maxDate\", ctx.birthDateMaxLimit)(\"minDate\", ctx.birthDateMinLimit);\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"infiniteScrollDistance\", 1)(\"infiniteScrollUpDistance\", 1)(\"infiniteScrollThrottle\", 5);\n      i0.ɵɵadvance(42);\n      i0.ɵɵproperty(\"ngIf\", ctx.events.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.events.length == 0);\n    }\n  },\n  directives: [i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i6.NgSelectComponent, i5.NgControlStatus, i5.NgModel, i7.NgForOf, i8.NgbInputDatepicker, i5.DefaultValueAccessor, i3.RouterLinkWithHref, i9.InfiniteScrollDirective, i7.NgIf, i6.ɵr, i3.RouterLink],\n  pipes: [i7.DatePipe],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"module"}