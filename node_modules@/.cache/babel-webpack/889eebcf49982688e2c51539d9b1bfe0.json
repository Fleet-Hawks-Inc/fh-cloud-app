{"ast":null,"code":"import _asyncToGenerator from \"C:/FH/fh-cloud-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"!C:\\\\FH\\\\fh-cloud-app\\\\node_modules\\\\@ngtools\\\\webpack\\\\src\\\\loaders\\\\direct-resource.js!./bol-pdf.component.html\";\nimport __NG_CLI_RESOURCE__1 from \"./bol-pdf.component.css\";\nimport { Component, ViewChild } from \"@angular/core\";\nimport { ListService } from \"src/app/services\";\nimport * as html2pdf from \"html2pdf.js\";\nimport { NgbModal } from \"@ng-bootstrap/ng-bootstrap\";\nlet BolPdfComponent = class BolPdfComponent {\n  constructor(listService, modalService) {\n    this.listService = listService;\n    this.modalService = modalService;\n    this.drivers = [];\n    this.assets = [];\n    this.vehicles = [];\n    this.orderData = [];\n    this.companyLogo = \"\";\n    this.logoSrc = \"assets/img/logo.png\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    this.subscription = this.listService.bolPdfList.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        if (res.showModal && res.length != 0) {\n          _this.orderData = res.orderData;\n          _this.drivers = res.drivers;\n          _this.assets = res.assets;\n          _this.vehicles = res.vehicles;\n          _this.carrierData = res.carrierData;\n          _this.companyLogo = res.companyLogo;\n          _this.finalAmount = res.finalAmount;\n          _this.today = res.date;\n          _this.orderNumber = res.orderNumber;\n          let ngbModalOptions = {\n            backdrop: \"static\",\n            keyboard: false,\n            windowClass: \"ordBolPrev-prog__main\"\n          };\n          res.showModal = false;\n\n          _this.modalService.open(_this.ordBolPrev, ngbModalOptions).result.then(result => {}, reason => {}); // this.generatePDF();\n\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  generatePDF() {\n    return _asyncToGenerator(function* () {\n      var data = document.getElementById(\"print_bol\");\n      html2pdf(data, {\n        margin: 0.5,\n        pagebreak: {\n          mode: \"avoid-all\",\n          before: \"print_bol\"\n        },\n        filename: `BOL ${new Date().getTime()}.pdf`,\n        image: {\n          type: \"jpeg\",\n          quality: 0.98\n        },\n        html2canvas: {\n          scale: 2,\n          logging: true,\n          dpi: 192,\n          letterRendering: true\n        },\n        jsPDF: {\n          unit: \"in\",\n          format: \"a4\",\n          orientation: \"portrait\"\n        }\n      });\n    })();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n};\n\nBolPdfComponent.ctorParameters = () => [{\n  type: ListService\n}, {\n  type: NgbModal\n}];\n\nBolPdfComponent.propDecorators = {\n  ordBolPrev: [{\n    type: ViewChild,\n    args: [\"ordBolPrev\", {\n      static: true\n    }]\n  }]\n};\nBolPdfComponent = __decorate([Component({\n  selector: \"app-bol-pdf\",\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], BolPdfComponent);\nexport { BolPdfComponent };","map":null,"metadata":{},"sourceType":"module"}