<!-- <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "default" color = "#fff" type = "ball-clip-rotate"><p style="color: white" > Loading... </p></ngx-spinner> -->

<section class="body">
  <!-- start: header -->
  <app-header></app-header>
  <!-- end: header -->

  <div class="inner-wrapper">
    <!-- start: sidebar -->
    <app-sidebar></app-sidebar>
    <!-- end: sidebar -->

    <section role="main" class="content-body pl-1 pt-0 pr-0">
      <header class="page-header">
         <form class="form-horizontal" method="get">
            <div class="row" style="padding-top:10px;">
               <div class="col-md-2 col-lg-2">
                  <div class="input-group input-group-md mb-3">
                     <ng-select [(ngModel)]="selectedAssets" name='search_asset' style="width: 100%;">
                        <ng-option class="p-0" *ngFor="let item of allData" [value]="item.id"><a class="p-2 d-block" routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetName}}</a></ng-option>
                    </ng-select>
                  </div>
               </div>
               <div class="col-md-2  col-lg-2">
                  <div class="btn-group flex-wrap" style="width:240px;">
                     <button type="button" class="mb-1 mr-1 btn btn-default btn-md dropdown-toggle" data-toggle="dropdown">Search by Status <span class="caret"></span></button>
                     <div class="dropdown-menu" role="menu">
                        <a class="dropdown-item text-1" href="#">All</a>
                        <a class="dropdown-item text-1" href="#">Active</a>
                        <a class="dropdown-item text-1" href="#">Inactive</a>
                     </div>
                  </div>
               </div>
               <div class="col-md-1  col-lg-1">
                  <button type="submit" class="btn btn-sm btn-success">Search</button>
               </div>
               <div class="col-md-7  col-lg-7 text-right pr-5">
                  <button type="button" id="map_view_btn" class="btn btn-sm btn-default">Map View</button>
                  <button type="button" id="list_view_btn" class="btn btn-sm btn-success">List View</button>
                  <div class="btn-group flex-wrap">
                     <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Actions<span class="caret"></span></button>
                     <div class="dropdown-menu" role="menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                        <a class="dropdown-item text-1" (click)="editAsset()" href="javascript:;">Edit</a>
                        <a class="dropdown-item text-1" (click)="deleteAsset()" href="javascript:;">Delete</a>
                        <a class="dropdown-item text-1" href="">Import</a>
                        <a class="dropdown-item text-1" href="">Export</a>
                     </div>
                  </div>
                  <a routerLink="/fleet/assets/Add-Assets" class="btn btn-success btn-sm mr-4" style="color:white;"><i class="fas fa-plus"></i> Add Asset</a>
               </div>
            </div>
         </form>
      </header>
      <!-- MAP VIEW OF ASSETS -->
      <div class="mapclass vehiclemain" id="map_view" style="display: none;">
         <div id="map" class="mapclassmain"></div>
         <div class="vehicleRmini" id="arrowRvehicle">
            <a href="#"><i class="fas fa-arrow-right"></i></a>
         </div>
         <div class="vehicleLmini" id="arrowLvehicle" style="display: none">
            <a href="#"><i class="fas fa-arrow-left"></i></a>
         </div>
         <div class="vehicleminilist" style="overflow-y: scroll; overflow-x: hidden; height: 100%;" id="vehicleMiniList">
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark"> Asset Tracker</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Kingston, Toronto, ON K7L 5K4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark"> Asset Gateway</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Crescent Road Vancouver, BC V6T 1Z2</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Tracker</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Crt Brampton ON L6Z 3G4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 1</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> McCallum Ave Regina SK S4S 0S4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 2</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Bourkevale Dr Winnipeg MB R3J 1P3</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 3</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> McCallum Ave Regina SK S4S 0S4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 4</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> 2542 Cleary Crt Mississauga ON L5K 1Y3</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 5</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Kingston, Toronto, ON K7L 5K4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 6</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Crescent Road Vancouver, BC V6T 1Z2</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 7</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Crt Brampton ON L6Z 3G4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 8</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> McCallum Ave Regina SK S4S 0S4</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 9</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Bourkevale Dr Winnipeg MB R3J 1P3</span>
               </a>
            </div>
            <div class="vehicleDetailMap">
               <a href="asset1_details.php">
                  <p class="mb-1 text-4 font-weight-semibold text-dark">Asset Name 10</p>
                  <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> 122 St Surrey BC V3V 4L4</span>
               </a>
            </div>
         </div>
      </div>
      <!-- LIST VIEW OF ASSETS  -->
      <div id="list_view">
         <div class="p-2">
            <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
               <li class="nav-item">
                  <a class="nav-link active" (click)="uncheckCheckbox(allData)" id="all-tab" data-toggle="tab" href="#allassets" role="tab" aria-controls="allassets" aria-selected="true">All</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" (click)="uncheckCheckbox(refers)" id="reefer-tab" data-toggle="tab" href="#reefer" role="tab" aria-controls="reefer" aria-selected="false">Reefer</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" (click)="uncheckCheckbox(drybox)" id="dryBox-tab" data-toggle="tab" href="#dryBox" role="tab" aria-controls="dryBox" aria-selected="false">Dry Box</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" (click)="uncheckCheckbox(flatbed)" id="flatBed-tab" data-toggle="tab" href="#flatBed" role="tab" aria-controls="flatBed" aria-selected="false">Flatbed</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" (click)="uncheckCheckbox(curtainSlide)" id="curtainSide-tab" data-toggle="tab" href="#curtainSide" role="tab" aria-controls="curtainSide" aria-selected="false">Curtain Side</a>
               </li>
            </ul>
         </div>
         <div class="row">
            <div class="col">
               <section class="card">
                  <div class="card-body">
                     <div class="tab-content p-0" id="myTabContent">
                        <div class="tab-pane show active" id="allassets" role="tabpanel" aria-labelledby="all-tab">
                           <table datatable [dtOptions]="allOptions" datatable class="row-border hover table table-bordered table-striped mb-0 " *ngIf="allData.length > 0">
                              <thead>
                                 <tr>
                                    <th width="5%"><input [(ngModel)]="headCheckbox" (change)="checkuncheckall($event)" type="checkbox"></th>
                                    <!-- <th></th> -->
                                    <th>Asset Name/Number</th>
                                    <th>Type</th>                                          
                                    <th>Plate Number</th>
                                    <th>Last Known Location</th>                                          
                                    <th>Year</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>Ownership</th>
                                    <th>Status</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngFor="let item of allData;">
                                    <!-- <td><input [checked]="isChecked" [(ngModel)]="item.checked" (ngModelChange)="checkboxCount(allData)" value="{{item.assetIdentification}}" type="checkbox"></td> -->
                                    <td></td>
                                    <td routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetIdentification}}</td>
                                    <td>{{item.assetDetails.assetType}}</td>                                          
                                    <td>{{item.assetDetails.licencePlateNumber}}</td>
                                    <td >Live Location</td>
                                    <td >{{item.assetDetails.year}}</td>
                                    <td >{{item.assetDetails.manufacturer}}</td>
                                    <td >{{item.assetDetails.model}}</td>
                                    <td >{{item.assetDetails.ownerShip}}</td>
                                    <td><span class="badge badge-dark p-1 text-uppercase">{{item.assetDetails.currentStatus}}</span></td>
                                 </tr>
                              </tbody>
                           </table>
                           <div *ngIf="!allData.length > 0" class="alert alert-info m-0 text-center" role="alert">
                              No records found
                              
                           </div>
                        </div>
                        <div class="tab-pane fade" id="reefer" role="tabpanel" aria-labelledby="reefer-tab">
                           <table datatable [dtOptions]="reeferOptions"  class="table table-bordered table-responsive-lg table-striped mb-0 reefer-datatable"  *ngIf="refers.length > 0">
                              <thead>
                                 <tr>
                                    <th width="5%"><input [(ngModel)]="headCheckbox" (change)="checkuncheckall($event)" type="checkbox"></th>
                                    
                                    <th>Asset Name</th>
                                    <th>Fuel Level</th>
                                    <th>Current Temp.</th>
                                    <th>Set Temp.</th>
                                    
                                    <th>Plate Number</th>
                                    <th>Last Known Location</th>
                                    <th>Year</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>Ownership</th>
                                    <th>Status</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngFor="let item of refers;">
                                    <td><input [checked]="isChecked" [(ngModel)]="item.checked" (ngModelChange)="checkboxCount(refers)" value="{{item.assetIdentification}}" type="checkbox"></td>
                                    <td routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetIdentification}}</td>
                                    <td onclick="window.location='asset1_details.php'">Live Location</td>
                                    <td onclick="window.location='asset1_details.php'">Live Location</td>
                                    <td onclick="window.location='asset1_details.php'">Live Location</td>
                                    <td>{{item.assetDetails.licencePlateNumber}}</td>
                                    <td>Live Location</td>
                                    <td>{{item.assetDetails.year}}</td>
                                    <td>{{item.assetDetails.manufacturer}}</td>
                                    <td>{{item.assetDetails.model}}</td>
                                    <td>{{item.assetDetails.ownerShip}}</td>
                                    <td><span class="badge badge-dark p-1 text-uppercase">{{item.assetDetails.currentStatus}}</span></td>
                                 </tr>
                              </tbody>
                           </table>
                           <div *ngIf="!refers.length > 0" class="alert alert-info m-0 text-center" role="alert">
                              No records found
                              
                           </div>
                        </div>

                        <div class="tab-pane fade" id="dryBox" role="tabpanel" aria-labelledby="dryBox-tab">
                           <table datatable [dtOptions]="dryboxOptions"  class="table table-bordered table-responsive-lg table-striped mb-0 reefer-datatable"  *ngIf="drybox.length > 0">
                              <thead>
                                 <tr>
                                    <th width="5%"><input [(ngModel)]="headCheckbox" (change)="checkuncheckall($event)" type="checkbox"></th>
                                    
                                    <th>Asset Name</th>
                                    <th>Plate Number</th>
                                    <th>Last Known Location</th>
                                    <th>Year</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>Ownership</th>
                                    <th>Status</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngFor="let item of drybox;">
                                    <td><input [checked]="isChecked" [(ngModel)]="item.checked" (ngModelChange)="checkboxCount(drybox)" value="{{item.assetIdentification}}" type="checkbox"></td>                                          
                                    <td routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetIdentification}}</td>
                                    <td>{{item.assetDetails.licencePlateNumber}}</td>
                                    <td>Live Location</td>
                                    <td>{{item.assetDetails.year}}</td>
                                    <td>{{item.assetDetails.manufacturer}}</td>
                                    <td>{{item.assetDetails.model}}</td>
                                    <td>{{item.assetDetails.ownerShip}}</td>
                                    <td><span class="badge badge-dark p-1 text-uppercase">{{item.assetDetails.currentStatus}}</span></td>
                                 </tr>
                                 
                              </tbody>
                           </table>
                           <div *ngIf="!drybox.length > 0" class="alert alert-info m-0 text-center" role="alert">
                              No records found
                              
                           </div>
                        </div>

                        <div class="tab-pane fade" id="flatBed" role="tabpanel" aria-labelledby="flatBed-tab">
                           <table datatable [dtOptions]="flatbedOptions" class="table table-bordered table-responsive-lg table-striped mb-0 drybox-datatable" *ngIf="flatbed.length > 0" >
                              <thead>
                                 <tr>
                                    <th width="5%"><input [(ngModel)]="headCheckbox" (change)="checkuncheckall($event)" type="checkbox"></th>
                                    
                                    <th>Asset Name</th>
                                    <th>Plate Number</th>
                                    <th>Last Known Location</th>
                                    <th>Year</th>
                                    <th>Make</th>
                                    <th>Model</th>
                                    <th>Ownership</th>
                                    <th>Status</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngFor="let item of flatbed;">
                                    <td><input [checked]="isChecked" [(ngModel)]="item.checked" (ngModelChange)="checkboxCount(flatbed)" value="{{item.assetIdentification}}" type="checkbox"></td>                                          
                                    
                                    <td routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetIdentification}}</td>
                                    <td>{{item.assetDetails.licencePlateNumber}}</td>
                                    <td >Live Location</td>
                                    <td >{{item.assetDetails.year}}</td>
                                    <td >{{item.assetDetails.manufacturer}}</td>
                                    <td >{{item.assetDetails.model}}</td>
                                    <td >{{item.assetDetails.ownerShip}}</td>
                                    <td><span class="badge badge-dark p-1 text-uppercase">{{item.assetDetails.currentStatus}}</span></td>
                                 </tr>
                              </tbody>
                           </table>
                           <div *ngIf="!flatbed.length > 0" class="alert alert-info m-0 text-center" role="alert">
                              No records found
                              
                           </div>
                        </div>

                        <div class="tab-pane fade" id="curtainSide" role="tabpanel" aria-labelledby="curtainSide-tab">
                           <table datatable [dtOptions]="curtainOptions" class="table table-bordered table-responsive-lg table-striped mb-0 drybox-datatable" *ngIf="curtainSlide.length > 0" >
                              <thead>
                                 <tr>
                                    <th width="5%"><input [(ngModel)]="headCheckbox" (change)="checkuncheckall($event)" type="checkbox"></th>
                                    
                                    <th >Asset Name</th>
                                    <th >Plate Number</th>
                                    <th >Last Know Location</th>
                                    <th >Year</th>
                                    <th >Make</th>
                                    <th >Model</th>
                                    <th >Ownership</th>
                                    <th >Status</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngFor="let item of curtainSlide;">
                                    <td><input [checked]="isChecked" [(ngModel)]="item.checked" (ngModelChange)="checkboxCount(curtainSlide)" value="{{item.assetIdentification}}" type="checkbox"></td>                                          
                                    
                                    <td routerLink="/fleet/assets/asset-detail/{{item.assetID}}">{{item.assetIdentification}}</td>
                                    <td>{{item.assetDetails.licencePlateNumber}}</td>
                                    <td >Live Location</td>
                                    <td >{{item.assetDetails.year}}</td>
                                    <td >{{item.assetDetails.manufacturer}}</td>
                                    <td >{{item.assetDetails.model}}</td>
                                    <td >{{item.assetDetails.ownerShip}}</td>
                                    <td><span class="badge badge-dark p-1 text-uppercase">{{item.assetDetails.currentStatus}}</span></td>
                                 </tr>
                              </tbody>
                           </table>
                           <div *ngIf="!curtainSlide.length > 0" class="alert alert-info m-0 text-center" role="alert">
                              No records found
                              
                           </div>
                        </div>
                     </div>
                  </div>
               </section>
            </div>
         </div>
      </div>
   </section>

    <!-- <section role="main" class="content-body">
      <header class="page-header">
        <h2>{{ title }}</h2>

        <div class="right-wrapper text-right">
          <ol class="breadcrumbs pr-3">
            <li>
              <a routerLink="">
                <i class="fas fa-home"></i>
              </a>
            </li>
            <li>
              <span>{{ title }}</span>
            </li>
          </ol>
        </div>
      </header>

      <section class="card mb-4">
        <div class="card-body">
          <h2 class="card-title mt-3 pull-left">{{ title }}</h2>
          <div class="pull-right">
            <div class="btn-group flex-wrap">
              <button
                type="button"
                class="mb-1 mt-1 mr-1 btn btn-default dropdown-toggle"
                data-toggle="dropdown"
              >
                <i class="fas fa-ellipsis-v"></i> Action
                <span class="caret"></span>
              </button>
              <div class="dropdown-menu" role="menu">
                <a class="dropdown-item text-1" href="#">Action</a>
                <a class="dropdown-item text-1" href="#">Another action</a>
                <a class="dropdown-item text-1" href="#">Something else here</a>
                <a class="dropdown-item text-1" href="#">Separated link</a>
              </div>
            </div>

            <a routerLink="/fleet/assets/Add-Assets" class="mb-1 mt-1 mr-1 btn btn-success"
              ><i class="fas fa-plus"></i> Add Assets</a
            >
          </div>
        </div>
      </section>

      <div class="row">
        <div class="col">
          <section class="card">
            <header class="card-header">
              <h2 class="card-title">{{ title }}</h2>
            </header>
            <div class="card-body">
              <table
                class="table table-bordered table-striped mb-0"
                #FhDataTable
                id="datatable-default"
              >
                <thead>
                  <tr>
                    <th>Asset Name</th>
                    <th>Asset Type</th>
                    <th>VIN</th>
                    <th>Edit</th>
                    <th>Delete</th>
                    <th class="d-lg-none">Operator</th>-->
                    <!--<th class="d-lg-none">CSS grade</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let asset of assets">
                    <td>{{ asset.assetName }}</td>
                    <td>{{ asset.assetType }}</td>
                    <td>{{ asset.VIN }}</td>
                    <td>
                      <a routerLink="/fleet/assets/Edit-Asset/{{ asset.assetID }}">Edit</a>
                    </td>
                    <td>
                      <a [routerLink]="" (click)="deleteAsset(asset.assetID)"
                        >Delete</a
                      >
                    </td>
                   <td class="center d-lg-none">4</td>-->
                    <!--<td class="center d-lg-none">X</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
    </section> -->
  </div>
</section>
