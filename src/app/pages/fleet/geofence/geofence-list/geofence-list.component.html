
<section class="body">

  <!-- start: header -->
  <app-header></app-header>
  <!-- end: header -->



  <div class="inner-wrapper">
    <!-- start: sidebar -->
    <app-sidebar></app-sidebar>
    <!-- end: sidebar -->

    <section role="main" class="content-body pt-0" style="padding-left: 15px;">
      <header class="page-header">
        <form>
           <div class="row px-4" style="padding-top:10px;">
              <div class="col-md-2 col-lg-2">
                 <div class="input-group input-group-sm mb-3">
                  <ng-select [items]="defaultBindingsList" name="searchDriver"
                  [(ngModel)]="selectedCity" style="width: 100%;">
                    </ng-select>
                 </div>
              </div>
              <div class="col-md-2  col-lg-2">
                 <select
                    data-plugin-selectTwo
                    class="form-control populate">
                    <optgroup label="Select Type">
                       <option value="">Uncategorized</option>
                       <option value="">Fuel Station</option>
                       <option value="">Job Site</option>
                       <option value="">Maintenance Facility</option>
                       <option value="">Receiver / Consignee</option>
                       <option value="">Restricted Location</option>
                       <option value="">Shipper</option>
                       <option value="">Shipper / Receiver</option>
                       <option value="">Terminal / Yard</option>
                       <option value="">Truck Stop / Rest Area</option>
                       <option value="">Weigh Station / Scale</option>
                    </optgroup>
                 </select>
              </div>
              
              <div class="col-md-1  col-lg-1">
                 <button type="submit" class="btn btn-sm btn-success">Search</button>
              </div>
              <div class="col-md-7  col-lg-7 text-right pr-5">
                 <div class="btn-group flex-wrap">
                    <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Actions<span class="caret"></span></button>
                    <div class="dropdown-menu" role="menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                       <a (click)="editGeofence()" class="dropdown-item text-1" href="javascript:;">Edit</a>
                       <a (click)="deleteGeofence()" class=" dropdown-item text-1" href="javascript:;">Delete</a>
                       <a class="dropdown-item text-1" href="">Import</a>
                       <a class="dropdown-item text-1" href="">Export</a>
                    </div>
                 </div>
                 <a routerLink="/fleet/geofence/Add-Geofence" class="btn btn-success btn-sm ml-2" style="color:white;"><i class="fas fa-plus"></i> Add Geo-Fence</a>
              </div>
           </div>
        </form>
     </header>

     
      <div class="row">
        <div class="col pr-0 pl-0">
           <section class="card">
              <div class="card-body pl-0 pt-0 text-dark">
                 <div class="row">
                  <div class="col-lg-12">
                     <p class="hoshvalue">
                        <span class="geoName text-4 font-weight-bold text-dark pl-2">Geo-Fence Name</span>
                        <span class="geoName text-4 font-weight-bold text-dark text-center">Location</span>
                        <span class="geoName text-4 font-weight-bold text-dark text-center">Type</span>
                        <span class="geofieldsdesc text-4 font-weight-bold text-dark text-center">Description</span>
                     </p>
                  </div>
              </div>
               <ngb-accordion class="geofence-listing" 
                  [closeOthers]="true" 
                  activeIds="static-1" 
                  *ngFor="let geofence of geofences; let i = index"
                  (panelChange)="beforeChange($event, geofence.geofence.cords)"
                  >
                 
                  <ngb-panel id="panel{{i}}">
                     <ng-template ngbPanelTitle style="width: 100%!important;">
                        <div class=" d-flex align-items-center justify-content-between p-2">
                           <span><input [(ngModel)]="geofence.checked" (ngModelChange)="checkboxCount()" value="{{geofence.geofenceName}}" type="checkbox"></span>
                           <span class="geoName text-dark">{{geofence.geofenceName}} </span>
                           <span class="geofields text-dark text-center">{{geofence.location}}</span>
                           <span class="geoName text-dark text-center">{{geofence.geofenceType}}</span>
                           <span class="geofieldsdesc text-dark text-center">{{geofence.description}}</span>
                          <!-- <button ngbPanelToggle class="btn btn-link p-0">Toggle first</button> -->
                        </div>
                      </ng-template>
                    <ng-template ngbPanelContent>
                     <div id="map" style="height: 400px;"></div>
                    </ng-template>
                  </ngb-panel>
                  <div *ngIf="!geofences.length > 0" class="alert alert-info m-0 text-center" role="alert"> No records found </div>
                </ngb-accordion>
                
            </div>

           </section>
        </div>
     </div>
      <!-- <div class="row">
        <div class="col">
          <section class="card">
            <header class="card-header">


              <h2 class="card-title">Geofence List</h2>
            </header>
            <div class="card-body">
              <table class="table table-bordered table-striped mb-0" #FhDataTable id="datatable-default">
                <thead>
                <tr>
                  <th>Fence Name</th>
                  <th>Location</th>
                  <th>Description</th>
                  <th>Edit</th>
                  <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let geofence of geofences">
                  <td>{{geofence.fenceName}}</td>
                  <td>{{geofence.location}}</td>
                  <td>{{geofence.description}}</td>
                  <td><a routerLink="/fleet/geofence/Edit-Geofence/{{geofence.geofenceID}}">Edit</a></td>
                  <td><a [routerLink]="" (click)="deleteGeofence(geofence.geofenceID)" >Delete</a></td>
                 >
                </tr>


                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div> -->

    </section>
  </div>



</section>




