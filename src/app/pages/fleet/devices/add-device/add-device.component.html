<section class="body">

  <div class="inner-wrapper">
    <section role="main" class="content-body pl-0 pt-0">
      <header class="page-header">
        <div class="row pr-5 " style="padding-top:10px;">
          <div class="col-md-4 col-lg-4 font-weight-bold text-4 text-dark">
            New Device
          </div>
          <div class="col-md-8  col-lg-8 text-right">
            <a routerLink="/fleet/devices/list" class="btn btn-default btn-sm"><i class="fas fa-list"></i> Devices
              List</a>
          </div>
        </div>
      </header>
      <div class="row">
        <div class="col">
          <div class="card-body text-dark">
            <form class="form-horizontal form-bordered" method="get">
              <div class=" row">
                <div class="col-lg-12">
                  <label
                    class="control-label font-weight-bold font-bold text-lg-right text-dark text-4 font-weight-bold pt-2">Devices
                    Details</label>
                </div>
                <div class="col-lg-5 offset-lg-1">

                  <div class="row">
                    <div class="col-lg-10">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2">
                        Device Name</label>
                      <input type="text" class="form-control" name="deviceName" [(ngModel)]="device.deviceName">
                    </div>
                  </div>
                  <div class="row t-2">
                    <div class="col-lg-5">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2"
                        for="inputDefault">Type</label>
                      <ng-select class="form-control populate" name="deviceType"
                        [(ngModel)]="device.deviceType">
                        <ng-option value="Gateway">Gateway</ng-option>
                        <ng-option value="Tracker">Tracker</ng-option>
                      </ng-select>
                    </div>
                    <div class="col-lg-5">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2"
                        for="inputDefault">Status</label>
                      <ng-select class="form-control populate " name="deviceStatus"
                        [(ngModel)]="device.deviceStatus">
                        <ng-option value="Active">Active</ng-option>
                        <ng-option value="Inactive">Inactive</ng-option>
                      </ng-select>
                    </div>
                  </div>
                  <div class="row pt-2">

                    <div class="col-lg-5">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2">Serial Number</label>
                      <input type="text" class="form-control" name="deviceSerialNo" [(ngModel)]=device.deviceSerialNo>
                    </div>
                  </div>
                </div>
                <div class="col-lg-5 offset-lg-1">
                  <div class="row">
                    <div class="col-lg-10">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2">Vehicle</label>
                      <ng-select class="form-control " name="vehicle" [(ngModel)]="device.vehicle.vehicleID">

                        <ng-option *ngFor="let vehicle of vehicles" value="{{vehicle.vehicleID}}">
                          {{vehicle.vehicleIdentification}}</ng-option>


                      </ng-select>
                    </div>
                  </div>
                  <div class="row pt-2">
                    <div class="col-lg-10">
                      <label class="control-label font-weight-bold font-bold text-lg-right pt-2">Description</label>
                      <textarea name="description" [(ngModel)]="device.description" class="form-control"
                        rows="4"></textarea>

                    </div>
                  </div>

                </div>
              </div>

              <div class="form-group row pt-3">
                <div class="col-lg-11 text-right">
                  <a routerLink="/fleet/devices/list" class="btn btn-default" id="">Cancel</a>

                  
                  <ng-template [ngIf]="deviceID" [ngIfElse]="elseBlock">
                    <button (click)="updateAndSubmit()" class="btn btn-success" id="nextBtn">Update</button>

                  </ng-template>
                  <ng-template #elseBlock>
                  <button (click)="submit()" class="btn btn-success" id="nextBtn">Save</button>
                </ng-template>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </div>
</section>
