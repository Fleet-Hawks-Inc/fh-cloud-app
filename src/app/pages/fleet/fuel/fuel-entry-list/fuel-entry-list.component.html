<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pl-1 pr-0 pt-0">
      <header class="page-header pr19 pl11">
        <form class="form-horizontal" method="get" name="form" id="form_">
          <div class="row" style="padding-top: 10px">
            <div class="col-md-2 col-lg-2">
              <div class="input-group input-group-sm mb-3">
                <ng-select
                  [(ngModel)]="unitID"
                  name="unitID"
                  style="width: 100%"
                  placeholder="Search by vehicle"
                >
                  <ng-option
                    *ngFor="let data of allVehicles"
                    [value]="data.vehicleID"
                    >{{ data.vehicleIdentification }}
                  </ng-option>
                </ng-select>
              </div>
            </div>
            <!-- <div class="col-md-2 col-lg-2 pr-0 pl-2">
              <div class="input-group input-group-sm mb-3">
                <ng-select [(ngModel)]="assetUnitID" name="assetUnitID" style="width: 100%;"
                  placeholder="Search by reefer">
                  <ng-option *ngFor="let data of allAssets" [value]="data.assetID">{{data.assetIdentification}}
                  </ng-option>
                </ng-select>
              </div>
            </div> -->
            <div class="col-lg-3 col-md-3">
              <div class="input-daterange input-group">
                <span class="input-group-prepend">
                  <span class="input-group-text">
                    <i class="fas fa-calendar-alt"></i>
                  </span>
                </span>
                <input
                  [(ngModel)]="fromDate"
                  name="fromDate"
                  type="text"
                  placeholder="yyyy/mm/dd"
                  (click)="from.toggle()"
                  ngbDatepicker
                  #from="ngbDatepicker"
                  class="form-control"
                  autocomplete="off"
                  [minDate]="dateMinLimit"
                  [maxDate]="futureDatesLimit"
                />
                <span
                  class="
                    input-group-text
                    border-left-0 border-right-0
                    rounded-0
                  "
                >
                  to
                </span>
                <input
                  [(ngModel)]="toDate"
                  name="toDate"
                  type="text"
                  placeholder="yyyy/mm/dd"
                  (click)="to.toggle()"
                  ngbDatepicker
                  #to="ngbDatepicker"
                  class="form-control"
                  autocomplete="off"
                  [minDate]="dateMinLimit"
                  [maxDate]="futureDatesLimit"
                />
              </div>
            </div>
            <div class="col-md-2 col-lg- pl-2">
              <button
                type="submit"
                (click)="searchFilter()"
                class="btn btn-sm btn-success mr-3"
              >
                Search
              </button>
              <button
                type="button"
                (click)="resetFilter()"
                class="btn btn-sm btn-success"
              >
                Reset
              </button>
            </div>
            <div class="col-md-3 text-right pr-1 page-buttons">
              <div class="btn-group flex-wrap" *ngIf="!environment">
                <button
                  type="button"
                  class="btn btn-success btn-sm dropdown-toggle"
                  data-toggle="dropdown"
                  aria-expanded="false"
                >
                  Actions<span class="caret"></span>
                </button>
                <div
                  class="dropdown-menu"
                  role="menu"
                  x-placement="bottom-start"
                  style="
                    position: absolute;
                    will-change: transform;
                    top: 0px;
                    left: 0px;
                    transform: translate3d(0px, 38px, 0px);
                  "
                >
                  <a class="dropdown-item text-1" href="">Import</a>
                  <a class="dropdown-item text-1" href="">Export</a>
                </div>
              </div>

              <!-- <a href="javascript:;" (click)="refreshData()"
                data-toggle="tooltip" title="Refresh data"
                class="btn btn-success btn-sm modal-with-form mr-2">
                <i class="fas fa-sync"></i>
              </a> -->

              <a
                routerLink="/fleet/fuel/add"
                class="btn btn-success btn-sm ml-2"
                style="color: white"
                ><i class="fas fa-plus"></i> Add Fuel Entry</a
              >
            </div>
          </div>
        </form>
      </header>
      <section class="m-2">
        <div class="row mb-3">
          <div class="col-lg-12">
            <div class="bg-white p-3 text-dark">
              <div class="form-group row pt-1">
                <div class="col-lg-12">
                  <div
                    class="
                      table-responsive
                      hover
                      table table-bordered table-striped
                    "
                  >
                    <ngx-datatable
                      #myTable
                      class="bootstrap expandable fixedTable"
                      [rows]="fuelList"
                      [rowHeight]="rowHeight"
                      [scrollbarV]="true"
                      [messages]="{ emptyMessage: dataMessage }"
                      (scroll)="onScroll($event.offsetY)"
                    >
                      <ngx-datatable-column
                        name="Date Time"
                        [width]="300"
                        prop="dateTime"
                      >
                      </ngx-datatable-column>
                      <ngx-datatable-column
                        name=" Fuel Card#"
                        [width]="200"
                        prop="data.cardNo"
                      >
                      </ngx-datatable-column>
                      <ngx-datatable-column
                        name="Unit#"
                        [width]="200"
                        prop="unitID"
                      >
                        <ng-template
                          ngx-datatable-cell-template
                          let-rowIndex="rowIndex"
                          let-value="value"
                          let-row="row"
                        >
                          <span *ngIf="vehicleList[value]">{{
                            vehicleList[value]
                          }}</span>
                          <span *ngIf="assetList[value]">{{
                            assetList[value]
                          }}</span>
                          <span *ngIf="!assetList[value] && !vehicleList[value]"
                            >-</span
                          >
                        </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Use Type" prop="data.useType">
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Fuel Type" prop="data.type">
                      </ngx-datatable-column>
                      <ngx-datatable-column
                        name="Fuel Amount"
                        [width]="184"
                        prop="data.amt"
                      >
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Fuel Units" prop="data.qty">
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Site" prop="data.site">
                      </ngx-datatable-column>
                      <ngx-datatable-column
                        name="Province"
                        prop="data"
                        [width]="300"
                        [sortable]="false"
                      >
                        <ng-template
                          ngx-datatable-cell-template
                          let-rowIndex="rowIndex"
                          let-value="value"
                          let-row="row"
                        >
                          {{ value.city }},{{ value.state }},{{ value.country }}
                        </ng-template>
                      </ngx-datatable-column>
                      <!-- <ngx-datatable-column name="Actions" prop="data" [sortable]=false>
                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                          let-row="row">
                      <div class="btn-group flex-wrap">
                        <button type="button" class="mb-1 mt-1 mr-1 btn"
                          
                          data-toggle="dropdown"><i class="fas
                            fa-ellipsis-v"></i></button>
                        <div class="dropdown-menu" role="menu">
                          <a
                            routerLink="/fleet/fuel/edit/{{value.fuelID
                            }}"
                            class="dropdown-item text-1">Edit</a>
                          <button type="button" class="dropdown-item
                            text-1"
                            (click)="deleteFuelEntry(value)">Delete</button>
                        </div>
                      </div>
                      </ng-template>
                    </ngx-datatable-column> -->
                    </ngx-datatable>
                  </div>

                  <!-- <div class="row mt-3 dtPaginate" *ngIf="fuelList.length> 0">
                    <div class="col-6">
                      Showing {{ fuelStartPoint }} to {{ fuelEndPoint }} of {{
                      totalRecords }} enteries
                    </div>
                    <div class="col-6 text-right">
                      <button type="button" class="btn btn-default mr-2"
                        (click)="prevResults()"
                        [disabled]="fuelPrev">Prev</button>
                      <button type="button" class="btn btn-default"
                        (click)="nextResults()"
                        [disabled]="fuelNext">Next</button>
                    </div>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- <div class="col-lg-12 mt-3 text-center" *ngIf="lastEvaluatedKey !== 'end' && fuelList.length !== 0">
          <button type="button" class="btn btn-success btn-sm text-light" (click)=" initDataTable()">Load
            More..</button>
        </div> -->
      </section>
    </section>
  </div>
</section>