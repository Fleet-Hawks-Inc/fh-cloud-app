<section class="body">

    <div class="inner-wrapper">

      <section role="main" class="content-body pl-0">
        <header class="page-header pr-5">
         <div class="row pr-1 mr-1" style="padding-top:10px;">
              <div class="col-md-4 col-lg-4">
               <h4 class="text-4 font-weight-bold mt-0 mb-0 text-dark">{{title}}</h4>
              </div>
              <div class="col-md-8 col-lg-8 text-right pr-1">
                 <a routerLink="/fleet/fuel/list" class="btn btn-sm btn-default mr-2"><i class="fas fa-list"></i> Fuel List</a>
                 <div class="btn-group flex-wrap mr-2">
                    <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Actions<span class="caret"></span></button>
                    <div class="dropdown-menu" role="menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                       <!-- <a class="modal-with-form dropdown-item text-1" href="#fuelCardTransaction">View Fuel Card Transaction Data</a> -->
                       <a class="dropdown-item text-1"  routerLink="/fleet/fuel/edit/{{entryID }}">Edit</a>
                       <a class="modal-with-form dropdown-item text-1" href="javascript:;" (click)="deleteFuelEntry(entryID)">Delete</a>
                    </div>
                 </div>
                 <a routerLink="/fleet/fuel/add"  class="btn btn-success btn-sm"><i class="fas fa-plus"></i> Add Fuel Entry</a>
              </div>
           </div>
        </header>
        <div class="row">
           <div class="col pr-0">
              <div class="card-body text-dark">
                    <div class=" row">
                       <div class="col-lg-12">
                          <label class="control-label font-weight-bold font-bold text-lg-right text-dark text-4 font-weight-bold pt-2">Fuel Details</label>
                       </div>
                       <div class="col-lg-6">
                          <div class="row">
                             <div class="col-lg-12">
                                <table class="table table-bordered table-responsive-lg">
                                   <tbody>
                                    <tr>
                                       <td width="40%" class="back-color-gray font-weight-bold">
                                          {{fuelData.unitType | titlecase}}</td>
                                       <td width="60%"><a routerLink="/fleet/assets/detail/{{fuelData.unitID}}"  class="text-info">
                                          <span *ngIf= "fuelData.unitType === 'reefer'">{{assetList[fuelData.unitID]}}</span></a>
                                          <a routerLink="/fleet/vehicles/detail/{{fuelData.unitID}}" class="text-info">
                                              <span *ngIf= "fuelData.unitType === 'vehicle'">{{vehicleList[fuelData.unitID]}}</span></a>
                                       </td>
                                    </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Trip Number</td>
                                         <td><a routerLink="/dispatch/trips/trip-details/{{fuelData.tripID }}" class="text-info">{{tripList[fuelData.tripID]}}</a></td>
                                      </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Date/Time</td>
                                         <td>{{fuelData.fuelDate}},{{fuelData.fuelTime}}</td>
                                      </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Odometer</td>
                                         <td>{{fuelData.odometer}} mi</td>
                                      </tr>
                                      <tr *ngIf="!fuelData.lineItems">
                                         <td class="back-color-gray font-weight-bold">{{fuelData.unitType | titlecase}} Fuel Quantity</td>
                                         <td>{{fuelData.fuelQty}} litre(s)</td>
                                      </tr>
                                      <tr>
                                       <td class="back-color-gray font-weight-bold">{{fuelData.unitType | titlecase}} Fuel Amount</td>
                                       <td>{{fuelData.fuelQtyAmt}} {{fuelData.billingCurrency}}</td>
                                    </tr>
                                      <tr>
                                       <td class="back-color-gray font-weight-bold">DEF Fuel Quantity</td>
                                       <td>{{fuelData.DEFFuelQty}} {{fuelData.fuelQtyUnit | titlecase}}</td>
                                    </tr>
                                    <tr>
                                       <td class="back-color-gray font-weight-bold">DEF Fuel Amount</td>
                                       <td>{{fuelData.DEFFuelQtyAmt}} {{fuelData.billingCurrency}} </td>
                                    </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Price/Gallon</td>
                                         <td>{{fuelData.costPerGallon}} {{fuelData.billingCurrency}}</td>
                                      </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Total Amount Paid</td>
                                         <td>{{fuelData.amountPaid}} {{fuelData.billingCurrency}}  &nbsp;&nbsp; <span *ngIf="fuelData.discType === ''">(Discount)- {{WEXDiscountCodeList[fuelData.discType]}} &nbsp; {{fuelData.discAmount}} {{fuelData.billingCurrency}}</span></td>
                                      </tr>
                                      <tr *ngIf="!fuelData.lineItems">
                                         <td class="back-color-gray font-weight-bold">Fuel Type</td>
                                         <td>{{fuelTypeListCode[fuelData.fuelType]}}</td>
                                      </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Vendor</td>
                                         <td>{{vendorList[fuelData.vendorID]}}</td>
                                      </tr>
                                      <tr>
                                         <td class="back-color-gray font-weight-bold">Reference</td>
                                         <td>{{fuelData.reference}}</td>
                                      </tr>
                                      <!-- <tr>
                                         <td class="back-color-gray font-weight-bold">Miles</td>
                                         <td>{{miles}} <span class="font-size-12">since previous fuel entry</span></td>
                                      </tr> -->
                                      <tr *ngIf ="MPG != 0">
                                         <td class="back-color-gray font-weight-bold">MPG (US)</td>
                                         <td>{{MPG}}</td>
                                      </tr>
                                      <tr *ngIf ="costPerMile != 0">
                                         <td class="back-color-gray font-weight-bold">Cost/Mile</td>
                                         <td> {{costPerMile}} {{fuelData.billingCurrency}}</td>
                                      </tr>
                                      
                                   </tbody>
                                </table>
                             </div>
                          </div>
                       </div>
                       <div class="col-lg-6">
                          <!-- MAP -->
                          <div class="row">
                             <div class="col-lg-12">
                                <div class="vehicle-common-box p-3">
                                   <div class="row">
                                      <div class="col-lg-6"><label class="control-label font-weight-bold text-3">Vendor Location</label></div>
                                   </div>
                                   <hr class="solid mt-2">
                                   <div class="row">
                                      <div class="col-lg-12">
                                         <div id="map" class="mapclassmain" style="height: 300px;"></div>
                                      </div>
                                   </div>
                                </div>
                             </div>
                          </div>
                          <!-- PHOTO DIV -->
                          <div class="row mt-2" *ngIf="fuelEntryImages?.length">
                           <div class="col-lg-12">
                              <div class="vehicle-common-box p-3">
                                 <div class="row">
                                    <div class="col-lg-6"><label class="control-label font-weight-bold text-3">Photo(s)</label></div>
                                    <div class="col-lg-6 text-right">
                                       <!-- <div class="btn btn-sm btn-success"><i class="fas fa-plus"></i> Add Photo<input type="file" class="hidden_input"></div> -->
                                    </div>
                                 </div>
                                 <hr class="solid mt-3">
                                 <div class="row" >
                                    <div class="col-lg-6"  *ngFor="let photo of fuelEntryImages; let i=index">
                                       <div class="vehicle-photo-box">
                                          <img src="{{photo.path}}" width="100%" class="img-fluid" style="height: 180px; object-fit: cover;">
                                          <hr class="m-3">
                                          <div class="row">
                                             <div class="col-lg-8">Image {{i+1}}</div>
                                             <div class="col-lg-4 text-right">
                                                <i class="fas fa-times text-danger"  (click)="delete(photo.name)"></i>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                       </div>
                    </div>
                    <!-- Details div -->
                    <div class="row mt-4">
                      <div class="col">
                       <table class="table table-bordered table-responsive-lg">
                        <thead>
                         <tr>
                            <th width="5%">Sr</th>
                            <th width="5%">Fuel </th>
                            <th width="10%">Quantity</th>
                            <th width="10%">Amount </th>
                            <th width="10%">Price Per Unit </th>
                            <th width="10%">Retail Amount </th>
                            <th width="10%">Retail Price Per Unit </th>
                            <th width="10%">Use Type</th>
                            <th width="30%">Taxes</th>
                         </tr>
                        </thead>
                        <tbody>
                         <tr *ngFor="let item of fuelData.lineItems; let i=index;">
                            <td>{{i+1}}</td>
                            <td>{{fuelTypeWEXCode[item.fuelType]}}</td>
                            <td>{{item.quantity}}</td>
                            <td>{{item.amount}}</td>
                            <td>{{item.pricePerUnit}}</td>
                            <td>{{item.retailAmount}}</td>
                            <td>{{item.retailPricePerUnit}}</td>
                            <td>{{item.useType}}</td>
                            <td><span *ngFor="let tax of item.tax">{{WEXTaxCodeList[tax.taxCode]}}({{tax.taxCode}}) - {{tax.amount}}<br></span>
                            <!-- <button type="button" class="btn btn-success btn-sm" (click)="showFn()" id="showBtn">Read More..</button> -->
                            <!-- <button type="button" class="btn btn-success btn-sm" (click)="hideFn()" id="hideBtn">Read Less...</button> -->
                            </td>
                         </tr><tr>
                        </tr></tbody>
                       </table>
                      </div>
                   </div>
                    <!-- FUEL CARD TRANSACTION MODAL -->
                    <div id="fuelCardTransaction" class="modal-block modal-block-primary mfp-hide">
                       <section class="card">
                          <header class="card-header">
                             <h2 class="card-title">Fuel Card Transaction</h2> </header>
                          <div class="card-body text-dark">
                             <form>
                                <div class="form-row">
                                   <div class="form-group col-md-12">
                                      <label for="inputEmail4">No Records</label>
                                   </div>
                                </div>
                             </form>
                          </div>
                          <footer class="card-footer">
                             <div class="row">
                                <div class="col-md-12 text-right">
                                   <button class="btn btn-success modal-confirm">Submit</button>
                                   <button class="btn btn-default modal-dismiss">Cancel</button>
                                </div>
                             </div>
                          </footer>
                       </section>
                   </div>
                 <!-- Delete MODAL -->
                 <div id="deleteModal" class="modal-block modal-block-primary mfp-hide">
                    <section class="card">
                       <header class="card-header">
                          <h2 class="card-title">Corfirm Action</h2>
                       </header>
                       <div class="card-body text-dark">
                          <form>
                             <div class="form-row">
                                <div class="form-group col-md-12">
                                   <label for="inputEmail4">Are you sure?</label>
                                </div>
                             </div>
                          </form>
                       </div>
                       <footer class="card-footer">
                          <div class="row">
                             <div class="col-md-12 text-right">
                             <button class="btn btn-default modal-dismiss">Cancel</button>

                                <button class="btn btn-danger modal-confirm">OK</button>
                             </div>
                          </div>
                       </footer>
                    </section>
                 </div>
              </div>
           </div>
        </div>
     </section>
    </div>
  </section>


