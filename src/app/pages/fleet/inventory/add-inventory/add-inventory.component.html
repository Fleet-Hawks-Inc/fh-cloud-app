<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pl-1 pr-0 pt-0">
      <header class="page-header pr8 pl11">
        <div class="row" style="padding-top: 10px">
          <div class="col-md-4 col-lg-4">
            <h4 class="text-4 font-weight-bold mt-0 mb-0 text-dark">
              {{ pageTitle }}
            </h4>
          </div>
          <div class="col-md-8 col-lg-8 text-right">
            <a routerLink="/fleet/inventory/list/{{sessionID}}" class="btn btn-default btn-sm"
              ><i class="fas fa-list"></i> Inventory List</a
            >
          </div>
        </div>
      </header>

      <section class="m-2">
        <form
          class="form-horizontal form-bordered"
          method="get"
          id="form"
          #inventoryF="ngForm"
        >
          <div class="row mb-3">
            <div class="col-lg-12">
              <div class="bg-white p-3 text-dark">
                <div class="form-group row adddriverpl pt-1 mt-1">
                  <div class="col-lg-10">
                    <label
                      class="control-label font-weight-bold font-weight-bold text-lg-right text-5"
                      >Inventory Details</label
                    >
                  </div>
                  <div class="col-lg-5 mb-2 pb2">
                    <div class="row">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Part#<span class="mandfield text-2 ml-1"
                            ><sup>*</sup></span
                          ></label
                        >
                        <input
                          type="text"
                          name="partNumber"
                          [(ngModel)]="partNumber"
                          class="form-control"
                          placeholder=" eg. 123AZ"
                          #iPart="ngModel"
                          required
                    [ngClass]="{
                  error: inventoryF.submitted && iPart.invalid
                                }"
                          pattern="^[a-zA-Z0-9\s]+$"
                        />
                        <div
                          *ngIf="
                            iPart.invalid && (iPart.dirty || iPart.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="iPart.errors.required">
                            Part number is required.
                          </div>
                          <div *ngIf="iPart.errors.pattern">
                            Part number must contain alphanumeric characters.
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Item Name<span class="mandfield text-2 ml-1"
                            ><sup>*</sup></span
                          ></label
                        >
                        <input
                          name="itemName"
                          [(ngModel)]="itemName"
                          type="text"
                          class="form-control"
                          placeholder=" eg. tires"
                          #iItem="ngModel"
                          required
                          pattern="^[a-zA-Z0-9\s]+$"
                        />
                        <div
                          *ngIf="
                            iItem.invalid && (iItem.dirty || iItem.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="iItem.errors.required">
                            Item name is required.
                          </div>
                          <div *ngIf="iItem.errors.pattern">
                            Item name must contain alphanumeric characters.
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Category
                          <span class="mandfield text-2 ml-1"
                            ><sup>*</sup></span
                          ></label
                        >
                        <ng-select
                          class="form-control populate"
                          name="category"
                          [addTag]="true"
                          [(ngModel)]="category"
                          placeholder="Select inventory category of inventory part"
                          #Category="ngModel"
                          required
                        >
                          <ng-option
                            *ngFor="let item of categories"
                            value="{{ item.value }}"
                            >{{ item.name | titlecase }}</ng-option
                          >
                        </ng-select>

                        <div
                          *ngIf="
                            Category.invalid &&
                            (Category.dirty || Category.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="Category.errors.required">
                            Category is required.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-5 offset-lg-1 mb-2 pb2">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="row">
                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Unit Cost (base)<span
                                class="mandfield text-2 ml-1"
                                ><sup>*</sup></span
                              ></label
                            >

                            <input
                              type="number"
                              min="0"
                              class="form-control"
                              placeholder="eg. 100,200,300"
                              name="cost"
                              [(ngModel)]="cost"
                              (change)="calculateAmount()"
                              placeholder="Unit cost"
                              #iUniC="ngModel"
                              required
                            />
                            <div
                              *ngIf="
                                iUniC.invalid && (iUniC.dirty || iUniC.touched)
                              "
                              class="text-danger"
                            >
                              <div *ngIf="iUniC.errors.required">
                                Unit cost is required.
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >&nbsp;</label
                            >

                            <ng-select
                              name="costUnitType"
                              [(ngModel)]="costUnitType"
                              data-plugin-selectTwo
                              class="form-control populate"
                              placeholder="Select Currency"
                              #UnitA="ngModel"
                              required
                            >
                              <ng-option value="CAD">CAD</ng-option>
                              <ng-option value="USD">USD</ng-option>
                            </ng-select>
                            <div
                              *ngIf="
                                UnitA.invalid && (UnitA.dirty || UnitA.touched)
                              "
                              class="text-danger"
                            >
                              <div>
                                <div *ngIf="UnitA.errors.required">
                                  Currency is required.
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >&nbsp;</label
                            >

                            <ng-select
                              name="costUnit"
                              [(ngModel)]="costUnit"
                              class="form-control populate"
                              placeholder="Select type"
                              #UnitC="ngModel"
                              required
                            >
                              <ng-option value="Each">Each</ng-option>
                              <ng-option value="Gallon">Gallon</ng-option>
                              <ng-option value="Quart">Quart</ng-option>
                              <ng-option value="Set">Set</ng-option>
                              <ng-option value="Tube">Tube</ng-option>
                            </ng-select>
                            <div
                              *ngIf="
                                UnitC.invalid && (UnitC.dirty || UnitC.touched)
                              "
                              class="text-danger"
                            >
                              <div *ngIf="UnitC.errors.required">
                                Unit type is required.
                              </div>
                            </div>
                          </div>
                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Quantity<span class="mandfield text-2 ml-1"
                                ><sup>*</sup></span
                              ></label
                            >
                            <input
                              type="number"
                              min="0"
                              class="form-control"
                              placeholder="eg. 10,20,30"
                              name="quantity"
                              [(ngModel)]="quantity"
                              (change)="calculateAmount()"
                              placeholder="eg. 1,2,3"
                              #iQuan="ngModel"
                              required
                            />
                            <div
                              *ngIf="
                                iQuan.invalid && (iQuan.dirty || iQuan.touched)
                              "
                              class="text-danger"
                            >
                              <div *ngIf="iQuan.errors.required">
                                Quantity must contain numbers.
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!--tax and total cost-->

                    <div class="row mt-2">
                      <div class="col-lg-12">
                        <div class="row">
                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Tax
                              <span class="mandfield text-2 ml-1"
                                ><sup>*</sup></span
                              ></label
                            >
                          </div>
                          <div class="col-lg-3">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Total Cost
                            </label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-3">
                            <input
                              type="number"
                              min="0"
                              class="form-control"
                              name="tax"
                              [(ngModel)]="tax"
                              (change)="calculateAmount()"
                              placeholder="Tax Amount"
                              #iunitT="ngModel"
                              required
                            />
                            <div
                              *ngIf="
                                iunitT.invalid &&
                                (iunitT.dirty || iunitT.touched)
                              "
                              class="text-danger"
                            >
                              <div *ngIf="iunitT.errors.required">
                                Tax is required.
                              </div>
                            </div>
                          </div>

                          <div class="col-lg-3">
                            <input
                              type="text"
                              class="form-control"
                              name="total"
                              [(ngModel)]="totalCost"
                              (change)="calculateAmount()"
                              placeholder="Total Cost"
                              #iRow="ngModel"
                              [disabled]="true"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--><-->
                    <div class="row mt-2">
                      <div class="col-lg-12">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Description</label
                        >
                        <textarea
                          class="form-control heighta"
                          rows="4"
                          name="description"
                          [(ngModel)]="description"
                          placeholder="Enter description of the inventory part"
                          #desName2="ngModel"
                          pattern="^[\s\S]{1,500}$"
                        ></textarea>
                        <div
                          *ngIf="
                            desName2.invalid &&
                            (desName2.dirty || desName2.touched)
                          "
                          class="text-danger"
                        >
                          <div *ngIf="desName2.errors.pattern">
                            Only 500 characters are allowed.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-lg-12">
              <div class="bg-white p-3 text-dark">
                <div class="form-group row adddriverpl">
                  <div class="col-lg-12">
                    <div class="row">
                      <div class="col-lg-6">
                        <label
                          class="control-label font-weight-bold text-dark text-4 pt-2"
                          >Warehouse Details</label
                        >
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-5 mb-2 pb2">
                    <div class="row">
                      <div class="col-lg-10">
                        <label class="control-label pt-2 font-weight-bold"
                          >Select Warehouse<span class="mandfield text-2 ml-1"
                            ><sup>*</sup></span
                          ></label
                        >
                        <ng-select
                          name="warehouseID"
                          [(ngModel)]="warehouseID"
                          data-plugin-selectTwo
                          class="form-control populate"
                          placeholder="Select warehouse"
                          #WareH="ngModel"
                          required
                        >
                          <optgroup label="Select">
                            <ng-option
                              *ngFor="let warehouse of warehouses"
                              value="{{ warehouse.warehouseID }}"
                            >
                              {{ warehouse.warehouseName | titlecase }}
                            </ng-option>
                          </optgroup>
                        </ng-select>
                        <div
                          *ngIf="
                            WareH.invalid && (WareH.dirty || WareH.touched)
                          "
                          class="text-danger"
                        >
                          <div>
                            <div *ngIf="WareH.errors.required">
                              Warehouse is required.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-2 mar-top-37 pl-0 pr-0 text-right">
                        <a
                          [routerLink]="[]"
                          (click)="showWarehoseModal()"
                          class="modal-with-form btn cus-btn-padd btn-success mr-3 mt-0"
                          ><i class="fas fa-plus"></i
                        ></a>
                        <a
                          href="javascript:;"
                          (click)="getWarehouses()"
                          data-toggle="tooltip"
                          title="Refresh task data"
                          class="btn btn-success cus-btn-padd modal-with-form"
                          ><i class="fas fa-sync"></i
                        ></a>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <div class="row">
                          <div class="col-lg-4">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Aisle</label
                            >
                          </div>
                          <div class="col-lg-4">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Row
                            </label>
                          </div>
                          <div class="col-lg-4">
                            <label
                              class="control-label font-weight-bold text-lg-right pt-2"
                              >Bin</label
                            >
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-4">
                            <input
                              type="text"
                              class="form-control"
                              name="aisle"
                              [(ngModel)]="aisle"
                              placeholder="eg. 1,2,3 "
                              #iAisle="ngModel"
                            />
                            <!-- <div *ngIf="iAisle.invalid && (iAisle.dirty || iAisle.touched)" class="text-danger">

                        <div *ngIf="iAisle.errors.pattern">
                          Aisle must contain numbers only.
                        </div>
                      </div>  -->
                          </div>
                          <div class="col-lg-4">
                            <input
                              type="text"
                              class="form-control"
                              name="row"
                              [(ngModel)]="row"
                              placeholder="eg. 1,2,3 "
                              #iRow="ngModel"
                            />
                            <!-- <div *ngIf="iRow.invalid && (iRow.dirty || iRow.touched)" class="text-danger">

                        <div *ngIf="iRow.errors.pattern">
                          Row must contain numbers only.
                        </div>
                      </div> -->
                          </div>
                          <div class="col-lg-4">
                            <input
                              type="text"
                              class="form-control"
                              name="bin"
                              [(ngModel)]="bin"
                              placeholder="eg. 1,2,3"
                            />
                            <!-- <div *ngIf="iBin.invalid && (iBin.dirty || iBin.touched)" class="text-danger">
                        <div *ngIf="iBin.errors.pattern">
                          Bin must contain numbers only.
                        </div>
                      </div> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Vendor<span class="mandfield text-2 ml-1"
                            ><sup>*</sup></span
                          ></label
                        >
                        <ng-select
                          data-plugin-selectTwo
                          class="form-control populate"
                          name="warehouseVendorID"
                          [(ngModel)]="warehouseVendorID"
                          placeholder="Select vendor"
                          #Ven="ngModel"
                          required
                        >
                          <optgroup label="Select Vendor">
                            <ng-option
                              *ngFor="let vendor of vendors | async"
                              value="{{ vendor.contactID }}"
                            >
                              {{ vendor.companyName | titlecase }}
                            </ng-option>
                          </optgroup>
                        </ng-select>
                        <div
                          *ngIf="Ven.invalid && (Ven.dirty || Ven.touched)"
                          class="text-danger"
                        >
                          <div>
                            <div *ngIf="Ven.errors.required">
                              Vendor is required.
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-2 mar-top-37 pl-0 pr-0 text-right">
                        <a
                          href="javascript:;"
                          (click)="openModal('form')"
                          class="btn cus-btn-padd btn-success modal-with-form mr-3 mt-0"
                          ><i class="fas fa-plus"></i
                        ></a>
                        <a
                          href="javascript:;"
                          (click)="getVendors()"
                          data-toggle="tooltip"
                          title="Refresh task data"
                          class="btn btn-success cus-btn-padd modal-with-form"
                          ><i class="fas fa-sync"></i
                        ></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-lg-12">
              <div class="bg-white p-3 text-dark">
                <div class="form-group row adddriverpl pt-2">
                  <div class="col-lg-12">
                    <label
                      class="control-label font-weight-bold font-weight-bold text-lg-right text-5"
                      >Additional Details</label
                    >
                  </div>
                  <div class="col-lg-5">
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <div class="row">
                          <div class="col">
                            <label
                              class="control-label font-weight-bold text-lg-right text-dark text-4 pt-2"
                              >Warranty Time</label
                            >
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-lg-5">
                            <input
                              type="number"
                              min="0"
                              class="form-control"
                              name="warrantyTime"
                              [(ngModel)]="warrantyTime"
                              placeholder="eg. 1,2,3 "
                            />
                          </div>
                          <div class="col-lg-4">
                            <ng-select
                              name="warrantyUnit"
                              [(ngModel)]="warrantyUnit"
                              data-plugin-selectTwo
                              class="form-control populate"
                              placeholder="Select unit"
                              #UnitB="ngModel"
                              required
                            >
                              <ng-option value="Months">Months</ng-option>
                              <ng-option value="Years">Years</ng-option>
                            </ng-select>
                          </div>
                        </div>

                        <div class="row mt-2">
                          <div class="col-lg-12">
                            <label
                              class="control-label font-weight-bold text-lg-right text-dark text-4 pt-2"
                              >Notes</label
                            >
                            <textarea
                              class="form-control heighta"
                              rows="3"
                              name="notes"
                              [(ngModel)]="notes"
                              placeholder="Enter notes about warranty of inventory part"
                              #notes1="ngModel"
                              pattern="^[\s\S]{1,500}$"
                            ></textarea>
                            <div
                              *ngIf="
                                notes1.invalid &&
                                (notes1.dirty || notes1.touched)
                              "
                              class="text-danger"
                            >
                              <div *ngIf="notes1.errors.pattern">
                                Only 500 characters are allowed.
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-5 offset-lg-1">
                    <div class="row">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Attach Photo</label
                        >
                        <input
                          (change)="selectDocuments($event, 'uploadedPhotos')"
                          type="file"
                          class="form-control border-0 p-0"
                          multiple
                          accept=".jpg, .jpeg, .png"
                        />
                               <span
                              *ngIf="photoError != ''"
                              class="text-danger"
                            >
                              {{ photoError }}
                            </span>
                      </div>
                      <div class="col-lg-2 mar-top-37"></div>
                    </div>
                    <div class="row mt-2" *ngIf="inventoryImages?.length">
                      <div
                        class="col-lg-5"
                        *ngFor="let photo of inventoryImages; let i = index"
                      >
                        <div class="vehicle-photo-box">
                          <img
                            [src]="photo.path"
                            width="100%"
                            class="img-fluid"
                            style="height: 180px; object-fit: cover"
                          />
                          <hr class="m-3" />
                          <div class="row">
                            <div class="col-lg-8">Image {{ i + 1 }}</div>
                            <div class="col-lg-4 text-right">
                              <i
                                class="fas fa-times text-danger"
                                (click)="delete('image', photo.name, i)"
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-2">
                      <div class="col-lg-10">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Attach Document</label
                        >
                        <input
                          (change)="selectDocuments($event, 'uploadedDocs')"
                          type="file"
                          class="form-control border-0 p-0"
                          multiple
                          accept=".doc, .docx, .pdf, .jpg, .jpeg .png" 
                        />
                               <span
                              *ngIf="docsError != ''"
                              class="text-danger"
                            >
                              {{ docsError }}
                            </span>
                      </div>
                      <div class="col-lg-2 mar-top-37"></div>
                    </div>
                    <div class="row mt-2" *ngIf="inventoryDocs?.length">
                      <div class="col-lg-10">
                        <div class="vehicle-common-box p-3">
                          <div class="row">
                            <div class="col-lg-6">
                              <label
                                class="control-label font-weight-bold text-3"
                                >Document(s)</label
                              >
                            </div>
                            <div class="col-lg-6 text-right"></div>
                          </div>
                          <hr class="solid mt-2" />
                          
                          <!--<div-->
                          <!--  class="row mb-1"-->
                          <!--  *ngFor="let doc of inventoryDocs; let d = index"-->
                          <!-->-->
                          <!--  <div class="col-lg-9">-->
                          <!--    <a href="{{ doc.path }}" target="_blank"-->
                          <!--      >Document No. {{ d + 1 }}</a-->
                          <!--    >-->
                          <!--  </div>-->
                          <!--  <div class="col-lg-3 text-right">-->
                              <!-- <i class="far fa-file text-dak mr-1" (click)="setPDFSrc(doc.path)" data-toggle="modal" data-target="#viewDocModal"></i>                               -->
                          <!--    <i-->
                          <!--      class="fas fa-times text-danger"-->
                          <!--      (click)="delete('doc', doc.name, d)"-->
                          <!--    ></i>-->
                          <!--  </div>-->
                          <!--</div>-->
                          
                                             
                        <div class="row mb-1" *ngFor="let doc of inventoryDocs; let d = index">
                                        <div class="col-lg-9">
                                            <a href="{{ doc.path }}" data-toggle="modal" data-target="#viewDocModal"
                                                (click)="setPDFSrc(doc.path)">Document {{ d + 1 }}</a>
                                        </div>
                                        <div class="col-lg-3 text-right">
                            <a href="javascript:;" class="btn btn-deafault pull-right btn-xs"
                              (click)="delete('doc', doc.name, d)"><i class="fas fa-trash-alt"></i></a>
                                                 <a href="javascript:;" class="btn btn-deafault pull-right btn-xs"
                              (click)="setPDFSrc(doc.path)" data-toggle="modal" data-target="#viewDocModal"><i
                                class="fas fa-eye"></i></a>
                          </div>
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row mt-4">
                  <div class="col-lg-11 text-right pb-2 mb-1">
                    <div class="row">
                      <div class="col-12">
                        <div class="row">
                          <div class="col-11 pr-0">
                            <button
                              type="button"
                              class="btn btn-default mr-2"
                              routerLink="/fleet/inventory/list"
                            >
                              Cancel
                            </button>

                            <!-- if there is some error in validation  -->
                            <!-- <button *ngIf="!itemID && !inventoryF.form.valid" (click)="addInventory()"
                          class="btn btn-success" [disabled]="!inventoryF.form.valid">Save 1</button> -->

                            <!-- if validations are ok and now the button will disable on submit click  -->
                            <button
                              *ngIf="!itemID"
                              (click)="addInventory()"
                              class="btn btn-success"
                              [disabled]="disableButton()"
                            >
                              Save
                            </button>

                            <!--- update case -->
                            <!-- <button *ngIf="itemID  && !inventoryF.form.valid" (click)="updateInventory()"
                          [disabled]="!inventoryF.form.valid" class="btn btn-success">Update 1</button> -->

                            <button
                              *ngIf="itemID"
                              (click)="updateInventory()"
                              [disabled]="disableButton()"
                              class="btn btn-success"
                            >
                              Update
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group row border-0">
                  <div class="col-lg-12">
                    <!-- <p class="text text-danger" *ngIf="hasError">{{Error}}</p> -->
                    <p class="text text-success" *ngIf="hasSuccess">
                      {{ Success }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </section>
    </section>
  </div>
</section>

<div
  class="modal fade"
  id="warehouseModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="addInventorywarehouseModal"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <form id="warehoseForm" #warehouseForm="ngForm">
        <div class="modal-header">
          <h5 class="modal-title">Add Warehouse</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <i
              class="far fa-window-close modal-dismiss"
              style="font-size: 25px"
            >
            </i>
          </button>
        </div>
        <div class="modal-body text-dark">
          <div class="form-row">
            <div class="form-group col-lg-12">
              <label class="control-label font-weight-bold"
                >Warehouse Name
                <span class="mandfield text-2 ml-1"><sup>*</sup></span></label
              >
              <input
                type="text"
                class="form-control"
                name="warehouseName"
                placeholder="Enter warehouse name"
                [(ngModel)]="warehouseName"
                #aWarehouse="ngModel"
                required
                pattern="^[a-zA-Z0-9\s]+$"
              />
              <div
                *ngIf="
                  aWarehouse.invalid && (aWarehouse.dirty || aWarehouse.touched)
                "
                class="text-danger"
              >
                <div *ngIf="aWarehouse.errors.required">
                  Warehouse name is required.
                </div>
                <div *ngIf="aWarehouse.errors.pattern">
                  Warehouse name must contain alphanumeric characters.
                </div>
              </div>
            </div>
          </div>
          <div class="form-row pt-3 mb-2">
            <div class="form-group col-lg-12">
              <label class="control-label text-4 font-weight-bold"
                >Address</label
              >
              <div class="row">
                <div class="col-lg-6">
                  <label
                    class="control-label font-weight-bold text-lg-right pt-1"
                    >Select Country
                    <span class="mandfield text-2 ml-1"
                      ><sup>*</sup></span
                    ></label
                  >
                  <ng-select
                    data-plugin-selectTwo
                    class="form-control populate"
                    name="countryCode"
                    [(ngModel)]="countryCode"
                    (change)="getStates(countryCode)"
                    placeholder="Select country"
                    #sltI="ngModel"
                    required
                  >
                    <optgroup label="Select Country">
                      <ng-option value="CA">Canada</ng-option>
                      <ng-option value="US">United States</ng-option>
                    </optgroup>
                  </ng-select>
                  <div
                    *ngIf="sltI.invalid && (sltI.dirty || sltI.touched)"
                    class="text-danger"
                  >
                    <div *ngIf="sltI.errors.required">Country is required.</div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <label
                    class="control-label font-weight-bold text-lg-right pt-1"
                    >Select Province/State
                    <span class="mandfield text-2 ml-1"
                      ><sup>*</sup></span
                    ></label
                  >
                  <ng-select
                    data-plugin-selectTwo
                    class="form-control populate"
                    name="stateCode"
                    [(ngModel)]="stateCode"
                    (change)="getCities(countryCode, stateCode)"
                    placeholder="Select Province/State"
                    #sltP="ngModel"
                    required
                  >
                    <optgroup label="Select State">
                      <ng-option
                        *ngFor="let state of states"
                        value="{{ state.stateCode }}"
                        >{{ state.stateName }}</ng-option
                      >
                    </optgroup>
                  </ng-select>
                  <div
                    *ngIf="sltP.invalid && (sltP.dirty || sltP.touched)"
                    class="text-danger"
                  >
                    <div *ngIf="sltP.errors.required">
                      Province/State is required.
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <label
                    class="control-label font-weight-bold text-lg-right pt-2"
                    >Select City
                    <span class="mandfield text-2 ml-1"
                      ><sup>*</sup></span
                    ></label
                  >
                  <ng-select
                    data-plugin-selectTwo
                    class="form-control populate"
                    name="cityName"
                    [(ngModel)]="cityName"
                    placeholder="Select city"
                    #sltC="ngModel"
                    required
                  >
                    <optgroup label="Select City">
                      <ng-option
                        *ngFor="let city of cities"
                        value="{{ city.cityName }}"
                        >{{ city.cityName }}</ng-option
                      >
                    </optgroup>
                  </ng-select>
                  <div
                    *ngIf="sltC.invalid && (sltC.dirty || sltC.touched)"
                    class="text-danger"
                  >
                    <div *ngIf="sltC.errors.required">City is required.</div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <label
                    class="control-label font-weight-bold text-lg-right pt-2"
                    >Zip Code
                    <span class="mandfield text-2 ml-1"
                      ><sup>*</sup></span
                    ></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    name="zipCode"
                    [(ngModel)]="zipCode"
                    placeholder="Enter zip code"
                    #cCode="ngModel"
                    required
                    pattern="^[a-zA-Z0-9\s]+$"
                  />
                  <div
                    *ngIf="cCode.invalid && (cCode.dirty || cCode.touched)"
                    class="text-danger"
                  >
                    <div *ngIf="cCode.errors.required">
                      Zip code is required.
                    </div>
                    <div *ngIf="cCode.errors.pattern">
                      Zip code must contain alphanumeric characters.
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <label
                    class="control-label font-weight-bold text-lg-right pt-1"
                    >Street Address
                    <span class="mandfield text-2 ml-1"
                      ><sup>*</sup></span
                    ></label
                  >
                  <input
                    type="text"
                    class="form-control"
                    name="address"
                    [(ngModel)]="address"
                    placeholder="eg. 01, Business Hub Center "
                    #sAddress="ngModel"
                    required
                  />
                  <div
                    *ngIf="
                      sAddress.invalid && (sAddress.dirty || sAddress.touched)
                    "
                    class="text-danger"
                  >
                    <div *ngIf="sAddress.errors.required">
                      Street Address is required.
                    </div>
                    <!-- <div *ngIf="sAddress.errors.pattern">
                           Street Address must contains uppercase, lowercase, numbers and special characters for period(space,&,-,',') only.
                    </div> -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <!-- <p class="text text-danger" *ngIf="hasError">{{Error}}</p> -->
              <p class="text text-success" *ngIf="hasWarehouseSuccess">
                {{ warehouseSuccess }}
              </p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-success"
            [routerLink]="[]"
            (click)="addWarehouse()"
            [disabled]="!warehouseForm.form.valid"
          >
            Save
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- VIEW DOCUMENT MODAL -->
<div
  class="modal fade"
  id="viewDocModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="viewDocModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="viewDocModalLabel">View Document</h5>
        <button
          type="button"
          (click)="setSrcValue()"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group col-md-12">
            <div>
              <iframe
                [src]="pdfSrc"
                frameborder="0"
                width="100%"
                height="400px"
              >
              </iframe>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-default"
          (click)="setSrcValue()"
          data-dismiss="modal"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
