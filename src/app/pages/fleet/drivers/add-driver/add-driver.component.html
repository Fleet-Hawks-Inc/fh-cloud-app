<section class="body">
   <div class="inner-wrapper">

      <section role="main" class="content-body pt-0 pr-0 pl-0">
         <header class="page-header">
            <div class="row" style="padding-top:10px;">
               <div class="col-md-4 col-lg-4">
                  <h4 class="text-4 mt-0 mb-0 text-dark">{{pageTitle}}</h4>
               </div>
               <div class="col-md-8  col-lg-8 text-right">
                  <a routerLink="/fleet/drivers/list" class="btn btn-sm btn-default"><i class="fas fa-list"></i> Drivers
                     List</a>
               </div>
            </div>
         </header>
         <div class="row text-dark">
            <div class="col pr-0 pb-3 bg-white">
               <form id="driverForm" class="form-horizontal form-bordered bg-white" #driverForm="ngForm"
                  (ngSubmit)="onSubmit()" novalidate>
                  <div class="p-2 pt-4">
                     <ul class="nav nav-tabs top-tabs" id="driver-tabs" role="tablist">
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 1, 'tab-error': hasBasic}" (click)="tabChange(1)"
                              [routerLink]="">Basic Details</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 2}" (click)="tabChange(2)"
                              [routerLink]="">Address</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 3, 'tab-error': hasDocs}" (click)="tabChange(3)"
                              [routerLink]="">Documents Details</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 4, 'tab-error': hasCrossBrdr}" (click)="tabChange(4)"
                              [routerLink]="">Cross Border</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 5, 'tab-error': hasLic}" (click)="tabChange(5)"
                              [routerLink]="">Licence Details</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 6, 'tab-error': hasPay}" (click)="tabChange(6)"
                              [routerLink]="">Payments</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 7, 'tab-error': hasHos}" (click)="tabChange(7)"
                              [routerLink]="">HOS Compliance</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" [ngClass]="{'active': currentTab == 8}" (click)="tabChange(8)"
                              [routerLink]="">Emergency Contact</a>
                        </li>
                     </ul>
                  </div>
                  <div class="card-body pt-0">
                        <div class="tab-content pt-2" id="myTabContent" style="box-shadow:none;border:none;">
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 1}" id="addDriverBasic"
                           role="tabpanel" aria-labelledby="addDriverBasic-tab">
                           <div>
                              <div class="form-group row">
                                 <div class="col-lg-10">
                                    <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Basic
                                       Details</label>
                                 </div>
                                 <div class="col-lg-5 offset-lg-1">
                                    <div class="row">
                                       <div class="col-lg-12 pt-2">
                                          <div class="row">
                                             <div class="col-lg-3">
                                                <label class="control-label font-weight-bold text-lg-right">Driver
                                                   Type:</label>
                                             </div>
                                             <div class="col-lg-6">
                                                <div class="btn-group-toggle" data-toggle="buttons">
                                                   <label class="btn btn-outline btn-fleet mr-2"
                                                      [class.active]="driverData.driverType === 'employee'"
                                                      style="width:110px;" (click)="onChangeUnitType('employee')">
                                                      <input type="radio" [(ngModel)]="driverData.driverType"
                                                         name="driverType" checked hidden value="employee"> Employee
                                                   </label>
                                                   <label class="btn btn-outline btn-fleet mr-2 " style="width:110px;"
                                                      [class.active]="driverData.driverType === 'contractor'"
                                                      (click)="onChangeUnitType('contractor')">
                                                      <input type="radio" [(ngModel)]="driverData.driverType"
                                                         name="driverType" hidden value="contractor"> Contractor
                                                   </label>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-10" id="employeeIDDiv"
                                          *ngIf="driverData.driverType == 'employee'">
                                          <label class="control-label font-weight-bold text-lg-right pt-3">Employee
                                             ID<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <div class="input-group">
                                             <!-- <div class="input-group-prepend">
                                                <span class="input-group-text text-uppercase"
                                                   style="padding:0.2rem 0.75rem">{{prefixOutput}}</span>
                                             </div> -->
                                             <input [disabled]="isEdit" (change)="onChangeHideErrors('employeeContractorId')" [(ngModel)]="driverData.employeeContractorId" name="employeeContractorId" type="text"
                                                class="form-control" placeholder="Enter employee ID of driver">
                                          </div>
                                       </div>
                                       <div class="col-lg-10" id=""
                                          *ngIf="driverData.driverType == 'contractor'">
                                          <label class="control-label font-weight-bold text-lg-right pt-3">Contractor
                                             ID<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <div class="input-group">
                                             <input [(ngModel)]="driverData.employeeContractorId" name="employeeContractorId" type="text"
                                                class="form-control" placeholder="Enter contractor ID of driver">
                                          </div>
                                       </div>
                                       <div class="col-lg-10" id="companyDiv"
                                          *ngIf="driverData.driverType == 'contractor'">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Owner
                                             Operator<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <ng-select [(ngModel)]="driverData.ownerOperator" name="ownerOperator"
                                             class="form-control form-control-sm" placeholder="Select Owner Operator"
                                             (change)="onChangeHideErrors('ownerOperator')">
                                             <ng-option *ngFor="let item of ownerOperators | async"
                                                value="{{item.operatorID}}">{{item.companyName}}</ng-option>
                                          </ng-select>
                                       </div>
                                       <div class="col-lg-2  mar-top-37 pl-0"
                                          *ngIf="driverData.driverType == 'contractor'">
                                          <a data-toggle="modal" data-target="#addOwnerOperatorModal"
                                             href="javascript:;" class="modal-with-form btn cus-btn-padd btn-success"><i
                                                class="fas fa-plus"></i></a>
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Status<span
                                                class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <ng-select [(ngModel)]="driverData.driverStatus" name="driverStatus"
                                             class="form-control form-control-sm" placeholder="Select driver status"
                                             (change)="onChangeHideErrors('driverStatus')">
                                             <ng-option value="Active">Active</ng-option>
                                             <ng-option value="InActive">InActive</ng-option>
                                          </ng-select>
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">User
                                             Name<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input [disabled]="isEdit" (change)="onChangeHideErrors('userName')" [(ngModel)]="driverData.userName" name="userName" type="text"
                                             class="form-control" placeholder="Enter username for the driver">
                                       </div>
                                       <div class="col-lg-10">
                                          <div class="row">
                                             <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                   Name<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.firstName" (change)="onChangeHideErrors('firstName')" name="firstName" type="text"
                                                   class="form-control" placeholder="Enter first name">
                                             </div>
                                             <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Middle
                                                   Name&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="driverData.middleName" name="middleName" type="text"
                                                   class="form-control" placeholder="Enter middle name">
                                             </div>
                                             <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                   Name<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.lastName" (change)="onChangeHideErrors('lastName')" name="lastName" type="text"
                                                   class="form-control" placeholder="Enter last name">
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-10" *ngIf="driverData.driverType != 'contractor'">
                                          <div class="row">
                                             <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Start
                                                   Date<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input (click)="onChangeHideErrors('startDate');d11.toggle()"
                                                   ngbDatepicker #d11="ngbDatepicker" [(ngModel)]="driverData.startDate"
                                                   name="startDate" type="text" class="form-control"
                                                   placeholder="Select start date">
                                             </div>
                                             <div class="col-lg-6">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2">Termination
                                                   Date&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input (click)="d12.toggle()" ngbDatepicker #d12="ngbDatepicker"
                                                   [(ngModel)]="driverData.terminationDate" name="terminationDate"
                                                   type="text" data-plugin-datepicker="" class="form-control"
                                                   placeholder="Select termination date">
                                             </div>
                                          </div>

                                       </div>
                                       <div class="col-lg-10" *ngIf="driverData.driverType === 'contractor'">
                                          <div class="row">
                                             <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2"> Start
                                                   Date<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input (click)="onChangeHideErrors('contractStart');d4.toggle()"
                                                   ngbDatepicker #d4="ngbDatepicker"
                                                   [(ngModel)]="driverData.contractStart" name="contractStart"
                                                   type="text" data-plugin-datepicker="" class="form-control"
                                                   placeholder="Select Date">
                                             </div>
                                             <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2"> End
                                                   Date&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input (click)="d5.toggle()" ngbDatepicker #d5="ngbDatepicker"
                                                   [(ngModel)]="driverData.contractEnd" name="contractEnd" type="text"
                                                   data-plugin-datepicker="" class="form-control"
                                                   placeholder="Select Date">
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-10">
                                          <div class="row">
                                             <div class="col-lg-6">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2">Password<span
                                                      class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.password" name="password" type="text"
                                                   class="form-control" (change)="onChangeHideErrors('password')" placeholder="JohnSmith@123">
                                             </div>
                                             <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Confirm
                                                   Password<span
                                                      class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.confirmPassword" name="confirm password"
                                                   type="text" (change)="onChangeHideErrors('confirmPassword')" class="form-control"
                                                   placeholder="JohnSmith@123">
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-10">
                                          <label
                                             class="control-label font-weight-bold text-lg-right pt-2">Citizenship<span
                                                class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <ng-select [(ngModel)]="driverData.citizenship" name="citizenship"
                                             placeholder="Select the citizenship country of driver"
                                             (change)="onChangeHideErrors('citizenship')">
                                             <ng-option class="text-capitalize" *ngFor="let country of countries"
                                                value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                          </ng-select>
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Assign
                                             Vehicle&nbsp; <span
                                                class="text-1 optional-label-color">(optional)</span></label>
                                          <ng-select [(ngModel)]="driverData.assignedVehicle" name="assignedVehicle"
                                             placeholder="Assign vehicle to driver">
                                             <ng-option *ngFor="let vehicle of vehicles | async;"
                                                value="{{vehicle.vehicleID}}">{{vehicle.vehicleIdentification}}
                                             </ng-option>
                                          </ng-select>
                                       </div>
                                       <div class="col-lg-2  mar-top-37 pl-0">
                                          <a (click)="gotoVehiclePage();" href="javascript:;"
                                             class="btn btn-success cus-btn-padd"><em class="fas fa-plus"></em></a>
                                       </div>
                                       <div class="col-lg-10">
                                          <label
                                             class="control-label font-weight-bold pt-2 font-weight-bold text-lg-right">Group&nbsp;
                                             <span class="text-1 optional-label-color">(optional)</span></label>
                                          <ng-select class="form-control form-control-sm"
                                             [(ngModel)]="driverData.groupID" name="groupID"
                                             placeholder="Select group of which driver will be part of">
                                             <ng-option *ngFor="let group of groups" value="{{group.groupID}}">
                                                {{group.groupName}}</ng-option>
                                          </ng-select>
                                       </div>
                                       <div class="col-lg-1 mar-top-37  pl-0">
                                          <a data-toggle="modal" data-target="#addDriverGroupModal" href="javascript:;"
                                             class="modal-with-form btn cus-btn-padd btn-success">
                                             <em class="fas fa-plus"></em>
                                         </a>
                                        </div>
                                       <div class="col-lg-10">
                                          <label
                                             class="control-label font-weight-bold font-bold text-lg-right pt-2">Attach
                                             Abstract History Document<span
                                                class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input class="form-control p-0" [ngClass]="abstractValid ? 'error' : 'err' "
                                             name="abstractDocs"
                                             (change)="selectDocuments($event, null);onChangeHideErrors('abstractDocs')"
                                             type="file" multiple>
                                          <label class="error" *ngIf="abstractValid">
                                             This Field is required
                                          </label>
                                       </div>
                                       <div class="col-lg-10 mt-2" *ngIf="absDocs.length > 0">
                                          <div class="vehicle-common-box p-3">
                                             <div class="row">
                                                <div class="col-lg-6"><label
                                                      class="control-label font-weight-bold text-3">Abstract History
                                                      Document(s)</label></div>
                                                <div class="col-lg-6 text-right">
                                                </div>
                                             </div>
                                             <hr class="solid mt-2">
                                             <div class="row mb-1" *ngFor="let item of absDocs;let d= index">
                                                <div class="col-lg-9"><a href="javascript:;" data-toggle="modal"
                                                      data-target="#viewDocModal"
                                                      (click)="setPDFSrc(item.path)">Document {{d+1}}</a> </div>
                                                <div class="col-lg-3 text-right">
                                                   <i class="far fa-file text-dak mr-1" (click)="setPDFSrc(item.path)"
                                                      data-toggle="modal" data-target="#viewDocModal"></i>
                                                   <a href="javascript:;" (click)="delete('abs',item.name, d)"
                                                      class="modal-with-form"><i
                                                         class="fas fa-times text-danger"></i></a>
                                                </div>
                                             </div>
                                          </div>
                                       </div>

                                    </div>
                                 </div>
                                 <div class="col-lg-5 offset-lg-1">
                                    <div class="row">
                                       <div class="col-lg-10  text-center">
                                          <div id="male_photo" class="business_image_style position-relative mx-auto"
                                             style="display: block;">
                                             <img [src]="driverProfileSrc" id="male_photo"
                                                  alt="driver image"
                                                  class="w-100 h-100"
                                                  style="object-fit: cover;">
                                             <span class="text-danger profile-cross" (click)="removeProfile()"
                                                *ngIf="uploadedPhotos.length > 0 || showIcons" style="cursor: pointer;">
                                                <em class="fa fa-times"></em>
                                             </span>
                                          </div>
                                          <div class="mt-2">
                                             <div class="btn cus-btn-padd btn-success overflow-hidden position-relative"
                                                style="cursor: pointer;"><em class="fas fa-plus"></em> {{profileTitle}}
                                                Photo
                                                <input (change)="selectPhoto($event)"
                                                   [(ngModel)]="driverData.driverImage" name="driverImage" type="file"
                                                   class="hidden_input1 w-100" />
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-12 pt-3">
                                          <div class="row">
                                             <div class="col-lg-3">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right">Gender:</label>
                                             </div>
                                             <div class="col-lg-2 px-0">
                                                <div class="radio">
                                                   <label>
                                                      <input [(ngModel)]="driverData.gender" name="gender" type="radio"
                                                         id="driver_male" checked="" value="M">
                                                      Male
                                                   </label>
                                                </div>
                                             </div>
                                             <div class="col-lg-3  pr-0">
                                                <div class="radio">
                                                   <label>
                                                      <input [(ngModel)]="driverData.gender" name="gender" type="radio"
                                                         id="driver_female" value="F">
                                                      Female
                                                   </label>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-10">

                                          <label class="control-label font-weight-bold text-lg-right pt-2">Birth
                                             Date<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input (click)="onChangeHideErrors('DOB');d6.toggle()" ngbDatepicker
                                             #d6="ngbDatepicker" [maxDate]="getcurrentDate"
                                             [minDate]="birthDateMinLimit" [(ngModel)]="driverData.DOB" name="DOB"
                                             type="text" data-plugin-datepicker="" class="form-control"
                                             placeholder="Select Birth Date">
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">
                                             Phone<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input [(ngModel)]="driverData.workPhone" name="workPhone" type="text"
                                             class="form-control" (change)="onChangeHideErrors('workPhone')"
                                             placeholder="Enter the official phone number of the driver">
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">
                                             Email<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input [(ngModel)]="driverData.email" name="email" type="text"
                                             class="form-control" (change)="onChangeHideErrors('email')"
                                             placeholder="Enter the official email address of the driver">
                                       </div>

                                      </div>


                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- ADDRESS -->
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 2}" id="addDriverAddress"
                           role="tabpanel" aria-labelledby="addDriverAddress-tab">
                              <div class="row">
                                 <div class="col-lg-10">
                                    <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Address
                                       Details</label>
                                 </div>
                              </div>
                              <div *ngFor="let item of driverData.address; let i = index;" class="address-item">
                                 <div class="form-group row border-bottom-0">
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                Type&nbsp; <span
                                                   class="text-1 optional-label-color">(optional)</span></label>
                                             <ng-select [(ngModel)]="item.addressType" name="address[{{i}}].addressType"
                                                placeholder="Select address type">
                                                <ng-option value="Home">Home</ng-option>
                                                <ng-option value="Maiing Address">Maiing Address</ng-option>

                                             </ng-select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-3">
                                       <label class="control-label font-weight-bold text-lg-right pt-2">Start typing your
                                          location&nbsp; <span
                                             class="text-1 optional-label-color">(optional)</span></label>
                                       <input [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                          (keyup)="searchTerm.next($event);" type="text" class="form-control"
                                          placeholder="Type Address" [disabled]="item.manual">
                                       <div class="checkbox-custom pt-2">
                                          <input [(ngModel)]="item.manual" name="manual{{i}}"
                                             (change)="manAddress($event, i)" type="checkbox">
                                          <label for="man_address">Type Manually</label>
                                       </div>
                                       <div class="map-search__results bg-white">
                                          <ul class="p-0 m-0 text-left">
                                             <li *ngFor="let item of searchResults;">
                                                <a href="javascript:;"
                                                   (click)="userAddress(i, item)">{{item.address.label}}</a>
                                             </li>
                                          </ul>
                                       </div>
                                    </div>
                                    <div class="col-lg-3 mar-top-37 pl-0">
                                       <a class="btn btn-dark cus-btn-padd mr-2" href="javascript:;"
                                          (click)="clearUserLocation(i);">Clear</a>
                                       <button type="button" [disabled]="driverData.address.length == 2" *ngIf="i === 0;" (click)="addAddress();"
                                          class="btn cus-btn-padd btn-success"><i class="fa fa-plus"></i> Add
                                          Another Address</button>
                                       <a *ngIf="i != 0;" (click)="remove('address', i, item.addressID)"
                                          class="btn btn-danger cus-btn-padd" href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                 </div>
                                 <div class="address-inner" *ngIf="item.manual">
                                    <div class="row mb-3 border-bottom pb-4">

                                       <div class="col-lg-5 offset-lg-1 pt-3">
                                          <div class="row">
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                   Country</label>
                                                <ng-select [(ngModel)]="item.countryID" name="countryID{{i}}"
                                                   data-plugin-selectTwo (change)="getStates($event, i)"
                                                   class="form-control populate" placeholder="Select country">

                                                   <ng-option class="text-capitalize"
                                                      *ngFor="let country of addressCountries"
                                                      value="{{country.countryID}}">{{country.countryName}}</ng-option>

                                                </ng-select>
                                             </div>
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                   Province</label>
                                                <ng-select (change)="getCities($event, i)" [(ngModel)]="item.stateID"
                                                   name="stateID{{i}}" placeholder="Select Province">

                                                   <ng-option class="text-capitalize" *ngFor="let state of states"
                                                      value="{{state.stateID}}">{{state.stateName}}</ng-option>

                                                </ng-select>
                                             </div>
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                   City</label>
                                                <ng-select (change)="getCityName(i, $event)" [(ngModel)]="item.cityID"
                                                   name="cityID{{i}}" placeholder="Select city">

                                                   <ng-option class="text-capitalize" *ngFor="let city of cities"
                                                      value="{{city.cityID}}">{{city.cityName}}</ng-option>

                                                </ng-select>
                                             </div>
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                   Code</label>
                                                <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                   class="form-control" placeholder="Enter zipode eg. 7V2 3R4">
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-lg-3 pt-4">
                                          <div class="row">
                                             <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right">Address
                                                   1</label>
                                                <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                   class="form-control" placeholder="Enter street level address">
                                             </div>
                                             <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                   2&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                   class="form-control" placeholder="Enter street level address">
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>

                              </div>
                           </div>
                           <!-- Travel -->
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 3}" id="documents"
                              role="tabpanel" aria-labelledby="documents-tab">
                              <div>
                                 <div class="row">
                                    <div class="col-lg-10">
                                       <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Documents
                                          Details</label>
                                    </div>
                                 </div>
                                 <div class="form-group row" id="document-one"
                                    *ngFor="let document of driverData.documentDetails;let i = index">
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">
                                                Document Type<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select [(ngModel)]="document.documentType"
                                                [attr.name]="'documentDetails['+i+'].documentType'"
                                                [ngModelOptions]="{standalone: true}" placeholder="Select document type"
                                                (change)="onChangeHideErrors('documentDetails['+i+'].documentType')">

                                                <ng-option *ngFor="let documentType of documentTypeList"
                                                   [value]="documentType.code">{{documentType.description}}</ng-option>

                                             </ng-select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5">
                                       <div>
                                          <div class="row">
                                             <div class="col-lg-5">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2">Document#<span
                                                      class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="document.document"
                                                   [attr.name]="'documentDetails['+i+'].document'"
                                                   [ngModelOptions]="{standalone: true}" type="text" class="form-control"
                                                   placeholder="Enter the document number"
                                                   (change)="onChangeHideErrors('documentDetails['+i+'].document')">
                                             </div>
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Issuing
                                                   Authority&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="document.issuingAuthority"
                                                   [attr.name]="'documentDetails['+i+'].issuingAuthority'"
                                                   [ngModelOptions]="{standalone: true}" type="text" class="form-control"
                                                   placeholder="Select licence issuing authority">
                                             </div>
                                             <div class="col-lg-1 mar-top-37 pl-0">
                                                <a href="javascript:;" *ngIf="i != 0;" (click)="remove('document', i)"
                                                   class="btn btn-danger cus-btn-padd"><i class="fa fa-minus"></i></a>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-5">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">
                                                Issuing Country<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select
                                                (change)="onChangeHideErrors('documentDetails['+i+'].issuingCountry');getStates($event)"
                                                [(ngModel)]="document.issuingCountry"
                                                [attr.name]="'documentDetails['+i+'].issuingCountry'"
                                                [ngModelOptions]="{standalone: true}" class="form-control populate"
                                                placeholder="Select the issuing country">

                                                <ng-option class="text-capitalize" *ngFor="let country of countries"
                                                   value="{{country.countryID}}">{{country.countryName}}</ng-option>

                                             </ng-select>
                                          </div>
                                          <div class="col-lg-5">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">
                                                Issuing Province<span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                             </label>
                                             <ng-select
                                                (change)="onChangeHideErrors('documentDetails['+i+'].issuingState');getCities($event)"
                                                [(ngModel)]="document.issuingState"
                                                [attr.name]="'documentDetails['+i+'].issuingState'"
                                                [ngModelOptions]="{standalone: true}" placeholder="Select issuing Province">
                                                <ng-option class="text-capitalize" *ngFor="let state of states"
                                                   value="{{state.stateID}}">{{state.stateName}}</ng-option>

                                             </ng-select>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5">
                                       <div class="row">
                                          <div class="col-5">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">
                                                Issue Date<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="document.issueDate"
                                                (click)="onChangeHideErrors('documentDetails['+i+'].issueDate');d.toggle()"
                                                ngbDatepicker #d="ngbDatepicker" type="text" class="form-control"
                                                [maxDate]="getcurrentDate" [minDate]="birthDateMinLimit"
                                                placeholder="Select issued date of the document"
                                                [attr.name]="'documentDetails['+i+'].issueDate'"
                                                [ngModelOptions]="{standalone: true}">
                                          </div>
                                          <div class="col-5" *ngIf="document.documentType != 'BCN'">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Expiry
                                                Date<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="document.expiryDate"
                                                [attr.name]="'documentDetails['+i+'].expiryDate'"
                                                [ngModelOptions]="{standalone: true}"
                                                (click)="onChangeHideErrors('documentDetails['+i+'].expiryDate');d1.toggle()"
                                                ngbDatepicker #d1="ngbDatepicker"
                                                placeholder="Select expiry date of the document"
                                                [maxDate]="futureDatesLimit" [minDate]="getcurrentDate" type="text"
                                                class="form-control">
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label
                                                class="control-label font-weight-bold font-bold text-lg-right pt-2">Attach
                                                Document</label>
                                             <input class="form-control p-0" name="document.uploadedDocs{{i}}"
                                                (change)="selectDocuments($event, i)" type="file" multiple>
                                          </div>
                                          <div class="col-lg-10 mt-2" *ngIf="assetsDocs[i]">
                                             <div class="vehicle-common-box p-3">
                                                <div class="row">
                                                   <div class="col-lg-6"><label
                                                         class="control-label font-weight-bold text-3">Document(s)</label>
                                                   </div>
                                                   <div class="col-lg-6 text-right">
                                                   </div>
                                                </div>
                                                <hr class="solid mt-2">
                                                <div class="row mb-1" *ngFor="let doc of assetsDocs[i];let d= index">
                                                   <div class="col-lg-9"><a href="javascript:;" data-toggle="modal"
                                                         data-target="#viewDocModal" (click)="setPDFSrc(doc.path)">Document
                                                         {{d+1}}</a> </div>
                                                   <div class="col-lg-3 text-right">
                                                      <i class="far fa-file text-dak mr-1" (click)="setPDFSrc(doc.path)"
                                                         data-toggle="modal" data-target="#viewDocModal"></i>
                                                      <a href="javascript:;" (click)="delete('doc',doc.name, i)"
                                                         class="modal-with-form"><i
                                                            class="fas fa-times text-danger"></i></a>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 align-self-end">
                                       <div class="row">
                                          <div class="col-5"></div>
                                          <div class="col-5 text-right">
                                             <button type="button" [disabled]="driverData.documentDetails.length == 3" *ngIf="i === 0;" (click)="addDocument()"
                                                id="add-document" class="btn btn-success cus-btn-padd"><i class="fa fa-plus"></i> Add
                                                Another Document</button>
                                          </div>
                                       </div>

                                    </div>

                                 </div>
                              </div>
                           </div>
                           <!--    CROSS BORDER -->
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 4}"
                              id="addDriverCrossBorder" role="tabpanel" aria-labelledby="addDriverCrossBorder-tab">
                              <div>
                                 <div class="row">
                                    <div class="col-lg-10">
                                       <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Cross Border
                                          Details</label>
                                    </div>
                                 </div>
                                 <div class="form-group row" id="document-one">
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-5">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">ACI ID&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.crossBorderDetails.ACI_ID"
                                                name="crossBorderDetails.ACI_ID" type="text" class="form-control"
                                                placeholder="Enter ACI ID of the driver">
                                          </div>
                                          <div class="col-lg-5">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">ACE ID&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.crossBorderDetails.ACE_ID"
                                                name="crossBorderDetails.ACE_ID" type="text" class="form-control"
                                                placeholder="Enter the ACE Id of the driver">
                                          </div>
                                       </div>
                                       <div class="row pt-2">
                                          <div class="col-lg-10">
                                             <div class="checkbox-custom pt-2">
                                                <input [(ngModel)]="driverData.crossBorderDetails.csa"
                                                   name="crossBorderDetails.csa" type="checkbox" name="terms">
                                                <label for="csa">CSA</label>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div>
                                          <div class="row">
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">FASTCard# <i
                                                      class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="14 digits,beginning with 4270 or 4110 and ending with 00 or 01 or 02"></i>&nbsp;
                                                   <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="driverData.crossBorderDetails.fast_ID"
                                                   name="crossBorderDetails.fast_ID" type="text" class="form-control"
                                                   placeholder="Enter the fast card number of the driver">
                                             </div>
                                             <div class="col-lg-5">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">FAST
                                                   Expiry&nbsp; <span
                                                      class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="driverData.crossBorderDetails.fastExpiry"
                                                   name="crossBorderDetails.fastExpiry" (click)="d2.toggle()" ngbDatepicker
                                                   #d2="ngbDatepicker" type="text" class="form-control"
                                                   placeholder="Enter fast expiry date">
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 5}" id="licence"
                              role="tabpanel" aria-labelledby="payment-tab">
                              <div class="form-group row">
                                 <div class="col-lg-6">
                                    <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Licence
                                       Details</label>
                                 </div>
                                 <div class="col-lg-6">
                                    <label class="control-label font-weight-bold text-lg-right text-5 pt-2">WCB
                                       Details</label>
                                 </div>
                                 <div class="col-lg-5 offset-lg-1">
                                    <div class="row align-items-center">
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">CDL#<span
                                                class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input [(ngModel)]="driverData.licenceDetails.CDL_Number"
                                             name="licenceDetails.CDL_Number" type="text" class="form-control"
                                             placeholder="Enter CDL(Commercial Driving Licence) number"
                                             (change)="onChangeHideErrors('CDL_Number')">
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Licence
                                             Expiration<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <input (click)="onChangeHideErrors('licenceDetails.licenceExpiry');d3.toggle()"
                                             ngbDatepicker #d3="ngbDatepicker"
                                             [(ngModel)]="driverData.licenceDetails.licenceExpiry"
                                             name="licenceDetails.licenceExpiry" [maxDate]="futureDatesLimit"
                                             [minDate]="getcurrentDate" type="text" class="form-control"
                                             placeholder="Select Date">
                                       </div>
                                       <div class="col-lg-10 pt-2">
                                          <input type="checkbox"
                                             [(ngModel)]="driverData.licenceDetails.licenceNotification"
                                             name="licenceDetails.licenceNotification"> Send notification (Before 30 days
                                          of expiration)

                                       </div>
                                    </div>
                                    <div class="row">
                                       <div class="col-lg-5">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Issued
                                             Country<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <ng-select
                                             (change)="onChangeHideErrors('licenceDetails.issuedCountry');getStates($event)"
                                             [(ngModel)]="driverData.licenceDetails.issuedCountry"
                                             placeholder="Select country" name="licenceDetails.issuedCountry"
                                             class="form-control populate">

                                             <ng-option class="text-capitalize" *ngFor="let country of addressCountries"
                                                value="{{country.countryID}}">{{country.countryName}}</ng-option>

                                          </ng-select>
                                       </div>
                                       <div class="col-lg-5">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Issued
                                             Province<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                          <ng-select [(ngModel)]="driverData.licenceDetails.issuedState"
                                             name="licenceDetails.issuedState" placeholder="Select Province"
                                             (change)="onChangeHideErrors('licenceDetails.issuedState');getCities($event)">

                                             <ng-option class="text-capitalize" *ngFor="let state of states"
                                                value="{{state.stateID}}">{{state.stateName}}</ng-option>

                                          </ng-select>
                                       </div>



                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Select Vehicle
                                             Type&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                          <ng-select [(ngModel)]="driverData.licenceDetails.vehicleType"
                                             name="licenceDetails.vehicleType" placeholder="Select licence type of driver">

                                             <ng-option value="Heavy Vehicle">Heavy Vehicle</ng-option>
                                             <ng-option value="Light Vehicle">Light Vehicle</ng-option>

                                          </ng-select>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-lg-5 offset-lg-1">

                                    <div class="row">
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">WCB#&nbsp; <span
                                                class="text-1 optional-label-color">(optional)</span></label>
                                          <input [(ngModel)]="driverData.licenceDetails.WCB" name="licenceDetails.WCB"
                                             type="text" class="form-control"
                                             placeholder="Enter WCB(Workers Compensation Board) number of driver">
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Medical Card
                                             Renewal&nbsp; <span
                                                class="text-1 optional-label-color">(optional)</span></label>
                                          <input (click)="d7.toggle()" ngbDatepicker #d7="ngbDatepicker"
                                             [(ngModel)]="driverData.licenceDetails.medicalCardRenewal"
                                             name="licenceDetails.medicalCardRenewal" type="text" data-plugin-datepicker=""
                                             class="form-control" placeholder="Select Date">
                                       </div>
                                       <div class="col-lg-10">
                                          <label class="control-label font-weight-bold text-lg-right pt-2">Health
                                             Care#&nbsp; <span
                                                class="text-1 optional-label-color">(optional)</span></label>
                                          <input [(ngModel)]="driverData.licenceDetails.healthCare"
                                             name="licenceDetails.healthCare" type="text" class="form-control"
                                             placeholder="Enter health care number of the driver">
                                       </div>

                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- Payment -->
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 6}" id="payment"
                              role="tabpanel" aria-labelledby="payment-tab">
                              <div>
                                 <div class="form-group row">
                                    <div class="col-lg-10">
                                       <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Payment
                                          Details</label>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Default
                                                Payment Type<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select [(ngModel)]="driverData.paymentDetails.paymentType"
                                                name="paymentDetails.paymentType" placeholder="Select the payment type"
                                                id="paymentTypeForm"
                                                (change)="onChangeHideErrors('paymentDetails.paymentType');changePaymentModeForm($event)">
                                                <ng-option value="Pay Per Mile">Pay Per Mile</ng-option>
                                                <ng-option value="Percentage">Percentage</ng-option>
                                                <ng-option value="Pay Per Hour">Pay Per Hour</ng-option>
                                                <ng-option value="Pay Per Delivery">Pay Per Delivery</ng-option>
                                             </ng-select>
                                          </div>
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">SIN <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input (change)="onChangeHideErrors('paymentDetails.SIN_Number')"
                                                [(ngModel)]="driverData.paymentDetails.SIN_Number"
                                                name="paymentDetails.SIN_Number" type="text" class="form-control"
                                                placeholder="Enter the SIN (Social Insurance Number)">
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row" id="payPerHourForm"
                                          *ngIf="driverData.paymentDetails.paymentType == 'Pay Per Hour'">
                                          <div class="col-lg-4">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Rate<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="driverData.paymentDetails.rate" name="paymentDetails.rate"
                                                type="text" class="form-control" placeholder="eg. 30,35 etc.">
                                          </div>
                                          <div class="col-lg-6">
                                             <label class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                             <ng-select class="mt-2" [(ngModel)]="driverData.paymentDetails.rateUnit"
                                                name="paymentDetails.rateUnit" placeholder="Select Currency">

                                                <ng-option value="CAD">CAD</ng-option>
                                                <ng-option value="USD">USD</ng-option>
                                             </ng-select>
                                          </div>
                                          <div class="col-lg-4">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Waiting
                                                period Pay<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="driverData.paymentDetails.waitingPay"
                                                name="paymentDetails.waitingPay" type="text" class="form-control"
                                                placeholder="eg. 30,35 etc.">
                                          </div>
                                          <div class="col-lg-6">
                                             <label class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                             <ng-select class="mt-2" [(ngModel)]="driverData.paymentDetails.waitingPayUnit"
                                                name="paymentDetails.waitingPayUnit" placeholder="Select Currency">

                                                <ng-option value="CAD">CAD</ng-option>
                                                <ng-option value="USD">USD</ng-option>
                                             </ng-select>
                                          </div>
                                          <div class="col-lg-4">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Waiting hour
                                                start after<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="driverData.paymentDetails.waitingHourAfter"
                                                name="paymentDetails.waitingHourAfter" type="text" class="form-control"
                                                placeholder="eg. 2, 3 or 4 etc.">
                                          </div>

                                       </div>
                                       <div class="row" id="payPerHourForm"
                                          *ngIf="driverData.paymentDetails.paymentType == 'Pay Per Delivery'">
                                          <div class="col-lg-4">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Delivery
                                                Rate<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <input [(ngModel)]="driverData.paymentDetails.deliveryRate"
                                                name="paymentDetails.deliveryRate" type="text" class="form-control"
                                                placeholder="eg. 30,35 etc.">
                                          </div>
                                          <div class="col-lg-6">
                                             <label class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                             <ng-select class="mt-2"
                                                [(ngModel)]="driverData.paymentDetails.deliveryRateUnit"
                                                name="paymentDetails.deliveryRateUnit" placeholder="Select Currency">

                                                <ng-option value="CAD">CAD</ng-option>
                                                <ng-option value="USD">USD</ng-option>
                                             </ng-select>
                                          </div>
                                       </div>
                                       <div class="row" id="payPercentageForm"
                                          *ngIf="driverData.paymentDetails.paymentType == 'Percentage'">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Load Pay
                                                Percent<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <div class="row">
                                                <div class="col-lg-3">
                                                   <input [(ngModel)]="driverData.paymentDetails.loadPayPercentage"
                                                      name="paymentDetails.loadPayPercentage" type="text"
                                                      class="form-control" placeholder="eg. 5,6 etc."
                                                      (change)="onChangeHideErrors('paymentDetails.loadPayPercentage')">
                                                </div>
                                                <div class="col-lg-2 px-0">
                                                   <label class="font-weight-bold">%</label>
                                                   <label class="font-weight-bold pull-right">of</label>
                                                </div>
                                                <div class="col-lg-7">
                                                   <ng-select [(ngModel)]="driverData.paymentDetails.loadPayPercentageOf"
                                                      name="paymentDetails.loadPayPercentageOf"
                                                      placeholder="Select the percentage type of"
                                                      (change)="onChangeHideErrors('paymentDetails.loadPayPercentageOf')">

                                                      <ng-option value="Freight Fees">Freight Fees</ng-option>
                                                      <ng-option value="Freight + Fuel Surcharge">Freight + Fuel Surcharge
                                                      </ng-option>
                                                      <ng-option value="Total Income">Total Income</ng-option>

                                                   </ng-select>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                       <div>
                                          <div class="row" id="payPerMileForm"
                                             *ngIf="driverData.paymentDetails.paymentType == 'Pay Per Mile'"
                                             style="display: flex;">
                                             <div class="col-lg-3 pr-0">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Loaded
                                                   Miles<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.paymentDetails.loadedMiles"
                                                   name="paymentDetails.loadedMiles" type="text" class="form-control"
                                                   placeholder="Loaded miles rate">
                                             </div>
                                             <div class="col-lg-2 ">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                                <ng-select class="mt-2"
                                                   [(ngModel)]="driverData.paymentDetails.loadedMilesUnit"
                                                   name="paymentDetails.loadedMilesUnit" placeholder="Select Currency"
                                                   (change)="onChangeHideErrors('paymentDetails.loadedMilesUnit')">

                                                   <ng-option value="CAD">CAD</ng-option>
                                                   <ng-option value="USD">USD</ng-option>
                                                </ng-select>
                                             </div>
                                             <div class="col-lg-3 pr-0">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Empty
                                                   Miles<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="driverData.paymentDetails.emptyMiles"
                                                   name="paymentDetails.emptyMiles" type="text" class="form-control"
                                                   placeholder="Empty miles rate">
                                             </div>
                                             <div class="col-lg-2 ">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                                <ng-select class="mt-2"
                                                   [(ngModel)]="driverData.paymentDetails.emptyMilesUnit"
                                                   name="paymentDetails.emptyMilesUnit" placeholder="Select Currency"
                                                   (change)="onChangeHideErrors('paymentDetails.emptyMilesUnit')">
                                                   <ng-option value="CAD">CAD</ng-option>
                                                   <ng-option value="USD">USD</ng-option>
                                                </ng-select>
                                             </div>

                                             <div class="col-lg-3 pr-0">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Loaded
                                                   Miles (Team) </label>
                                                <input [(ngModel)]="driverData.paymentDetails.loadedMilesTeam"
                                                   name="paymentDetails.loadedMilesTeam" type="text" class="form-control"
                                                   placeholder="Loaded miles rate">
                                             </div>
                                             <div class="col-lg-2">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                                <ng-select class="mt-2"
                                                   [(ngModel)]="driverData.paymentDetails.loadedMilesTeamUnit"
                                                   name="paymentDetails.loadedMilesTeamUnit" placeholder="Select Currency">

                                                   <ng-option value="CAD">CAD</ng-option>
                                                   <ng-option value="USD">USD</ng-option>
                                                </ng-select>
                                             </div>
                                             <div class="col-lg-3 pr-0">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Empty
                                                   Miles (Team)</label>
                                                <input [(ngModel)]="driverData.paymentDetails.emptyMilesTeam"
                                                   name="paymentDetails.emptyMilesTeam" type="text" class="form-control"
                                                   placeholder="Empty miles rate">
                                             </div>
                                             <div class="col-lg-2">
                                                <label
                                                   class="control-label font-weight-bold text-lg-right pt-2 mt-1"></label>
                                                <ng-select class="mt-2"
                                                   [(ngModel)]="driverData.paymentDetails.emptyMilesTeamUnit"
                                                   name="paymentDetails.emptyMilesTeamUnit" placeholder="Select Currency">

                                                   <ng-option value="CAD">CAD</ng-option>
                                                   <ng-option value="USD">USD</ng-option>
                                                </ng-select>
                                             </div>
                                          </div>
                                          <div class="row">
                                             <div class="col-lg-10">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Pay
                                                   Period<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <ng-select [(ngModel)]="driverData.paymentDetails.payPeriod"
                                                   name="paymentDetails.payPeriod"
                                                   placeholder="Select pay period of the driver"
                                                   (change)="onChangeHideErrors('paymentDetails.payPeriod')">

                                                   <ng-option value="Weekly">Weekly</ng-option>
                                                   <ng-option value="Biweekly">Biweekly</ng-option>
                                                   <ng-option value="Monthly">Monthly</ng-option>
                                                   <ng-option value="Quaterly">Quaterly</ng-option>
                                                   <ng-option value="Annually">Annually</ng-option>
                                                </ng-select>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 7}" id="Driverhos"
                              role="tabpanel" aria-labelledby="Driverhos-tab">
                              <div>
                                 <div class="form-group row">
                                    <div class="col-lg-10">
                                       <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Compliance
                                          Details</label>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label
                                                class="control-label font-weight-bold font-weight-bold text-lg-right pt-2">Status<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select [(ngModel)]="driverData.hosDetails.hosStatus"
                                                (change)="complianceChange($event);onChangeHideErrors('hosDetails.hosStatus')" name="hosDetails.hosStatus"
                                                class="form-control populate"
                                                placeholder="Select exemption status of the driver">

                                                <ng-option value="Non Exempted">Non Exempted</ng-option>
                                                <ng-option value="Exempted">Exempted</ng-option>

                                             </ng-select>
                                          </div>
                                          <div class="col-lg-10">
                                             <label
                                                class="control-label font-weight-bold font-weight-bold text-lg-right pt-2">Write
                                                Remarks if driver is Exempted.&nbsp; <span
                                                   class="text-1 optional-label-color">(optional)</span></label>
                                             <textarea style="height: unset !important;"
                                                [(ngModel)]="driverData.hosDetails.hosRemarks" name="hosDetails.hosRemarks"
                                                class="form-control" rows="4"
                                                placeholder=" Enter remarks for the exempted driver"></textarea>
                                          </div>
                                          <div class="col-lg-5 pt-3"
                                             *ngIf="driverData.hosDetails.hosStatus == 'Non Exempted'">
                                             <div class="checkbox-custom">
                                                <input [(ngModel)]="driverData.hosDetails.pcAllowed"
                                                   name="hosDetails.pcAllowed" type="checkbox">
                                                <label class="control-label font-weight-bold">Allow Personal Conveyance
                                                   (PC)</label>
                                             </div>
                                          </div>
                                          <div class="col-lg-5 pt-3"
                                             *ngIf="driverData.hosDetails.hosStatus == 'Non Exempted'">
                                             <div class="checkbox-custom">
                                                <input [(ngModel)]="driverData.hosDetails.ymAllowed"
                                                   name="hosDetails.ymAllowed" type="checkbox">
                                                <label class="control-label font-weight-bold">Allow Yard Move (YM)</label>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Type<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select
                                                [(ngModel)]="driverData.hosDetails.type" name="hosDetails.type"
                                                (change)="onChangeHideErrors('hosDetails.type')"
                                                placeholder="Select the record keeping type">

                                                <ng-option *ngIf="driverData.hosDetails.hosStatus == 'Non Exempted'"
                                                   value="ELD">ELD</ng-option>
                                                <ng-option *ngIf="driverData.hosDetails.hosStatus == 'Exempted'"
                                                   value="Log Book">Log Book</ng-option>

                                             </ng-select>
                                          </div>
                                          <div class="col-lg-10" *ngIf="driverData.hosDetails.hosStatus == 'Non Exempted'">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Cycle<span
                                                   class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select [(ngModel)]="driverData.hosDetails.hosCycle"
                                                name="hosDetails.hosCycle"
                                                (change)="onChangeHideErrors('hosDetails.hosCycle')"
                                                class="form-control populate"
                                                placeholder="Select the cycle for the driver">

                                                <ng-option class="text-capitalize" *ngFor="let cycle of cycles"
                                                   value="{{cycle.cycleID}}">{{cycle.cycleName}}</ng-option>

                                             </ng-select>
                                          </div>
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Home
                                                Terminal<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                             <ng-select [(ngModel)]="driverData.hosDetails.homeTerminal"
                                                name="hosDetails.homeTerminal" class="form-control populate"
                                                (change)="onChangeHideErrors('hosDetails.homeTerminal')"
                                                placeholder="Select home terminal of the driver">

                                                <ng-option class="text-capitalize" *ngFor="let yard of carrierYards"
                                                   value="{{yard.addressID}}">
                                                   <div *ngIf="yard.manual">
                                                      {{ yard.address1 }} {{ yard.address2}}, {{ yard.cityName }}, {{
                                                      yard.stateName }}, {{ yard.countryName }}
                                                   </div>
                                                   <div *ngIf="!yard.manual">
                                                      {{ yard.userLocation }}
                                                   </div>
                                                </ng-option>

                                             </ng-select>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="tab-pane fade" [ngClass]="{'active show': currentTab == 8}" id="emergency"
                              role="tabpanel" aria-labelledby="emergency-tab">
                              <div>
                                 <div class="form-group row">
                                    <div class="col-lg-10">
                                       <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Emergency
                                          Contact Details</label>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Name&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.emergencyDetails.name" name="name" type="text"
                                                class="form-control" placeholder="Enter the emergency contact name">
                                          </div>
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Phone&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.emergencyDetails.phone"
                                                name="emergencyDetails.phone" type="text" class="form-control"
                                                placeholder="Enter emergency contact phone number">
                                          </div>
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Address&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <textarea [(ngModel)]="driverData.emergencyDetails.emergencyAddress"
                                                name="emergencyDetails.emergencyAddress" class="form-control h-auto" rows="3"
                                                placeholder="Enter emegency contact person's address"></textarea>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                       <div class="row">
                                          <div class="col-lg-10">
                                             <label
                                                class="control-label font-weight-bold text-lg-right pt-2">Relationship&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.emergencyDetails.relationship"
                                                name="emergencyDetails.relationship" type="text" class="form-control"
                                                placeholder="Enter the relationship with driver">
                                          </div>
                                          <div class="col-lg-10">
                                             <label class="control-label font-weight-bold text-lg-right pt-2">Email&nbsp;
                                                <span class="text-1 optional-label-color">(optional)</span></label>
                                             <input [(ngModel)]="driverData.emergencyDetails.email"
                                                name="emergencyDetails.email" type="text" class="form-control"
                                                placeholder="Enter the email address">
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>


                     <div class="form-group row mt-3">
                        <div class="col-lg-12 text-right pb-4 pr-5">
                           <a type="button" (click)="cancel()" class="btn cus-btn-padd btn-default btnPrevious mr-2">Cancel</a>
                           <button type="button" *ngIf="currentTab > 1" (click)="prevStep()"
                              class="btn btn-default btnPrevious cus-btn-padd mr-2">Prev</button>
                           <a href="javascript:;" (click)="nextStep()" *ngIf="currentTab != 8"
                              class="btn btn-success cus-btn-padd btnNext">Save & Next</a>
                           <button type="submit" *ngIf="currentTab == 8 && !driverID" class="cus-btn-padd btn btn-success">Save</button>
                           <a href="javascript:;" *ngIf="currentTab == 8 && driverID" (click)="updateDriver()"
                              class="btn cus-btn-padd btn-success">Update</a>

                        </div>
                     </div>
               </form>
            </div>
         </div>
      </section>

      <div class="modal fade" id="addDriverGroupModal" tabindex="-1" role="dialog" aria-labelledby="addDriverGroupModal"
         aria-hidden="true" data-keyboard="false" data-backdrop="static">
         <div class="modal-dialog" style="max-width: 600px;" role="document">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title">Add Group</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeGroupModal()">
                     <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                  </button>
               </div>
               <div class="modal-body text-dark">
                  <div class="card-body p-0">
                     <form id="groupForm1" class="form-horizontal form-bordered bg-white" method="get" name="form">
                        <div class="form-row">
                           <div class="form-group col-lg-12 mb-0">
                              <label class="control-label font-weight-bold">Group Name</label>
                              <input [(ngModel)]="groupData.groupName" name="groupName" type="text" class="form-control"
                                 placeholder="Enter group name">
                           </div>
                           <div class="form-group col-lg-12">
                              <label class="control-label font-weight-bold">Group Members&nbsp;<span
                                    class="text-1 optional-label-color">(optional)</span></label>
                              <ng-select [multiple]=true [(ngModel)]="groupData.groupMembers" name="groupMembers"
                                 style="width: 100%;" placeholder="Select group members">
                                 <ng-option *ngFor="let item of allDrivers;" value={{item.driverID}}>{{item.firstName}}
                                    {{item.lastname}}</ng-option>
                              </ng-select>
                           </div>
                        </div>
                        <div class="form-row">
                           <div class="form-group col-lg-12">
                              <div class="row">
                                 <div class="col-lg-12">
                                    <label
                                       class="control-label font-weight-bold text-lg-right pt-2">Description&nbsp;<span
                                          class="text-1 optional-label-color">(optional)</span></label>
                                    <textarea [(ngModel)]="groupData.description" name="description"
                                       class="form-control h-auto" rows="4" placeholder="Enter group description"></textarea>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </form>
                  </div>
               </div>
               <div class="modal-footer text-right">
                  <a class="btn btn-default modal-dismiss" (click)="closeGroupModal()" data-dismiss="modal">Cancel</a>
                  <a href="javascript:;" class="btn btn-success" (click)="addGroup()">Save</a>
               </div>
            </div>
         </div>
      </div>

   </div>
</section>

<!-- VIEW DOCUMENT MODAL -->
<div class="modal fade" id="viewDocModal" tabindex="-1" role="dialog" aria-labelledby="viewDocModalLabel"
   aria-hidden="true">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="viewDocModalLabel">View Document</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <div class="form-row">
               <div class="form-group col-md-12">
                  <div>
                     <iframe [src]='pdfSrc' title="" width="100%" height="400px"> </iframe>

                  </div>
               </div>
            </div>

         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
         </div>
      </div>
   </div>
</div>
