<section class="body">
   <div class="inner-wrapper">
      <section role="main" class="content-body pt-0 pr-0 pl-1">
         <header class="page-header pr19 pl11">
            <div class="row" style="padding-top:10px;">


               <div class="col-md-2 col-lg-2 pr-0">
                  <ng-select [(ngModel)]="entityID" name="entityID" style="width: 100% !important;"
                     placeholder="Search By vehicle">
                     <ng-option *ngFor="let data of empName | keyvalue" value="{{ data.key }}"> {{ data.value }}
                     </ng-option>
                  </ng-select>
               </div>

               <div class="col-md-2 col-lg-2 pr-0">
                  <ng-select [(ngModel)]="searchServiceTask" name="searchServiceTask" style="width: 100% !important;"
                     placeholder="Search By vehicle">
                     <ng-option *ngFor="let data of tasks | keyvalue" value="{{ data.key }}"> {{ data.value }}
                     </ng-option>
                  </ng-select>
               </div>

               <!-- <div class="col-md-2 col-lg-2 pr-0">
                  <div class="input-group input-group-sm mb-3">
                     <select data-plugin-selectTwo class="form-control populate">
                        <optgroup label="">
                           <option value="1">Select Reminders Status</option>
                           <option value="2">All</option>
                           <option value="2">Overdue</option>
                           <option value="2">Due Soon</option>
                        </optgroup>
                     </select>
                  </div>
               </div> -->

               <div class="col-md-2 col-lg-2">
                  <button type="button" (click)="searchData()" class="btn btn-sm btn-success mr-3">Search</button>
                  <button class="btn btn-sm btn-success" type="button" (click)="resetData()">Reset</button>
               </div>

               <div class="col-md-6 col-lg-6 text-right pr-1">
                  <div class="btn-group flex-wrap ml-2">
                     <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown"
                        aria-expanded="false"><i class="fas fa-upload"></i> Export<span class="caret"></span></button>
                     <div class="dropdown-menu" role="menu" x-placement="bottom-start"
                        style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                        <a class="dropdown-item text-1" href="" (click)=" generateCSV()">CSV</a>
                     </div>
                  </div>
               </div>
            </div>
         </header>

         <div class="m-2">
            <div class="row text-dark">
               <div class="col-12 mb-3">
                  <div class="bg-white p-3">
                     <div class="row text-dark">
                        <div class="col-12">
                           <div>
                              <h4 class="mt-1 mb-0 font-weight-bold">Contact Renewals Reports</h4>
                           </div>
                        </div>

                     </div>
                  </div>
               </div>

               <div class="col-6 mb-3">
                  <div class="bg-white p-3">
                     <div>
                        <h4 class="m-0 text-4">Total Contacts</h4>
                        <h3 class="mt-1 mb-0 font-weight-bold">{{count.total}}</h3>
                     </div>
                  </div>
               </div>
               <div class="col-6 mb-3">
                  <div class="bg-white p-3">
                     <div>
                        <h4 class="m-0 text-4">Total Contact Renewal</h4>
                        <h3 class="mt-1 mb-0 font-weight-bold">{{count.taskID}}</h3>
                     </div>
                  </div>
               </div>

               <div class="col">
                  <div class="card">
                     <div class="card-body bor-radius0px">
                        <section class="reports_div">
                           <table class="table reports_small_div">
                              <thead>
                                 <tr class="back-color-gray">
                                    <th>Contact</th>
                                    <th>Contact Renewal Type</th>
                                    <th>Send Reminder</th>
                                    <th>Expiration Date</th>
                                    <th>Subscribers</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr *ngIf="empData.length == 0" class="text-center">
                                    <td colspan="6">{{dataMessage}}</td>
                                 </tr>
                                 <tr *ngFor="let item of empData">
                                    <td>{{empName[item.entityID]}}</td>
                                    <td>{{tasks[item.tasks.taskID]}}</td>
                                    <td>{{item.tasks.time}}
                                       {{item.tasks.timeUnit}}(s)</td>
                                    <td>{{item.tasks.dueDate | date:'yyyy/MM/dd'}}</td>
                                    <td>{{item.subscribers}}</td>
                              </tbody>
                           </table>
                        </section>
                     </div>
                  </div>

               </div>
            </div>
         </div>
      </section>
   </div>
</section>