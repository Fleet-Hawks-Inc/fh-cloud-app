<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pt-0 pr-0">
      <header class="page-header pr19 pl11">
        <div class="row" style="padding-top: 10px">
          <div class="col-md-2 col-lg-2 pr-0">
            <div class="mb-3">
              <ng-select
                data-plugin-selectTwo
                class="form-control populate"
                [(ngModel)]="company"
                name="company"
                placeholder="Select company"
              >
                <ng-option
                  *ngFor="let item of addressBookList"
                  value="{{ item.cName }}"
                  >{{ item.cName }}</ng-option
                >
              </ng-select>
            </div>
          </div>

          <div class="col-md-2 col-lg-2 pl-2 pr-0">
            <div class="mb-3">
              <ng-select
                data-plugin-selectTwo
                class="form-control populate"
                [(ngModel)]="type"
                name="type"
                placeholder="Select Type"
              >
                <ng-option value="broker">Broker</ng-option>
                <ng-option value="carrier">Carrier</ng-option>
                <ng-option value="receiver">Receiver</ng-option>
                <ng-option value="shipper">Shipper</ng-option>
                <ng-option value="customer">Customer</ng-option>
                <ng-option value="fc">Factoring Company</ng-option>
                <ng-option value="owner_operator">Owner Operator</ng-option>
                <ng-option value="vendor">Vendor</ng-option>
              </ng-select>
            </div>
          </div>

          <div class="col-md-2 col-lg-2 pl-2">
            <button
              type="submit"
              class="btn btn-sm btn-success mr-2"
              (click)="searchFilter()"
            >
              Search
            </button>
            <button
              class="btn btn-sm btn-success"
              (click)="resetFilter()"
              type="submit"
            >
              Reset
            </button>
          </div>

          <div class="col-md-6 col-lg-6 text-right pr-1">
            <div class="btn-group flex-wrap ml-4">
              <button
                type="button"
                class="btn btn-success btn-xs dropdown-toggle"
                data-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fas fa-upload"></i> Export <span class="caret"></span>
              </button>
              <div
                class="dropdown-menu"
                role="menu"
                x-placement="bottom-start"
                style="
                  position: absolute;
                  will-change: transform;
                  top: 0px;
                  left: 0px;
                  transform: translate3d(0px, 38px, 0px);
                "
              >
                <a
                  class="dropdown-item text-1 cursorpoint"
                  (click)="requiredCSV()"
                  >CSV</a
                >
              </div>
            </div>
          </div>
        </div>
      </header>

      <div class="m-2">
        <div class="row text-dark">
          <div class="col-12 mb-2">
            <div class="bg-white p-3">
              <div class="row text-dark">
                <div class="col-12">
                  <div>
                    <h4 class="mt-1 mb-0 font-weight-bold">
                      Customer Information
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col">
            <div class="card">
              <div class="card-body p-2 bor-radius0px">
                <div>
                  <section class="reports_div">
                    <div
                      infiniteScroll
                      [infiniteScrollDistance]="1"
                      [infiniteScrollUpDistance]="1"
                      [infiniteScrollThrottle]="5"
                      (scrolled)="onScroll()"
                    >
                      <table class="table reports_small_div">
                        <thead>
                          <tr class="back-color-gray">
                            <th>Company Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Type</th>
                            <th>Address</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr
                            *ngIf="addressBookList.length == 0"
                            class="text-center"
                          >
                            <td colspan="3">{{ dataMessage }}</td>
                          </tr>
                          <tr
                            *ngFor="let item of addressBookList; let i = index"
                          >
                            <td>{{ item.cName }}</td>
                            <td>{{ item.workEmail }}</td>
                            <td>{{ item.workPhone }}</td>
                            <td>{{ item.eTypes }}</td>
                            <td *ngIf="item.adrs[0]">
                              <span *ngIf="item.adrs[0].manual">
                                {{
                                  item.adrs[0].add1
                                    ? item.adrs[0].add1 + ","
                                    : ""
                                }}
                                {{
                                  item.adrs[0].add2
                                    ? item.adrs[0].add2 + ","
                                    : ""
                                }}
                                {{
                                  item.adrs[0].ctyName
                                    ? item.adrs[0].ctyName + ","
                                    : ""
                                }}
                                {{
                                  item.adrs[0].sName
                                    ? item.adrs[0].sName + ","
                                    : ""
                                }}
                                {{
                                  item.adrs[0].cName
                                    ? item.adrs[0].cName + ","
                                    : ""
                                }}
                                {{ item.adrs[0].zip }}
                              </span>
                              <span *ngIf="!item.adrs[0].manual">
                                {{ item.adrs[0].userLoc }}
                              </span>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                      <div class="row mt-3 dtPaginate">
                        <div
                          class="col-lg-12 mt-3 text-center"
                          *ngIf="
                            lastItemSK !== 'end' && addressBookList.length !== 0
                          "
                        >
                          <button
                            type="button"
                            (click)="onScroll()"
                            class="btn btn-success btn-sm text-light"
                          >
                            Load More..
                          </button>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</section>
