<section class="body">
    <!-- start: header -->
    <app-header></app-header>
    <!-- end: header -->

    <div class="inner-wrapper">
        <!-- start: sidebar -->
        <app-sidebar></app-sidebar>
        <!-- end: sidebar -->

        <section role="main" class="content-body">
            <header class="page-header pr-5">
               <h2>Routing &amp; Dispatch Overview</h2>
               <div class="right-wrapper text-right mt-2 pr-2">
                  <a href="javascript:;" class="btn btn-success btn-sm" style="color:white;"><i class="fas fa-plus"></i> Estimate</a>
                  <a href="javascript:;" class="btn btn-success btn-sm" style="color:white;"><i class="fas fa-plus"></i> Order</a>
                  <a href="javascript:;" class="btn btn-success btn-sm" style="color:white;" routerLink="/dispatch/trips/add-trip"><i class="fas fa-plus"></i> Trip</a>
                  <a href="javascript:;" class="btn btn-success btn-sm" style="color:white;" routerLink="/dispatch/routes/add-route"><i class="fas fa-plus"></i> Permanent Route</a>
               </div>
            </header>
            <div class="routing-overview__wrapper m-3">
               <div class="row">
                  <div class="col-8">
                     <div class="row my-3">
                        <div class="col-6 pr-2" routerLink="/dispatch/trips/trip-list">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h4 class="m-0">Active Trips</h4>
                                 <h3 class="mt-1 mb-0 font-weight-bold">{{ activeTripsCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-route fa-fw text-dark" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                        <div class="col-6 pl-2" routerLink="/dispatch/trips/trip-list">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h4 class="m-0">Total Trips</h4>
                                 <h3 class="mt-1 mb-0 font-weight-bold">{{ totalTripsCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-route text-dark fa-fw" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                     </div>

                      <!-- <div class="row my-3">
                        <div class="col-6 pr-2" onclick="window.location='all-invoices.php'">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h4 class="m-0">Open Invoices</h4>
                                 <h3 class="mt-1 mb-0 font-weight-bold">25</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="far fa-file-alt text-dark fa-fw" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                        <div class="col-6 pl-2" onclick="window.location='all-invoices.php'">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h4 class="m-0">Invoices Paid</h4>
                                 <h3 class="mt-1 mb-0 font-weight-bold">15</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="far fa-file-alt text-dark fa-fw" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                     </div> -->

                     <div class="row">
                        <div class="col-4 pr-2" routerLink="/dispatch/routes/route-list">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Permanent Routes</h3>
                                 <h3 class="mt-1  mb-0 font-weight-bold">{{ permanentRoutesCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                  <i class="fas fa-route text-dark fa-fw" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                        <div class="col-4 px-2" routerLink="/dispatch/trips/trip-list">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Today Pickup</h3>
                                 <h3 class="mt-1 mb-0 font-weight-bold">{{ todaysPickCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-truck-loading text-dark fa-fw" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>

                        <div class="col-4 pl-2" routerLink="/dispatch/trips/trip-list">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Tomorrow Pickup</h3>
                                 <h3 class="mt-1 mb-0 font-weight-bold">{{ tomorrowsPickCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-truck-loading text-dark" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                     </div>

                     <div class="row mt-3">
                        <div class="col-4 pr-2">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Serving Customers</h3>
                                 <h3 class="mt-1  mb-0 font-weight-bold">{{ customerCount }}</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-users text-dark" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                        <div class="col-4 px-2">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Average Cost Per Mile</h3>
                                 <p class="m-0">Loaded</p>
                                 <h3 class="mt-1  mb-0 font-weight-bold">-</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                 <i class="fas fa-dollar-sign text-dark" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>

                        <div class="col-4 pl-2">
                           <div class="bg-white p-3 d-flex justify-content-between align-items-center text-dark">
                              <div>
                                 <h3 class="m-0 f-17">Average Cost Per Mile</h3>
                                 <p class="m-0">Empty</p>
                                 <h3 class="mt-1  mb-0 font-weight-bold">-</h3>
                              </div>
                              <div class="grey-bg p-4" style="color: #979797;">
                                  <i class="fas fa-dollar-sign fa-fw text-dark" style="font-size:20px;"></i>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="row mt-3">
                     <div class="col-12 pl-2">
                     <div class="bg-white p-2">
                        <p class="mb-2 text-4 font-weight-bold text-dark">Total Manifest Count</p>

                        <div class="row my-4">
                           <div class="col-6 pr-1">
                              <div class="grey-bg py-2 p-3 d-flex justify-content-between align-items-center text-dark">
                                 <h4 class="m-0 font-weight-bold">ACE</h4>
                                 <h4 class="m-0">65</h4>
                              </div>
                           </div>
                           <div class="col-6 pl-1">
                              <div class="grey-bg py-2 p-3 d-flex justify-content-between align-items-center text-dark">
                                 <h4 class="m-0  font-weight-bold">ACI</h4>
                                 <h4 class="m-0">20</h4>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="row mt-4 text-dark">
                        <div class="col-3 pr-2">
                           <div class="bg-white py-5 p-3 text-center">
                              <h3 class="m-0 f-17">On Time</h3>
                              <h3 class="mt-2 mb-0">93%</h3>
                           </div>
                        </div>
                        <div class="col-3 px-2">
                           <div class="bg-white py-5 p-3 text-center">
                              <h3 class="m-0 f-17">Late</h3>
                              <h3 class="mt-2 mb-0">7%</h3>
                           </div>
                        </div>
                        <div class="col-3 px-2" routerLink="/fleet/vehicles/list">
                           <div class="bg-white py-5 p-3 text-center">
                              <h3 class="m-0 f-17">Available Vehicles</h3>
                              <h3 class="mt-2 mb-0">{{ availableVehiclesCount }}</h3>
                           </div>
                        </div>
                        <div class="col-3 pl-2" routerLink="/fleet/drivers/list">
                           <div class="bg-white py-5 p-3 text-center">
                              <h3 class="m-0 f-17">Available Drivers</h3>
                              <h3 class="mt-2 mb-0">{{ availableDriversCount }}</h3>
                           </div>
                        </div>
                     </div>
                  </div>
                     </div>
                  </div>
                  <div class="col-4 pl-1">
                     <div class="bg-white p-3 ">
                        <p class="mb-2 text-4 font-weight-bold text-dark">Activity Timelines</p>
                        <div class="timeline dispatch-timeline timeline-simple changelog pb-3" style="max-height: 709px;overflow-x: auto;">
                           <div class="tm-body text-dark py-0">
                              <ol class="tm-items" *ngIf="activities.length > 0">
                                 <li *ngFor="let data of activities">
                                    <div class="tm-box">
                                       <span class="release-date">{{ data.timeCreated | date:'MMM d, y - h:mm:ss a' }}</span>
                                       <ul class="list-unstyled">
                                          <li>
                                             <b class="text-success">User</b> {{ data.message }}
                                             <p class="m-0">{{ data.type }}: <b>{{ data.typeValue }}</b></p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                              </ol>
                           </div>
                        </div>
                        <div class="text-right"  *ngIf="activities.length > 10">
                           <a href="javascript:;" class="btn btn-success btn-xs">More..</a>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row mt-3">
                  <div class="col-6 pr-2">
                  <div class="bg-white p-2">
                        <p class="mb-2 text-4 font-weight-bold text-dark">Trips</p>
                        <div><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                        <canvas baseChart [datasets]="tripChartData" [labels]="tripChartLabels" [options]="tripChartOptions"
                           [legend]="tripChartLegend" [chartType]="tripChartType">
                        </canvas>
                       </div>
                     </div>
                  </div>
                  <div class="col-6 pl-2">
                     <div class="bg-white p-2">
                        <p class="mb-2 text-4 font-weight-bold text-dark">Total Manifest Count</p>
                        <div><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                        <canvas baseChart [datasets]="chartData" [labels]="chartLabels" [options]="chartOptions"
                           [legend]="chartLegend" [chartType]="chartType">
                        </canvas>
                       </div>
                     </div>
                  </div>
               </div>
            </div>
        </section>
    </div>
</section>