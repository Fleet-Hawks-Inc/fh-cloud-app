<style>
    .rowStatus {
        display: none;
    }

    #map_view {
        display: inline-block;
        height: 300px;
        width: 100%;
    }

    #assetModal .modal-dialog{
        max-width: 1200px;
    }

    canvas {
         -moz-user-select: none;
         -webkit-user-select: none;
         -ms-user-select: none;
    }
    .td_border{
        border: 2px solid black !important;
    }

    #locationTable{
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
</style>

<section class="body">
    <!-- start: header -->
    <app-header></app-header>
    <!-- end: header -->

    <div class="inner-wrapper">
        <!-- start: sidebar -->
        <app-sidebar></app-sidebar>
        <!-- end: sidebar -->

        <section role="main" class="content-body pl-0 pt-0 pr-0">
            <header class="page-header pr-5">
                <div class="row pr-1 mr-1" style="padding-top:10px;">
                    <div class="col-md-4 col-lg-4">
                        <h4 class="text-4 font-weight-bold mt-0 mb-0 text-dark">Create Trip</h4>
                    </div>

                    <div class="col-md-8  col-lg-8 text-right pr-1">
                        <a href="javascript:;" routerLink="/dispatch/trips/trip-list" class="btn btn-default"><i class="fas fa-list"></i> All Trips</a>
                    </div>
                </div>
            </header>
            <div class="row">
                <div class="col pr-0">
                    <section class="card">
                        <div class="card-body">
                            <form class="form-horizontal form-bordered" method="get" id="form_">
                                <div class="row">
                                    <div class="col-lg-6 my-2">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">Trip#</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control" name="tripNo"
                                                    [(ngModel)]="tripData.tripNo">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">
                                                    Select Order Number
                                                </label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control" (click)="showMOdal()">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-4 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">Dispatcher</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <p class="font-weight-semibold text-5  pt-1">Mike</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-2">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">Select Permanent Route</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <select class="form-control populate" name="routeID"
                                                    [(ngModel)]="tripData.routeID">
                                                    <option>Select Route</option>
                                                    <option *ngFor="let route of routes" value="{{ route.routeID }}">
                                                        {{ route.routeName }}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                            </div>
                                            <div class="col-lg-6">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row my-2">

                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">BOL/POD#</label>
                                            </div>
                                            <div class="col-lg-6 col-md-12">
                                                <input type="text" class="form-control" name="bol"
                                                    [(ngModel)]="tripData.bol">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="row">
                                            <div class="col-lg-6 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">Reefer Temperature</label>
                                            </div>
                                            <div class="col-lg-6 col-md-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <input type="number" class="form-control"
                                                            name="reeferTemperature"
                                                            [(ngModel)]="tripData.reeferTemperature">
                                                    </div>
                                                    <div class="col-lg-6 pl-0">
                                                        <select class="form-control" name="reeferTemperatureUnit"
                                                            [(ngModel)]="tripData.reeferTemperatureUnit">
                                                            <option value="F">F</option>
                                                            <option value="C">C</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row my-2">
                                    <div class="col-lg-12">
                                        <h4 class="mt-0 text-dark font-weight-bold text-4">Plan Trip</h4>
                                        <table class="table table-sm table-bordered table-striped table-hover"
                                            id="locationTable">
                                            <thead>
                                                <tr>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Time</th>
                                                    <th>Pickup Time</th>
                                                    <th>Drop Time</th>
                                                    <th>Actual Pickup Time</th>
                                                    <th>Actual Drop Time</th>
                                                    <th>Name</th>
                                                    <th>Location</th>
                                                    <th>Loaded/ Empty</th>
                                                    <th>Miles</th>
                                                    <th>Vehicle</th>
                                                    <th>Trailer</th>
                                                    <th>Driver</th>
                                                    <th>Co- Driver</th>
                                                    <th>Carrier</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody class="ui-sortable example-list txttt" cdkDropList
                                                (cdkDropListDropped)="drop($event)">
                                                <tr class="ui-sortable-handle" cdkDrag
                                                    *ngFor="let trip of trips; let i= index">
                                                    <td id="labelCell1{{i}}" class="labelRow{{i}}">{{ trip.type }}</td>
                                                    <td id="labelCell2{{i}}" class="labelRow{{i}}">{{ trip.date }}</td>

                                                    <td id="labelCell12{{i}}" class="labelRow{{i}}">{{ trip.time }}</td>
                                                    <td id="labelCell13{{i}}" class="labelRow{{i}}">{{ trip.pickupTime }}</td>
                                                    <td id="labelCell14{{i}}" class="labelRow{{i}}">{{ trip.dropTime }}</td>
                                                    <td id="labelCell15{{i}}" class="labelRow{{i}}">{{ trip.actualPickupTime }}</td>
                                                    <td id="labelCell16{{i}}" class="labelRow{{i}}">{{ trip.actualDropTime }}</td>

                                                    <td id="labelCell3{{i}}" class="labelRow{{i}}">
                                                        <a class="modal-with-form">{{ trip.name }}</a></td>
                                                    <td id="labelCell4{{i}}" class="labelRow{{i}}">
                                                        {{ trip.locationName }}
                                                    </td>
                                                    <td id="labelCell5{{i}}" class="labelRow{{i}}">
                                                        <span class="badge badge-dark p-1 text-uppercase" title=""
                                                            data-original-title="Empty Miles"
                                                            *ngIf="!!trip.mileType">{{ trip.mileType }}</span>
                                                    </td>
                                                    <td id="labelCell6{{i}}" class="labelRow{{i}}">{{ trip.miles }}
                                                        <!-- <span class="badge badge-dark p-1" title=""
                                                            data-original-title="Empty Miles" *ngIf="!!trip.mileType">
                                                            {{ (trip.mileType == 'empty') ? 'EM' : 'LM' }}

                                                        </span> -->
                                                    </td>
                                                    <td id="labelCell7{{i}}" class="labelRow{{i}}">{{ trip.vehicleName }}</td>
                                                    <td id="labelCell8{{i}}" class="labelRow{{i}}">{{ trip.trailerName }}</td>
                                                    <td id="labelCell9{{i}}" class="labelRow{{i}}">{{ trip.driverName }}</td>
                                                    <td id="labelCell10{{i}}" class="labelRow{{i}}">{{ trip.coDriverName }}</td>
                                                    <td id="labelCell11{{i}}" class="labelRow{{i}}">
                                                        {{ trip.carrierName }}
                                                    </td>
                                                    <td class="labelRow{{i}}">
                                                        <i class="fas fa-edit mr-2" title="Edit Row"
                                                            (click)="showEditRow(i)"></i>
                                                        <i class="fas fa-trash-alt" title="Delete Row"
                                                            (click)="delRow(i)"></i>
                                                    </td>

                                                    <!-- text fields -->
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <!-- <input type="text" class="form-control" id="editCell1{{i}}"
                                                            value="{{ trip.type }}"> -->
                                                        <select class="form-control" id="editCell1{{i}}" name="">
                                                            <option value="">Select Type</option>
                                                            <option *ngFor="let type of typeOptions" value="{{ type }}">
                                                                {{ type }}</option>
                                                        </select>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="date" class="form-control" id="editCell2{{i}}"
                                                            value="{{ trip.date }}">
                                                    </td>

                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell12{{i}}" [ngxTimepicker]="editCell12_i" 
                                                        [format]="24" readonly value="{{ trip.time }}">
                                                        <ngx-material-timepicker #editCell12_i></ngx-material-timepicker>
                                                    </td>

                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell13{{i}}" [ngxTimepicker]="editCell13_i" 
                                                        [format]="24" readonly value="{{ trip.pickupTime }}">
                                                        <ngx-material-timepicker #editCell13_i></ngx-material-timepicker>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell14{{i}}" [ngxTimepicker]="editCell14_i" 
                                                        [format]="24" readonly value="{{ trip.dropTime }}">
                                                        <ngx-material-timepicker #editCell14_i></ngx-material-timepicker>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell15{{i}}" [ngxTimepicker]="editCell15_i" 
                                                        [format]="24" readonly value="{{ trip.actualPickupTime }}">
                                                        <ngx-material-timepicker #editCell15_i></ngx-material-timepicker>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell16{{i}}" [ngxTimepicker]="editCell16_i" 
                                                        [format]="24" readonly value="{{ trip.actualDropTime }}">
                                                        <ngx-material-timepicker #editCell16_i></ngx-material-timepicker>
                                                    </td>

                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell3{{i}}"
                                                            value="{{ trip.name }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell4{{i}}"
                                                            (click)="showlocationModal('edit',i)"
                                                            value="{{ trip.locationName }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <select class="form-control" id="editCell5{{i}}">
                                                            <option value="empty">EMPTY</option>
                                                            <option value="loaded">LOADED</option>
                                                        </select>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell6{{i}}"
                                                            name="miles" value="{{ trip.miles }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell7{{i}}"
                                                            (click)="showAssetModal('edit',i)"
                                                            value="{{ trip.vehicleName }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell8{{i}}"
                                                            (click)="showAssetModal('edit',i)"
                                                            value="{{ trip.trailerName }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell9{{i}}"
                                                            (click)="showAssetModal('edit',i)"
                                                            value="{{ trip.driverName }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <input type="text" class="form-control" id="editCell10{{i}}"
                                                            (click)="showAssetModal('edit',i)"
                                                            value="{{ trip.coDriverName }}">
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <select class="form-control" name="carrierID"
                                                            id="editCell11{{i}}">
                                                            <option value="">Select Carrier </option>
                                                            <option *ngFor="let carrier of carriers"
                                                                value="{{ carrier.carrierID }}">
                                                                {{ carrier.carrierName }}
                                                                <!-- {{ carrier.businessDetail.carrierName }} -->
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td class="rowStatus textRows editRow{{i}}">
                                                        <i class="fas fa-check mr-2" (click)="editRow(i)"></i>
                                                        <i class="fas fa-times" (click)="closeEditRow(i)"></i>
                                                    </td>
                                                </tr>
                                                <tr class="ui-sortable-handle">
                                                    <td>
                                                        <!-- <input type="text" id="cell1" class="form-control newRow"> -->
                                                        <select class="form-control newRow"
                                                            (change)="getNewRowValues($event,'tripType')" id="cell1">
                                                            <option value="">Select Type</option>
                                                            <option *ngFor="let type of typeOptions" value="{{ type }}">
                                                                {{ type }}</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <input type="date" id="cell2" class="form-control newRow"
                                                            (change)="getNewRowValues($event,'date')">
                                                    </td> 
                                                    <td>
                                                        <input type="text" class="form-control newRow" id="cell12" [ngxTimepicker]="cell12" [format]="24"  readonly>
                                                        <ngx-material-timepicker #cell12></ngx-material-timepicker>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control newRow" id="cell13" [ngxTimepicker]="cell13" [format]="24"  readonly>
                                                        <ngx-material-timepicker #cell13></ngx-material-timepicker>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control newRow" id="cell14" [ngxTimepicker]="cell14" [format]="24"  readonly>
                                                        <ngx-material-timepicker #cell14></ngx-material-timepicker>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control newRow" id="cell15" [ngxTimepicker]="cell15" [format]="24"  readonly>
                                                        <ngx-material-timepicker #cell15></ngx-material-timepicker>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="form-control newRow" id="cell16" [ngxTimepicker]="cell16" [format]="24"  readonly>
                                                        <ngx-material-timepicker #cell16></ngx-material-timepicker>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell3" class="form-control newRow"
                                                            (change)="getNewRowValues($event,'name')"
                                                            autocomplete="off">
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell4" class="form-control newRow"
                                                            data-toggle="modal" (click)="showlocationModal('add','')"
                                                            autocomplete="off" readonly
                                                            value="{{ textFieldValues.locationName }}">
                                                    </td>
                                                    <td>
                                                        <select class="form-control newRow"
                                                            (change)="getNewRowValues($event,'mileType')" id="cell5">
                                                            <option value="">Select Mile Type</option>
                                                            <option value="empty">EMPTY</option>
                                                            <option value="loaded">LOADED</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell6" class="form-control newRow"
                                                            (change)="getNewRowValues($event,'miles')"
                                                            autocomplete="off">
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell7" class="form-control newRow"
                                                            (click)="showAssetModal('add','')"
                                                            value="{{ textFieldValues.vehicleName }}"
                                                            autocomplete="off" readonly>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell8" class="form-control newRow"
                                                            (click)="showAssetModal('add','')"
                                                            value="{{ textFieldValues.trailerName}}" autocomplete="off" readonly>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell9" class="form-control newRow"
                                                            (click)="showAssetModal('add','')"
                                                            value="{{ textFieldValues.driverName }}" autocomplete="off" readonly>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="cell10" class="form-control newRow"
                                                            (click)="showAssetModal('add','')"
                                                            value="{{ textFieldValues.coDriverName }}"
                                                            autocomplete="off" readonly>
                                                    </td>
                                                    <td>
                                                        <select class="form-control newRow" name="carrierID" id="cell11"
                                                            (change)="getNewRowValues($event,'carrier')">
                                                            <option value="">Select Carrier </option>
                                                            <option *ngFor="let carrier of carriers"
                                                                value="{{ carrier.carrierID }}">
                                                                {{ carrier.carrierName }}
                                                                <!-- {{ carrier.businessDetail.carrierName }} -->
                                                            </option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-success"
                                                            (click)="addRow()">Add </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- <div class="row">
                                            <div class="col-lg-12 text-right">
                                                <button type="button" class="btn btn-sm btn-success">Plan Trip </button>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="mapclass" id="map_view">
                                            <div id="map" class=""></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="col-lg-12">
                                            <h3 class="mb-0 text-6 font-weight-bold text-dark">Trip Info</h3>
                                            <div class="row">
                                                <div class="col-lg-4 text-center" *ngIf="trips.length > 0; else sourceElseBlock">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Source</p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">{{ trips[0].locationName }}</p>
                                                    <p class="mb-0 text-4 font-weight-normal text-dark">{{ trips[0].date }} {{ trips[0].time }}</p>
                                                </div>

                                                <ng-template #sourceElseBlock>
                                                    <div class="col-lg-4 text-center">
                                                        <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Source</p>
                                                        <p class="mb-0 text-4 font-weight-semibold text-dark"> - </p>
                                                    </div>
                                                </ng-template>

                                                <div class="col-lg-4 text-center pt-3">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Miles</p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">1060.00 Miles
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 text-center" *ngIf="trips.length > 1; else destinationElseBlock">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Destination
                                                    </p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">{{ trips[trips.length-1].locationName }}</p>
                                                    <p class="mb-0 text-4 font-weight-normal text-dark">{{ trips[trips.length-1].date }} {{ trips[trips.length-1].time }}</p>
                                                </div>

                                                <ng-template #destinationElseBlock>
                                                    <div class="col-lg-4 text-center">
                                                        <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Destination
                                                        </p>
                                                        <p class="mb-0 text-4 font-weight-semibold text-dark">-</p>
                                                    </div>
                                                </ng-template>
                                            </div>
                                            <div class="wizard-progress">
                                                <div class="steps-progress">
                                                    <div class="progress-indicator" style="width: 0%;"></div>
                                                </div>
                                                <ul class="wizard-steps">
                                                    <li class="" *ngFor="let trip of trips">
                                                        <a class="" href=""
                                                            data-toggle="tab"><span></span>{{ trip.type}}
                                                            <br>{{ trip.date }}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 text-dark">
                                        <h3>Notifications</h3>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">
                                                    Planned v/s Changed Route</label>
                                            </div>
                                            <div class="col-lg-6 col-md-12">
                                                <div class="checkbox-custom checkbox-default">
                                                    <input type="checkbox" id="HazMat1" name="changeRoute"
                                                        [(ngModel)]="tripData.notifications.changeRoute">
                                                    <label
                                                        class="control-label font-weight-semibold labelmt text-3 text-dark"
                                                        for="HazMat1">Notify Dispatcher about changed route?</label>
                                                </div>
                                                <div class="checkbox-custom checkbox-default">
                                                    <input type="checkbox" id="HazMat2" name="pickUp"
                                                        [(ngModel)]="tripData.notifications.pickUp">
                                                    <label
                                                        class="control-label font-weight-semibold labelmt text-3 text-dark"
                                                        for="HazMat2">Notify Dispatcher about pick up?</label>
                                                </div>
                                                <div class="checkbox-custom checkbox-default">
                                                    <input type="checkbox" id="HazMat3" name="dropOff"
                                                        [(ngModel)]="tripData.notifications.dropOff">
                                                    <label
                                                        class="control-label font-weight-semibold labelmt text-3 text-dark"
                                                        for="HazMat3">Notify Dispatcher about drop off?</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row ">
                                            <div class="col-lg-3 labelalign">
                                                <label
                                                    class="control-label font-weight-semibold labelmt text-3 text-dark">Trip
                                                    Details</label>
                                            </div>
                                            <div class="col-lg-6 col-md-12">
                                                <div class="checkbox-custom checkbox-default">
                                                    <input type="checkbox" id="HazMat4" name="tripToDriver"
                                                        [(ngModel)]="tripData.notifications.tripToDriver">
                                                    <label
                                                        class="control-label font-weight-semibold labelmt text-3 text-dark"
                                                        for="HazMat4">Send trip details to the driver</label>
                                                </div>
                                                <div class="checkbox-custom checkbox-default">
                                                    <input type="checkbox" id="HazMat5" name="tripToDispatcher"
                                                        [(ngModel)]="tripData.notifications.tripToDispatcher">
                                                    <label
                                                        class="control-label font-weight-semibold labelmt text-3 text-dark"
                                                        for="HazMat5">Send trip details to the dispatcher</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row text-right">
                                    <div class="col-lg-12 pr-4">
                                        <a class="mt-1 mr-2 btn btn-default" href="javascript:;" routerLink="/dispatch/trips/trip-list">Cancel</a>
                                        <a href="javascript:;" (click)="createTrip()" class="btn btn-success mt-1">Create Trip</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
            </div>
        </section>
    </div>
</section>

<!-- order modal start -->
<div class="modal fade" id="orderModal" tabindex="-1" role="dialog" aria-labelledby="orderModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Select Modal</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <form>
                <div class="modal-body text-dark">
                    <div class="m-2">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="loadFTL-tab" data-toggle="tab" href="#loadFTL" role="tab"
                                    aria-controls="loadFTL" aria-selected="true" (click)="changeOrderTab('FTL')">FTL</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="loadLTL-tab" data-toggle="tab" href="#loadLTL" role="tab"
                                    aria-controls="loadLTL" aria-selected="false" (click)="changeOrderTab('LTL')">LTL</a>
                            </li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <section class="card">
                                <div class="card-body" style="display: block;">
                                    <div class="tab-content p-0" id="myTabContent">
                                        <div class="tab-pane show active" id="loadFTL" role="tabpanel"
                                            aria-labelledby="loadFTL-tab">
                                            <div class="table-responsive">
                                                <table datatable [dtOptions]="ftlOptions"
                                                    class="table table-bordered table-striped mb-0 dataTable no-footer">
                                                    <thead>
                                                        <tr class="" role="row">
                                                            <th></th>
                                                            <th class="text-2">Order#</th>
                                                            <th class="text-2">Customer</th>
                                                            <th class="text-2">P/L</th>
                                                            <th class="text-2">D/L</th>
                                                            <th class="text-2">Total Amount</th>
                                                            <th class="text-2">Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="ui-sortable">
                                                        <tr class="ui-sortable-handle odd" role="row"
                                                            *ngFor="let order of ftlOrders">
                                                            <td class="sorting_1">
                                                                <input type="radio" value="{{ order.orderNumber }}"
                                                                    name="ftlOrderIds" (change)="selectOrderIDS('ftl')">
                                                            </td>
                                                            <td class="loadid"><span class="FTLload">FTL</span><br>
                                                                <a href="javascript:;">{{ order.orderNumber }}</a>
                                                            </td>
                                                            <td>{{ order.customer }}</td>
                                                            <td>{{ order.pickupLocation }}<br>
                                                                06/02/2020 05:25 AM</td>
                                                            <td>{{ order.deliveryLocation }}<br>
                                                                06/10/2020 05:20 PM</td>
                                                            <td>CAD {{ order.orderAmount }}</td>
                                                            <td>{{ order.status }}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="loadLTL" role="tabpanel"
                                            aria-labelledby="loadLTL-tab">
                                            <!-- <table class="table table-bordered table-striped mb-0" id="datatable-default"> -->
                                            <table datatable [dtOptions]="ltlOptions"
                                                class="table table-bordered table-striped mb-0 dataTable no-footer">
                                                <thead>
                                                    <tr class="">
                                                        <th><input type="checkbox" name="checkUncheckltl"
                                                                (change)="checkUncheckAll('ltl')"></th>
                                                        <th class="text-2">Order#</th>
                                                        <th class="text-2">Customer</th>
                                                        <th class="text-2">P/L</th>
                                                        <th class="text-2">D/L</th>
                                                        <th class="text-2">Total Amount</th>
                                                        <th class="text-2">Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="ui-sortable">
                                                    <tr class="ui-sortable-handle" *ngFor="let order of ltlOrders">
                                                        <td>
                                                            <!-- <input type="checkbox"> -->
                                                            <input type="checkbox" value="{{ order.orderNumber }}"
                                                                name="ltlOrderIds" (change)="selectOrderIDS('ltl')">
                                                        </td>
                                                        <td class="loadid"><span class="LTLload">LTL</span><br>
                                                            <a href="javascript:;">{{ order.orderNumber }}</a>
                                                        </td>
                                                        <td>{{ order.customer }}</td>
                                                        <td>{{ order.pickupLocation }}<br>
                                                            06/02/2020 05:25 AM</td>
                                                        <td>{{ order.deliveryLocation }}<br>
                                                            06/10/2020 05:20 PM</td>
                                                        <td>CAD {{ order.orderAmount }}</td>
                                                        <td>{{ order.status }}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-md-12 text-right">
                        <a class="btn btn-success modal-confirm mr-3" href="javascript:;"
                            (click)="saveSelectOrderIDS()">Select</a>
                        <button class="btn btn-default modal-dismiss" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- order modal end -->

<!-- new asset modal -->
<div id="assetModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Assign</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="card-body text-dark table-scroll-y table-scrollplan" data-select2-id="279">
                    <table class="table table-bordered table-responsive-lg table-striped mb-0" data-select2-id="278">
                        <thead>
                            <tr>
                                <th width="25%">Vehicle</th>
                                <th width="25%">Trailer</th>
                                <th width="25%">Driver</th>
                                <th>Co-Driver</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <ng-select [items]="vehicles" bindLabel="vehicleIdentification"
                                    bindValue="vehicleID" name="assetDataVehicleID" [(ngModel)]="assetDataVehicleID" id="vehicleSelect" (change)="vehicleChange($event,'change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="informationAsset" [(ngModel)]="informationAsset" id="informationAsset" [items]="assets" 
                                    bindLabel="assetIdentification" [multiple]="true" bindValue="assetID" (change)="assetsChange($event,'change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="assetDataDriverUsername" [(ngModel)]="assetDataDriverUsername" 
                                    id="driverSelect" [items]="drivers" bindLabel="fullName" bindValue="userName" (change)="driverChange($event,'driver','change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="assetDataCoDriverUsername" [(ngModel)]="assetDataCoDriverUsername" 
                                    id="coDriverSelect" [items]="codrivers" bindLabel="fullName" bindValue="userName" (change)="driverChange($event,'codriver','change')">
                                    </ng-select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <table>
                                        <!-- <thead>head</thead> -->
                                        <tbody>
                                            <tr *ngFor="let vehicle of vehicles">
                                                <td class="vehicleClass" id="veh_{{ vehicle.vehicleID }}" (click)="vehicleChange(vehicle,'click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-bold text-dark"><i class="fas fa-truck-moving"
                                                                data-toggle="tooltip" data-placement="bottom" title=""
                                                                data-original-title="Vehicle"></i> {{ vehicle.vehicleIdentification }}</p>
                                                        <span class="driverstatus"><i class="fas fa-map-marker-alt"
                                                            data-toggle="tooltip" data-placement="bottom" title=""
                                                            data-original-title="Loation"></i> Kingston, Toronto, ON K7L 5K4
                                                        </span>
                                                        <span class="driverstatus">Current Status: 
                                                            <span class="badge badge-pills badge-dark p-1" data-toggle="tooltip"
                                                                data-placement="bottom" title="" data-original-title="Current Status">ON
                                                                ROAD<span></span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let asset of assets">
                                                <td class="assetClass" id="asset_{{ asset.assetID }}" (click)="assetsChange(asset,'click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-semibold text-dark"> {{ asset.assetIdentification }}</p>
                                                        <span class="driverstatus"><i class="fas fa-map-marker-alt"></i> Kingston,
                                                            Toronto, ON K7L 5K4</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let driver of drivers">
                                                <td class="driverClass" id="drivr_{{ driver.driverID }}" (click)="driverChange(driver,'driver','click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-semibold text-dark"><span
                                                                class="offduty pull-right">OFF</span> {{ driver.fullName }}</p>
                                                        <span class="driverstatus"> Crescent Road Vancouver, BC V6T 1Z2</span>
                                                        <span class="driverstatus"><i class="fas fa-clock"></i> <span
                                                                class="font-weight-bold">Cycle Reset In:</span> 2 hrs 30 mins</span>
                                                        <span class="driverstatus"><i class="fa fa-clock"></i> <span
                                                                class="font-weight-bold">HOS:</span> 7 hrs 30 mins</span>
                                                        <span class="driverstatus"><i class="fas fa-user"></i> <span
                                                                class="font-weight-bold">On Duty Hours:</span> 2 hr 30 mins</span>
                                                    </div> 
                                                </td>
                                            </tr>
                                        </tbody>
                                        
                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let driver of codrivers">
                                                <td class="codriverClass" id="codrivr_{{ driver.driverID }}" (click)="driverChange(driver,'codriver','click')">
                                                     {{ driver.fullName }} <span class="offduty pull-right">OFF</span>
                                                    <span class="driverstatus"><i class="fas fa-clock"></i> <span
                                                            class="font-weight-bold">Cycle Reset In:</span> 2 hrs 30 mins</span>
                                                    <span class="driverstatus"><i class="fa fa-clock"></i> <span
                                                            class="font-weight-bold">HOS:</span> 7 hrs 30 mins</span>
                                                    <span class="driverstatus"><i class="fas fa-user"></i> <span
                                                            class="font-weight-bold">On Duty Hours:</span> 2 hr 30 mins</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer card-footer">
                <div class="row">
                    <div class="col-md-12 text-right">
                        <a href="javascript:;" class="btn btn-success" (click)="saveAssetModalData()">Save</a>
                        <button class="btn btn-default modal-dismiss" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<!-- new asset modal end -->

<!-- location modal start -->
<div class="modal fade" id="locationModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document" style="max-width: 500px;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Location</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row text-dark">
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">
                                        Select Country
                                    </label>
                                    <select class="form-control" id="locationCountry" name="selectedLocationCountryId"
                                        [(ngModel)]="selectedLocationCountryId">
                                        <option *ngFor="let country of countries" value="{{ country.countryID }}">
                                            {{ country.countryName }}</option>
                                    </select>
                                </div>
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                        State</label>
                                    <select class="form-control" id="locationState" name="selectedLocationStateId"
                                        [(ngModel)]="selectedLocationStateId">
                                        <option *ngFor="let state of states" value="{{ state.stateID }}">
                                            {{ state.stateName }}</option>
                                    </select>
                                </div>
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select City</label>
                                    <select class="form-control" id="locationCity" name="selectedLocationCityId"
                                        [(ngModel)]="selectedLocationCityId">
                                        <option *ngFor="let city of cities" value="{{ city.cityID }}">
                                            {{ city.cityName }}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address 1</label>
                                    <input type="text" class="form-control" id="locationAddress1"
                                        name="selectedLocationAddress1" [(ngModel)]="selectedLocationAddress1">
                                </div>
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address 2</label>
                                    <input type="text" class="form-control" id="locationAddress2"
                                        name="selectedLocationAddress2" [(ngModel)]="selectedLocationAddress2">
                                </div>
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Zip Code</label>
                                    <input type="text" class="form-control" id="locationZipcode"
                                        name="selectedLocationAddress3" [(ngModel)]="selectedLocationAddress3">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" (click)='saveLocation()'>Save</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- location modal end -->