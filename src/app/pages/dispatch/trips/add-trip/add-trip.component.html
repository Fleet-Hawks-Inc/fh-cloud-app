<section class="body">
    <div class="inner-wrapper">
        <section role="main" class="content-body pl-0 pt-0 pr-0">
            <header class="page-header pr8 pl11">
                <div class="row" style="padding-top:10px;">
                    <div class="col-md-4 col-lg-4">
                        <h4 class="text-4 font-weight-bold mt-0 mb-0 text-dark">{{ pageTitle }}</h4>
                    </div>

                    <div class="col-md-8 col-lg-8 text-right">
                        <a href="javascript:;" routerLink="/dispatch/trips/trip-list" class="btn btn-sm btn-default"><i
                                class="fas fa-list"></i> All Trips</a>
                    </div>
                </div>
            </header>

            <form class="form-horizontal form-bordered" method="get" id="form_" #tripForm="ngForm">
                <section class="m-2">
                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <div class="bg-white p-3 text-dark">
                                <div class="form-group row adddriverpl pt-3">

                                    <div class="col-lg-6 mb-1">
                                        <div class="row">
                                            <div class="col-lg-3">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Dispatcher</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <p class="font-weight-bold text-5 text-dark mb-0 pt-1">{{ currentUser }}
                                                </p>
                                            </div>
                                        </div>

                                        <div class="row mb-2">
                                            <div class="col-lg-10">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Select
                                                    Order# <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                </label>
                                                <input type="text" class="form-control" (click)="showMOdal()"
                                                    [(ngModel)]="orderNo" name="ordr" placeholder="eg. 776,1234"
                                                    autocomplete="off" #order="ngModel" required>
                                                <div *ngIf="order.invalid && (order.dirty || order.touched)"
                                                    class="text-danger">
                                                    <div>

                                                        <div *ngIf="order.errors.required">
                                                            Order# is required .
                                                        </div>


                                                    </div>

                                                </div>



                                            </div>
                                        </div>

                                        <div class="row mb-2">
                                            <div class="col-lg-10">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Select
                                                    Permanent Route

                                                </label>
                                                <ng-select [(ngModel)]="tripData.routeID" name="routeID"
                                                    (change)="makeRoutePlan()" placeholder="eg. Calgary to Edmonton"
                                                    #pRoute="ngModel">
                                                    <ng-option *ngFor="let route of permanentRoutes"
                                                        value="{{ route.routeID }}">
                                                        {{ route.routeName }}</ng-option>
                                                </ng-select>

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-10">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Create
                                                    this trip using
                                                    <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>

                                                <div class="btn-group-toggle">
                                                    <label
                                                        class="btn btn-outline btn-yesno mr-2 {{ mapOrderActive}} mb-2"
                                                        (click)="changeMapRoute('order')">Order Number</label>
                                                    <label
                                                        class="btn btn-outline btn-yesno mr-2 mb-2 {{ mapRouteActive}}"
                                                        (click)="changeMapRoute('route')">Permanent Route</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 mb-1">
                                        <div class="row">
                                            <div class="col-lg-10">
                                                <p class="font-weight-semibold text-5 emptyp pt-1">&nbsp;</p>
                                            </div>
                                        </div>
                                        <div class="row mb-2">
                                            <div class="col-lg-10 col-md-12">
                                                <label class="control-label font-weight-semibold text-3 text-dark">BOL/POD#</label>
                                                <input type="text" class="form-control" name="bol"
                                                    [(ngModel)]="tripData.bol" placeholder="eg. 13253578">

                                            </div>
                                        </div>

                                        <div class="row mb-2">
                                            <div class="col-lg-10 col-md-12">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Select
                                                    Trip Date
                                                    <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                </label>

                                                <input [(ngModel)]="dateCreated" name="dateCreated" type="text"
                                                    placeholder="yyyy/mm/dd" (click)="from.toggle()" ngbDatepicker
                                                    #from="ngbDatepicker" class="form-control" autocomplete="off"
                                                    #tDate="ngModel" required [minDate]="dateMinLimit"
                                                    [maxDate]="futureDatesLimit">
                                                <div *ngIf="tDate.invalid && (tDate.dirty || tDate.touched)"
                                                    class="text-danger">
                                                    <div>

                                                        <div *ngIf="tDate.errors.required">
                                                            Trip date is required.
                                                        </div>


                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="row mb-2">
                                            <div class="col-lg-12">
                                                <label
                                                    class="control-label font-weight-semibold text-3 text-dark">Reefer
                                                    Temperature </label>
                                            </div>
                                            <div class="col-lg-10 col-md-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <input type="number" class="form-control"
                                                            name="reeferTemperature"
                                                            [(ngModel)]="tripData.reeferTemperature"
                                                            placeholder="eg. 10 °C or °F ">
                                                    </div>
                                                    <div class="col-lg-6 pl-0">
                                                        <ng-select [(ngModel)]="tripData.reeferTemperatureUnit"
                                                            name="reeferTemperatureUnit"
                                                            placeholder="Select Temperature Unit"
                                                            #sltReeferTemp="ngModel">
                                                            <ng-option value="C">°C</ng-option>
                                                            <ng-option value="F">°F</ng-option>
                                                        </ng-select>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <div class="bg-white p-3 text-dark">
                                <div class="form-group row pt-3">
                                    <div class="col-lg-12 mb-2">
                                        <label
                                            class="control-label font-weight-bold font-weight-bold text-lg-right text-5 m-0">Plan
                                            Trip</label>
                                            <button (click)="splitTrip()" class="btn btn-sm btn-success pull-right ml-auto mb-1" [disabled]="disableSplit">Split Trip</button>
                                    </div>

                                    <div class="col-lg-12 mb-1">
                                        <div class="table-responsive">
                                            <table
                                                class="table table-sm table-bordered table-striped table-hover"
                                                id="locationTable">
                                                <thead>
                                                    <tr>
                                                        <th width="4%">Select</th>
                                                        <th width="6%">Type</th>
                                                        <th width="6%">Date</th>
                                                        <th width="6%">Pickup Time</th>
                                                        <th width="6%">Drop Time</th>
                                                        <!-- <th width="4%">Actual Pickup Time</th> -->
                                                        <!-- <th width="4%">Actual Drop Off Time</th> -->
                                                        <th width="8%">Name</th>
                                                        <th width="4%">ML <i class="fas fa-exclamation-circle" data-placement="top" data-toggle="tooltip" title="Manual Location"></i></th>
                                                        <th width="100px" style="max-width: 150px; width: 150px;min-width: 150px;">Location</th>
                                                        <th width="7%">Loaded/ Empty</th>
                                                        <th width="5%">Miles</th>
                                                        <th width="5%">Vehicle</th>
                                                        <th width="5%">Asset</th>
                                                        <th width="6%">Driver</th>
                                                        <th width="6%">Co-Driver</th>
                                                        <th width="8%">Carrier</th>
                                                        <th width="4%">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="ui-sortable example-list txttt" cdkDropList
                                                    (cdkDropListDropped)="drop($event)">
                                                    <tr class="ui-sortable-handle" cdkDrag
                                                        *ngFor="let trip of trips; let i= index">
                                                        <td class="labelRow{{i}}">
                                                            <input class="form-control manCheck" type="checkbox" name="splitt{{i}}" [(ngModel)]="trip.split" [disabled]="trip.splitDone" />
                                                        </td>
                                                        <td id="labelCell1{{i}}" class="labelRow{{i}}">{{ trip.type }}</td>
                                                        <td id="labelCell2{{i}}" class="labelRow{{i}}">{{ trip.date |
                                                            date:"yyyy/MM/dd" }}</td>
                                                        <!-- <td id="labelCell12{{i}}" class="labelRow{{i}}">{{ trip.time }}</td> -->
                                                        <td id="labelCell13{{i}}" class="labelRow{{i}}">{{ trip.pickupTime
                                                            }}</td>
                                                        <td id="labelCell14{{i}}" class="labelRow{{i}}">{{ trip.dropTime }}
                                                        </td>
                                                        <!-- <td id="labelCell15{{i}}" class="labelRow{{i}}">{{
                                                            trip.actualPickupTime }}</td>
                                                        <td id="labelCell16{{i}}" class="labelRow{{i}}">{{
                                                            trip.actualDropTime }}</td> -->

                                                        <td id="labelCell3{{i}}" class="labelRow{{i}}">
                                                            <a class="modal-with-form">{{ trip.name }}</a>
                                                        </td>
                                                        <td id="labelCell333{{i}}" class="labelRow{{i}}">
                                                            <!-- <input type="checkbox" class="form-control" /> -->
                                                            <span class="badge badge-dark p-1 text-uppercase"> {{ (trip.locMan) ? 'yes' : 'no' }}</span>
                                                        </td>
                                                        <td style="min-width: 100px;max-width: 100px; width: 100px;word-wrap: break-word;white-space: normal;" id="labelCell4{{i}}" class="labelRow{{i}}">
                                                            {{ trip.locationName }}
                                                        </td>

                                                        <td id="labelCell5{{i}}" class="labelRow{{i}}">
                                                            <span class="badge badge-dark p-1 text-uppercase" title=""
                                                                data-original-title="Empty Miles" *ngIf="!!trip.mileType">{{
                                                                trip.mileType }}</span>
                                                        </td>
                                                        <td id="labelCell6{{i}}" class="labelRow{{i}}">{{ trip.miles }}
                                                        </td>
                                                        <td id="labelCell7{{i}}" class="labelRow{{i}}">{{
                                                            vehiclesObjects[trip.vehicleID]
                                                            }}</td>
                                                        <td id="labelCell8{{i}}" class="labelRow{{i}}">
                                                            <span *ngFor="let addt of trip.trailerID; let f=index;">
                                                                {{ assetsObjects[addt] }}
                                                                <span *ngIf="f>0">,</span>
                                                            </span>
                                                        </td>
                                                        <td id="labelCell9{{i}}" class="labelRow{{i}}">{{
                                                            driversObjects[trip.driverID] }}
                                                        </td>
                                                        <td id="labelCell10{{i}}" class="labelRow{{i}}">{{
                                                            driversObjects[trip.coDriverID]
                                                            }}</td>
                                                        <td id="labelCell11{{i}}" class="labelRow{{i}}">
                                                            {{ carriersObject[trip.carrierID] }}
                                                        </td>
                                                        <td class="labelRow{{i}}">
                                                            <i class="fas fa-edit mr-2" title="Edit Row"
                                                                (click)="showEditRow(i)"></i>
                                                            <i class="fas fa-trash-alt" title="Delete Row"
                                                                (click)="delRow(i)"></i>
                                                        </td>

                                                        <!-- text fields -->
                                                        <td class="rowStatus textRows editRow{{i}}"></td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <ng-select [(ngModel)]="trip.type" id="editCell1{{i}}" name="tripType" placeholder="Select trip type">
                                                                <ng-option value="{{ type }}" *ngFor="let type of typeOptions">{{ type }}</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input id="cell2{{i}}" name="cell2" type="text"
                                                                placeholder="yyyy/mm/dd" (click)="to.toggle()" ngbDatepicker
                                                                #to="ngbDatepicker" [(ngModel)]="trip.date"
                                                                class="form-control newRow" autocomplete="off"
                                                                [minDate]="dateMinLimit" [maxDate]="futureDatesLimit">
                                                        </td>

                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="time" class="form-control" id="editCell13{{i}}"
                                                                name="editCell13" value="{{ trip.pickupTime }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="time" class="form-control" id="editCell14{{i}}"
                                                                name="editCell14" value="{{ trip.dropTime }}">
                                                        </td>
                                                        <!-- <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="time" class="form-control" id="editCell15{{i}}"
                                                                name="editCell15" value="{{ trip.actualPickupTime }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="time" class="form-control" id="editCell16{{i}}"
                                                                name="editCell16" value="{{ trip.actualDropTime }}">
                                                        </td> -->

                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell3{{i}}"
                                                                value="{{ trip.name }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="checkbox" class="form-control manCheck" id="editCell18{{i}}" [(ngModel)]="trip.locMan" name="editlocMan{{i}}" (change)="selectManualAddress(i)"/>
                                                        </td>

                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" id="editCell4{{i}}" name="editCell4{{i}}"
                                                                [(ngModel)]="trip.locationName" class="form-control newRow"
                                                                autocomplete="off" (keyup)="searchTerm.next($event);"
                                                                placeholder="Start typing to get location suggestions" *ngIf="!trip.locMan">

                                                            <input type="text" id="editCell4{{i}}" name="editCell4{{i}}"
                                                                [(ngModel)]="trip.locationName" class="form-control newRow"
                                                                placeholder="Start add location from popup" *ngIf="trip.locMan" (click)="locationModel('edit',i)">

                                                            <ul class="p-0 m-0 text-left map-search__resultstrip bg-white"
                                                                *ngIf="searchResults && !trip.locMan">
                                                                <li *ngFor="let item of searchResults;">
                                                                    <a href="javascript:;"
                                                                        (click)="assignLocation('editLoc', item, i)"
                                                                        title="{{item.address.label}}">{{item.address.label}}</a>
                                                                </li>
                                                            </ul>
                                                        </td>

                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <ng-select [(ngModel)]="trip.mileType" id="editCell5{{i}}" name="tripmileType{{i}}" placeholder="Select miles type">
                                                                <ng-option value="empty">EMPTY</ng-option>
                                                                <ng-option value="loaded">LOADED</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell6{{i}}"
                                                                name="miles" value="{{ trip.miles }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell7{{i}}"
                                                                (click)="showAssetModal('edit',i)"
                                                                value="{{ vehiclesObjects[trip.vehicleID] }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell8{{i}}"
                                                                (click)="showAssetModal('edit',i)"
                                                                value="{{ trip.trailerName }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell9{{i}}"
                                                                (click)="showAssetModal('edit',i)"
                                                                value="{{ driversObjects[trip.driverID] }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <input type="text" class="form-control" id="editCell10{{i}}"
                                                                (click)="showAssetModal('edit',i)"
                                                                value="{{ driversObjects[trip.coDriverID] }}">
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <ng-select [(ngModel)]="trip.carrierID" id="editCell11{{i}}" name="editCarrID" placeholder="Select Carrier" [disabled]="trip.disablecarr">
                                                                <ng-option value="{{ carrier.contactID }}" *ngFor="let carrier of carriers">{{ carrier.companyName }}</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td class="rowStatus textRows editRow{{i}}">
                                                            <i class="fas fa-check mr-2" (click)="editRow(i)"></i>
                                                            <i class="fas fa-times" (click)="closeEditRow(i)"></i>
                                                        </td>
                                                    </tr>
                                                    <tr class="ui-sortable-handle">
                                                        <td></td>
                                                        <td>
                                                            <ng-select [(ngModel)]="textFieldValues.type" class="newRow" id="cell1" name="newTripType" placeholder="Select type">
                                                                <ng-option value="{{ type }}" *ngFor="let type of typeOptions">{{ type }}</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td>
                                                            <input id="cell2" name="newDate" type="text" [(ngModel)]="textFieldValues.date"
                                                                placeholder="yyyy/mm/dd" (click)="to.toggle()" ngbDatepicker
                                                                #to="ngbDatepicker" class="form-control newRow"
                                                                autocomplete="off" [minDate]="dateMinLimit"
                                                                [maxDate]="futureDatesLimit">
                                                        </td>
                                                        <td>
                                                            <input type="time" [(ngModel)]="textFieldValues.pickupTime" class="form-control newRow" id="cell13"
                                                                name="cell13">
                                                        </td>
                                                        <td>
                                                            <input type="time" [(ngModel)]="textFieldValues.dropTime" class="form-control newRow" id="cell14"
                                                                name="cell14">
                                                        </td>
                                                        <!-- <td>
                                                            <input type="time" [(ngModel)]="textFieldValues.actualPickupTime" class="form-control newRow" id="cell15"
                                                                name="cell15">
                                                        </td>
                                                        <td>
                                                            <input type="time" [(ngModel)]="textFieldValues.actualDropTime" class="form-control newRow" id="cell16"
                                                                name="cell16">
                                                        </td> -->
                                                        <td>
                                                            <input type="text" [(ngModel)]="textFieldValues.name" name="shipName" id="cell3" class="form-control newRow" autocomplete="off">
                                                        </td>
                                                        <td>
                                                            <input type="checkbox" class="form-control newRow manCheck" [(ngModel)]="textFieldValues.locMan" name="locMan"/>
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell4" name="locationName" [(ngModel)]="textFieldValues.locationName"
                                                                class="form-control newRow" autocomplete="off"
                                                                (keyup)="searchTerm.next($event);"
                                                                [(ngModel)]="textFieldValues.locationName"
                                                                placeholder="Start typing to get location suggestions" *ngIf="!textFieldValues.locMan">
                                                            
                                                            <input type="text" id="cell4" name="locationName" [(ngModel)]="textFieldValues.locationName"
                                                                class="form-control newRow" [(ngModel)]="textFieldValues.locationName"
                                                                placeholder="Enter location from popup" *ngIf="textFieldValues.locMan" (click)="locationModel('add','')" readonly>

                                                            <ul class="p-0 m-0 text-left map-search__resultstrip bg-white"
                                                                *ngIf="searchResults && !textFieldValues.locMan">
                                                                <li *ngFor="let item of searchResults;">
                                                                    <a href="javascript:;"
                                                                        (click)="assignLocation('loc', item,'')"
                                                                        title="{{item.address.label}}">{{item.address.label}}</a>
                                                                </li>
                                                            </ul>
                                                        </td>
                                                        <td>
                                                            <ng-select [(ngModel)]="textFieldValues.mileType" id="cell5" name="newMileType" placeholder="Select type">
                                                                <ng-option value="empty">EMPTY</ng-option>
                                                                <ng-option value="loaded">LOADED</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell6" class="form-control newRow" name="newMiles" [(ngModel)]="textFieldValues.miles"
                                                                (change)="getNewRowValues($event,'miles')"
                                                                autocomplete="off">
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell7" class="form-control newRow"
                                                                (click)="showAssetModal('add','')"
                                                                value="{{ textFieldValues.vehicleName }}" autocomplete="off"
                                                                readonly>
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell8" class="form-control newRow"
                                                                (click)="showAssetModal('add','')"
                                                                value="{{ textFieldValues.trailerName}}" autocomplete="off"
                                                                readonly>
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell9" class="form-control newRow"
                                                                (click)="showAssetModal('add','')"
                                                                value="{{ textFieldValues.driverName }}" autocomplete="off"
                                                                readonly>
                                                        </td>
                                                        <td>
                                                            <input type="text" id="cell10" class="form-control newRow"
                                                                (click)="showAssetModal('add','')"
                                                                value="{{ textFieldValues.coDriverName }}"
                                                                autocomplete="off" readonly>
                                                        </td>
                                                        <td>
                                                            <ng-select [(ngModel)]="textFieldValues.carrierID" class="newRow" id="cell1" name="newcarrierID" placeholder="Select Carrier">
                                                                <ng-option value="{{ carrier.contactID }}" *ngFor="let carrier of carriers">{{ carrier.companyName }}</ng-option>
                                                            </ng-select>
                                                        </td>
                                                        <td>
                                                            <button type="button" class="btn btn-sm btn-success"
                                                                (click)="addRow()">Add </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row my-2">
                        <div class="col-lg-12" *ngFor="let split of splitArr; let sp=index;">
                            <div class="bg-white p-3 text-dark">
                                <div class="form-group row pt-3">
                                    <div class="col-lg-10">
                                        <label
                                            class="control-label font-weight-bold font-weight-bold text-lg-right text-5">Sub Trip: {{ tripData.tripNo }} ({{ sp+1 }})
                                            <a class="mandfield ml-5" title="Delete sub trip" href="javascript:;" (click)="delSubTrip(sp)"> <i class="fa fa-trash"> </i> </a>
                                        </label>
                                    </div>

                                    <div class="col-lg-12 mb-1">
                                        <div class="table-responsive">
                                            <table class="table table-sm table-bordered table-striped table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Type</th>
                                                        <th>Date</th>
                                                        <th>Pickup Time</th>
                                                        <th>Drop Off Time</th>
                                                        <!-- <th>Actual Pickup Time</th>
                                                        <th>Actual Drop Off Time</th> -->
                                                        <th>Name</th>
                                                        <th>Location</th>
                                                        <th>Loaded/ Empty</th>
                                                        <th>Miles</th>
                                                        <th>Vehicle</th>
                                                        <th>Asset</th>
                                                        <th>Driver</th>
                                                        <th>Co- Driver</th>
                                                        <th>Carrier</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="ui-sortable example-list">
                                                    <tr class="ui-sortable-handle" *ngFor="let trip of split; let i= index">
                                                        <td>{{ trip.type }}</td>
                                                        <td>{{ trip.date | date:"yyyy/MM/dd" }}</td>
                                                        <td>{{ trip.pickupTime }}</td>
                                                        <td>{{ trip.dropTime }} </td>
                                                        <!-- <td>{{ trip.actualPickupTime }}</td>
                                                        <td>{{ trip.actualDropTime }}</td> -->
                                                        <td>{{ trip.name }}</td>
                                                        <td> {{ trip.locationName }} </td>
                                                        <td>
                                                            <span class="badge badge-dark p-1 text-uppercase" title="" data-original-title="Empty Miles"
                                                                *ngIf="!!trip.mileType">{{
                                                                trip.mileType }}</span>
                                                        </td>
                                                        <td>{{ trip.miles }} </td>
                                                        <td>{{ vehiclesObjects[trip.vehicleID] }}</td>
                                                        <td>
                                                            <span *ngFor="let addt of trip.trailerID; let f=index;">
                                                                {{ assetsObjects[addt] }}
                                                                <span *ngIf="f>0">,</span>
                                                            </span>
                                                        </td>
                                                        <td>{{ driversObjects[trip.driverID] }} </td>
                                                        <td>{{ driversObjects[trip.coDriverID] }}</td>
                                                        <td>{{ trip.carrierName }} </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <div class="bg-white p-3 text-dark">
                                <div class="form-group row pt-3">
                                    <div class="col-lg-10">
                                        <label
                                            class="control-label font-weight-bold font-weight-bold text-lg-right text-5">Trip
                                            Info</label>
                                    </div>

                                    <div class="col-lg-12">

                                        <div class="row">
                                            <div class="col-lg-4 text-center"
                                                *ngIf="trips.length > 0; else sourceElseBlock">
                                                <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Source</p>
                                                <p class="mb-0 text-4 font-weight-semibold text-dark">{{
                                                    trips[0].locationName }}</p>
                                                <p class="mb-0 text-4 font-weight-normal text-dark">{{ trips[0].date |
                                                    date:"yyyy/MM/dd" }}
                                                    {{ trips[0].time }}</p>
                                            </div>

                                            <ng-template #sourceElseBlock>
                                                <div class="col-lg-4 text-center">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Source</p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark"> - </p>
                                                </div>
                                            </ng-template>

                                            <ng-template [ngIf]="trips.length > 1" [ngIfElse]="destinationElseBlock">
                                                <div class="col-lg-4 text-center">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Miles</p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark"
                                                        *ngIf="orderMiles.calculateBy != '' && orderMiles.calculateBy != null && orderMiles.calculateBy != undefined && mapOrderActive == 'active'">
                                                        {{orderMiles.calculateBy}}: {{orderMiles.totalMiles | number:
                                                        '1.0-3'}}
                                                    </p>

                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">Actual
                                                        Miles(Pc Miler):
                                                        <span
                                                            class="mb-0 text-4 font-weight-semibold text-dark">{{actualMiles
                                                            | number: '1.0-3' }}
                                                        </span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 text-center">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Destination
                                                    </p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">{{
                                                        trips[trips.length-1].locationName }}</p>
                                                    <p class="mb-0 text-4 font-weight-normal text-dark">{{
                                                        trips[trips.length-1].date | date:"yyyy/MM/dd" }} {{
                                                        trips[trips.length-1].time }}
                                                    </p>
                                                </div>
                                            </ng-template>

                                            <ng-template #destinationElseBlock>
                                                <div class="col-lg-4 text-center pt-3">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Miles</p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">-
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 text-center">
                                                    <p class="mb-0 mt-3 text-5 font-weight-bold text-dark">Destination
                                                    </p>
                                                    <p class="mb-0 text-4 font-weight-semibold text-dark">-</p>
                                                </div>
                                            </ng-template>
                                        </div>
                                        <div class="row mt-3 justify-content-center pl-5 pr-5">
                                            <div class="w100 pl-3">
                                                <div class="tripbarn"></div>
                                            </div>
                                        </div>

                                        <div class="tripinfoscroll">
                                            <div
                                                class="row d-flex flex-row flex-nowrap justify-content-between pl-3 pr-3">
                                                <div class="text-center" *ngFor="let trip of trips">
                                                    <div class="tripcirclen" data-toggle="tooltip"
                                                        title="{{ trip.locationName }}"></div>
                                                    <div class="tripcontentn" data-toggle="tooltip"
                                                        title="{{ trip.locationName }}">
                                                        <p class="font-weight-bold text-dark text-2 line-height-xs">{{
                                                            trip.type}}
                                                            <br>{{ trip.date | date: "yyyy/MM/dd" }} - {{ (trip.type ==
                                                            'Pickup') ? trip.pickupTime : trip.dropTime }}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                      <div class="col-12">
                        <mat-accordion>
                          <mat-expansion-panel hideToggle >
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                                <label
                                class="control-label text-lg-right text-5">Map View</label>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row mb-3">
                              <div class="col-lg-12">
                                  <div class="bg-white p-3 text-dark">
                                      <div class="form-group row pt-2">
                                          <div class="col-lg-12 mb-2">
                                              <ng-template [ngIf]="selectedVehicleSpecs.length==0 && trips.length>1">
                                                  <p class="text-4 font-weight-normal">*Vehicle is missing. To get specific
                                                      Vehicle route please select the truck</p>
                                              </ng-template>
                                              <div class="mapclass" id="map_view">
                                                  <div id="map" class=""></div>
                                              </div>

                                          </div>

                                      </div>
                                  </div>
                              </div>
                          </div>



                          </mat-expansion-panel>
                        </mat-accordion>

                      </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <div class="bg-white p-3 text-dark">
                                <div class="form-group row">
                                    <div class="col-lg-12">
                                        <div class="bggreyn p-3">
                                            <h3 class="font-weight-bold text-dark text-6 mt-0 mb-1">Notifications</h3>
                                            <div class="row">

                                                <div class="col-lg-6 col-md-6">
                                                    <label
                                                        class="control-label font-weight-bold text-3 text-dark">Planned
                                                        v/s Changed Route</label>
                                                    <div class="checkbox-custom checkbox-default">
                                                        <input type="checkbox" id="HazMat1" name="changeRoute"
                                                            [(ngModel)]="tripData.notifications.changeRoute">
                                                        <label
                                                            class="control-label font-weight-semibold text-3 text-dark"
                                                            for="HazMat1">Notify Dispatcher about changed route?</label>
                                                    </div>
                                                    <div class="checkbox-custom checkbox-default">
                                                        <input type="checkbox" id="HazMat2" name="pickUp"
                                                            [(ngModel)]="tripData.notifications.pickUp">
                                                        <label
                                                            class="control-label font-weight-semibold text-3 text-dark"
                                                            for="HazMat2">Notify Dispatcher about pick up?</label>
                                                    </div>
                                                    <div class="checkbox-custom checkbox-default">
                                                        <input type="checkbox" id="HazMat3" name="dropOff"
                                                            [(ngModel)]="tripData.notifications.dropOff">
                                                        <label
                                                            class="control-label font-weight-semibold text-3 text-dark"
                                                            for="HazMat3">Notify Dispatcher about drop off?</label>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6 col-md-6">
                                                    <label
                                                        class="control-label font-weight-bold text-3 text-dark">Trip
                                                        Details</label>

                                                    <div class="checkbox-custom checkbox-default">
                                                        <input type="checkbox" id="HazMat4" name="tripToDriver"
                                                            [(ngModel)]="tripData.notifications.tripToDriver">
                                                        <label
                                                            class="control-label font-weight-semibold text-3 text-dark"
                                                            for="HazMat4">Send trip details to the driver</label>
                                                    </div>
                                                    <div class="checkbox-custom checkbox-default">
                                                        <input type="checkbox" id="HazMat5" name="tripToDispatcher"
                                                            [(ngModel)]="tripData.notifications.tripToDispatcher">
                                                        <label
                                                            class="control-label font-weight-semibold text-3 text-dark"
                                                            for="HazMat5">Send trip details to the dispatcher</label>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>


                            </div>
                        </div>
                    </div>

                    <div class="form-group row text-right mt-3">
                      <div class="col-lg-12 pr-3">
                          <button type="button" class="mt-1 mr-2 btn btn-default" (click)="cancel()">Cancel</button>
                          <button (click)="createTrip()" *ngIf="!tripID" class="btn btn-success mt-1"
                              [disabled]="!tripForm.form.valid || submitDisabled">Create Trip</button>
                          <button (click)="updateTrip()" *ngIf="tripID" class="btn btn-success mt-1"
                              [disabled]="!tripForm.form.valid || submitDisabled">Update Trip</button>
                      </div>
                  </div>
                </section>
            </form>


        </section>
    </div>
</section>

<!-- order modal start -->
<div class="modal fade" id="orderModal" tabindex="-1" role="dialog" aria-labelledby="orderModal" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Select Order</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <form>
                <div class="modal-body text-dark">
                    <div class="m-2">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link pl-5 pr-5 active" id="loadFTL-tab" data-toggle="tab" href="#loadFTL"
                                    role="tab" aria-controls="loadFTL" aria-selected="true"
                                    (click)="changeOrderTab('FTL')">FTL</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link pl-5 pr-5" id="loadLTL-tab" data-toggle="tab" href="#loadLTL"
                                    role="tab" aria-controls="loadLTL" aria-selected="false"
                                    (click)="changeOrderTab('LTL')">LTL</a>
                            </li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <section class="card">
                                <div class="card-body" style="display: block;">
                                    <div class="tab-content p-0" id="myTabContent">
                                        <div class="tab-pane show active" id="loadFTL" role="tabpanel"
                                            aria-labelledby="loadFTL-tab">
                                            <div class="tripvet-scroll-y addtrip-odnuscrollbar">
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-bordered table-striped mb-0 dataTable no-footer">
                                                        <thead>
                                                            <tr class="" role="row">
                                                                <th></th>
                                                                <th class="text-2">Order#</th>
                                                                <th class="text-2">Customer</th>
                                                                <th class="text-2">Pickup Location</th>
                                                                <th class="text-2">Drop Off Location</th>
                                                                <th class="text-2">Total Amount</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="ui-sortable">
                                                            <tr *ngIf="ftlOrders.length == 0" class="text-center">
                                                                <td colspan="7">No records found</td>
                                                            </tr>
                                                            <tr class="ui-sortable-handle odd" role="row"
                                                                *ngFor="let order of ftlOrders">
                                                                <td class="sorting_1">
                                                                    <input type="radio" name="ftlOrderIds"
                                                                        value="{{ order.orderNumber }}"
                                                                        [checked]="order.selected"
                                                                        id="{{ order.orderID }}"
                                                                        (change)="selectOrderIDS('ftl')">
                                                                </td>

                                                                <td class="loadid"><a href="javascript:;">{{
                                                                        order.orderNumber }}</a></td>

                                                                <td>{{ customersObjects[order.customerID] }}</td>
                                                                <td>
                                                                    <div [innerHTML]="order.pickupLocations"></div>
                                                                </td>
                                                                <td>
                                                                    <div [innerHTML]="order.deliveryLocations"></div>
                                                                </td>
                                                                <td> {{ order.totalAmount }} CAD</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="loadLTL" role="tabpanel"
                                            aria-labelledby="loadLTL-tab">
                                            <table class="table table-bordered table-striped mb-0 dataTable no-footer">
                                                <thead>
                                                    <tr class="">
                                                        <th></th>
                                                        <th class="text-2">Order#</th>
                                                        <th class="text-2">Customer</th>
                                                        <th class="text-2">Pickup Location</th>
                                                        <th class="text-2">Drop Off Location</th>
                                                        <th class="text-2">Total Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="ui-sortable">
                                                    <tr *ngIf="ltlOrders.length == 0" class="text-center">
                                                        <td colspan="7">No records found</td>
                                                    </tr>
                                                    <tr class="ui-sortable-handle" *ngFor="let order of ltlOrders">
                                                        <td>
                                                            <!-- <input type="checkbox"> -->
                                                            <input type="checkbox" value="{{ order.orderNumber }}"
                                                                name="ltlOrderIds" id="{{ order.orderID }}"
                                                                [checked]="order.selected"
                                                                (change)="selectOrderIDS('ltl')">
                                                        </td>
                                                        <td class="loadid"><a href="javascript:;">{{ order.orderNumber
                                                                }}</a></td>

                                                        <td>{{ customersObjects[order.customerID] }}</td>

                                                        <td>
                                                            <div [innerHTML]="order.pickupLocations"></div>
                                                        </td>
                                                        <td>
                                                            <div [innerHTML]="order.deliveryLocations"></div>
                                                        </td>
                                                        <td> {{ order.totalAmount }} CAD</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-md-12 text-right">
                        <a class="btn btn-success modal-confirm mr-3" href="javascript:;"
                            (click)="saveSelectOrderIDS()">Select</a>
                        <button class="btn btn-default modal-dismiss" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- order modal end -->

<!-- new asset modal -->
<div id="assetModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Assign</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="card-body text-dark table-scroll-y table-scrollplan" data-select2-id="279">
                    <table class="table table-bordered table-responsive-lg table-striped mb-0" data-select2-id="278">
                        <thead>
                            <tr>
                                <th width="25%">Vehicle</th>
                                <th width="25%">Asset</th>
                                <th width="25%">Driver</th>
                                <th>Co-Driver</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <ng-select [items]="vehicles" bindLabel="vehicleIdentification"
                                        bindValue="vehicleID" name="assetDataVehicleID" [(ngModel)]="assetDataVehicleID"
                                        id="vehicleSelect" (change)="vehicleChange($event,'change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="informationAsset" [(ngModel)]="informationAsset"
                                        id="informationAsset" [items]="assets" bindLabel="assetIdentification"
                                        [multiple]="true" bindValue="assetID" (change)="assetsChange($event,'change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="assetDataDriverUsername" [(ngModel)]="assetDataDriverUsername"
                                        id="driverSelect" [items]="drivers" bindLabel="fullName" bindValue="userName"
                                        (change)="driverChange($event,'driver','change')">
                                    </ng-select>
                                </td>
                                <td>
                                    <ng-select name="assetDataCoDriverUsername" [(ngModel)]="assetDataCoDriverUsername"
                                        id="coDriverSelect" [items]="codrivers" bindLabel="fullName"
                                        bindValue="userName" (change)="driverChange($event,'codriver','change')">
                                    </ng-select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <table>
                                        <!-- <thead>head</thead> -->
                                        <tbody>
                                            <tr *ngFor="let vehicle of vehicles">
                                                <td class="vehicleClass" id="veh_{{ vehicle.vehicleID }}"
                                                    (click)="vehicleChange(vehicle,'click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-bold text-dark"><i
                                                                class="fas fa-truck-moving" data-toggle="tooltip"
                                                                data-placement="bottom" title=""
                                                                data-original-title="Vehicle"></i> {{
                                                            vehicle.vehicleIdentification }}</p>
                                                        <span class="driverstatus"><i class="fas fa-map-marker-alt"
                                                                data-toggle="tooltip" data-placement="bottom" title=""
                                                                data-original-title="Loation"></i> Kingston, Toronto, ON
                                                            K7L 5K4
                                                        </span>
                                                        <span class="driverstatus">Current Status:
                                                            <span class="badge badge-pills badge-dark p-1"
                                                                data-toggle="tooltip" data-placement="bottom" title=""
                                                                data-original-title="Current Status">ON
                                                                ROAD<span></span>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let asset of assets">
                                                <td class="assetClass" id="asset_{{ asset.assetID }}"
                                                    (click)="assetsChange(asset,'click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-semibold text-dark"> {{
                                                            asset.assetIdentification }}</p>
                                                        <span class="driverstatus"><i class="fas fa-map-marker-alt"></i>
                                                            Kingston,
                                                            Toronto, ON K7L 5K4</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let driver of drivers">
                                                <td class="driverClass" id="drivr_{{driver.driverID}}"
                                                    (click)="driverChange(driver,'driver','click')">
                                                    <div class="">
                                                        <p class="mb-1 text-4 font-weight-semibold text-dark"><span
                                                                class="offduty pull-right">OFF</span> {{ driver.fullName
                                                            }}</p>
                                                        <span class="driverstatus"> Crescent Road Vancouver, BC V6T
                                                            1Z2</span>
                                                        <span class="driverstatus"><i class="fas fa-clock"></i> <span
                                                                class="font-weight-bold">Cycle Reset In:</span> 2 hrs 30
                                                            mins</span>
                                                        <span class="driverstatus"><i class="fa fa-clock"></i> <span
                                                                class="font-weight-bold">HOS:</span> 7 hrs 30
                                                            mins</span>
                                                        <span class="driverstatus"><i class="fas fa-user"></i> <span
                                                                class="font-weight-bold">On Duty Hours:</span> 2 hr 30
                                                            mins</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>

                                    </table>
                                </td>
                                <td>
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let driver of codrivers">
                                                <td class="codriverClass" id="codrivr_{{driver.driverID}}"
                                                    (click)="driverChange(driver,'codriver','click')">
                                                    {{ driver.fullName }} <span class="offduty pull-right">OFF</span>
                                                    <span class="driverstatus"><i class="fas fa-clock"></i> <span
                                                            class="font-weight-bold">Cycle Reset In:</span> 2 hrs 30
                                                        mins</span>
                                                    <span class="driverstatus"><i class="fa fa-clock"></i> <span
                                                            class="font-weight-bold">HOS:</span> 7 hrs 30 mins</span>
                                                    <span class="driverstatus"><i class="fas fa-user"></i> <span
                                                            class="font-weight-bold">On Duty Hours:</span> 2 hr 30
                                                        mins</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer card-footer">
                <div class="row">
                    <div class="col-md-12 text-right">

                        <button class="btn btn-default modal-dismiss mr-2" data-dismiss="modal"> Cancel</button>
                        <a href="javascript:;" class="btn btn-success mr-2" (click)="saveAssetModalData('')"> Assign</a>
                        <a href="javascript:;" *ngIf="tempTextFieldValues.type == 'edit'" class="btn btn-success mr-2"
                            (click)="showConfirmationPopup()"> Assign for all</a>
                        <!-- <a href="javascript:;" *ngIf="tempTextFieldValues.type == 'edit'" class="btn btn-success mr-2" (click)="saveAssetModalData('populate')"> Save and populate</a> -->
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- confirmation modal -->
<div class="modal fade" id="assignConfirmationModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document" style="max-width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Confirmation</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row text-dark">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-lg-12">
                                    <label class="control-label pt-2">Do you want to assign selected Vehicle(s)/
                                        Asset(s)/ Driver(s)/ CoDriver(s) to all the routes?</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                    <button type="button" class="btn btn-success" (click)="saveAssetModalData('populate')">Yes</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- manual location modal -->
<div class="modal fade" id="manualLocationModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document" style="max-width: 750;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add Location</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form #addManLoc="ngForm">
                <div class="modal-body">
                    <div class="form-group row text-dark">
                        <div class="col-lg-12">
                            <div class="bg-white p-3">
                                <div class="form-group row text-dark">
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                    <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                    </label>
                                                <input type="text" class="form-control" name="address1" [(ngModel)]="locObj.addr" #aaddr="ngModel" required 
                                                    placeholder="eg. 71,New Highway Road, Ontario, Canada">

                                                <div *ngIf="aaddr.invalid && (aaddr.dirty || aaddr.touched)" class="text-danger">
                                                    <div *ngIf="aaddr.errors.required">
                                                        Address is required.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                    Country <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <ng-select (change)="getStates($event)" [(ngModel)]="locObj.cCode" #adrCountry="ngModel" required 
                                                    name="countryCode" class="form-control populate" placeholder="Select Country">
                                                    <ng-option *ngFor="let country of countries" value="{{ country.countryCode }}">
                                                        {{ country.countryName }}
                                                    </ng-option>
                                                </ng-select>
                                                <div *ngIf="adrCountry.invalid && (adrCountry.dirty || adrCountry.touched)" class="text-danger">
                                                    <div *ngIf="adrCountry.errors.required">
                                                        Country is required.
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                    Province/State<span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                </label>
                                                <ng-select (change)="getCities($event, locObj.cCode)" [(ngModel)]="locObj.sCode" #adrState="ngModel" required 
                                                    name="stateCode" class="form-control populate" placeholder="Select State">
                                                    <ng-option *ngFor="let state of states" value="{{ state.stateCode }}">
                                                        {{ state.stateName }}
                                                    </ng-option>
                                                </ng-select>
                                                <div *ngIf="adrState.invalid && (adrState.dirty || adrState.touched)" class="text-danger">
                                                    <div *ngIf="adrState.errors.required">
                                                        Province/State is required.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                    City <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <ng-select [(ngModel)]="locObj.ctName" name="ctName" class="form-control populate" #adrCity="ngModel" required placeholder="Select City">
                                                    <ng-option *ngFor="let city of cities" value="{{ city.cityName }}">
                                                        {{ city.cityName }}
                                                    </ng-option>
                                                </ng-select>
                                                <div *ngIf="adrCity.invalid && (adrCity.dirty || adrCity.touched)" class="text-danger">
                                                    <div *ngIf="adrCity.errors.required">
                                                        City is required.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                    Code<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input type="text" class="form-control" placeholder="eg. 7V23R4" [(ngModel)]="locObj.zipCode" name="zipCode" #adrZipcode="ngModel" required >
                                                <div *ngIf="adrZipcode.invalid && (adrZipcode.dirty || adrZipcode.touched)" class="text-danger">
                                                    <div *ngIf="adrZipcode.errors.required">
                                                        Zip Code is required.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success" (click)="saveManualLocation()" [disabled]="!addManLoc.form.valid || locDisabled">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
