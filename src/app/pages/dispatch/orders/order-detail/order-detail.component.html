<section class="body">
  <!-- start: header -->
  <app-header></app-header>
  <!-- end: header -->

  <div class="inner-wrapper">
    <!-- start: sidebar -->
    <app-sidebar></app-sidebar>
    <!-- end: sidebar -->
    <section role="main" class="content-body pt-0 pr-0 pl-0">
      <header class="page-header pr-5">
        <div class="row pr-1 mr-1" style="padding-top: 10px">
          <div class="col-md-4 col-lg-4 font-weight-bold text-4 text-dark">
            Order Detail
          </div>
          <div class="col-md-8 col-lg-8 text-right pr-1">
            <a href="all-orders.php" class="btn btn-default btn-sm"
              ><i class="fas fa-list"></i> All Orders</a
            >
            <div class="btn-group flex-wrap">
              <button
                type="button"
                class="btn btn-success btn-sm dropdown-toggle"
                data-toggle="dropdown"
                aria-expanded="false"
              >
                Actions<span class="caret"></span>
              </button>
              <div
                class="dropdown-menu"
                role="menu"
                x-placement="bottom-start"
                style="
                  position: absolute;
                  will-change: transform;
                  top: 0px;
                  left: 0px;
                  transform: translate3d(0px, 38px, 0px);
                "
              >
                <a class="dropdown-item text-1" href="#">Edit</a>
                <a class="dropdown-item text-1" href="#">Print</a>
                <a class="dropdown-item text-1" href="#">Email</a>
                <a class="dropdown-item text-1" href="#">Fax</a>
                <a class="dropdown-item text-1" href="">Cancel</a>
              </div>
            </div>
            <!-- <a href="#templateSelectionModal" class="modal-with-form btn btn-success btn-sm"><i class="fas fa-plus"></i>
                     Create Invoice</a> -->
          </div>
        </div>
      </header>
      <section class="m-2">
        <div class="row mb-3">
          <div class="col-12">
            <div
              class="bg-white p-3 d-flex justify-content-between align-items-center text-dark"
            >
              <div>
                <h4 class="m-0 font-weight-bold">James - LTL - 24556FH5</h4>
              </div>
              <div class="pull-right">
                <a routerLink="/dispatch/orders/add" class="btn btn-success btn-sm"
                  ><i class="fas fa-plus"></i> Add Order</a
                >
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-lg-12">
            <div class="bg-white p-3">
              <div class="row mb-3">
                <!--
                  <div class="col-lg-6 text-dark">
                           <div id="vehicle-details" class="">
                              <div class="row m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Customer:</div>
                                 <div class="col-lg-8 p-2 border-box">James</div>
                              </div>
                              <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Address:</div>
                                 <div class="col-lg-8 p-2 border-box">100 Street, Olympic Park</div>
                              </div>
                              <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">City, State:</div>
                                 <div class="col-lg-8 p-2 border-box">Calagary, AB</div>
                              </div>
                              <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Country:</div>
                                 <div class="col-lg-8 p-2 border-box">Canada</div>
                              </div>
                              <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Phone:</div>
                                 <div class="col-lg-8 p-2 border-box">(103) 069-1461</div>
                              </div>
                              <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Email:</div>
                                 <div class="col-lg-8 p-2 border-box">info@fleetinc.ca</div>
                              </div>
                      <div class="row  m-0">
                                 <div class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray">Fax:</div>
                                 <div class="col-lg-8 p-2 border-box">(103) 069-1465</div>
                              </div>
                           </div>
                        </div>
                  -->

                <div class="col-lg-6 text-dark">
                  <div id="vehicle-details" class="">
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Customer:
                      </div>
                      <div class="col-lg-9 p-2">{{ customerName }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Address:
                      </div>
                      <div class="col-lg-9 p-2">{{ customerAddress }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        City, State:
                      </div>
                      <div class="col-lg-9 p-2">
                        {{ customerCityName }}, {{ customerStateName }}
                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Country:
                      </div>
                      <div class="col-lg-9 p-2">{{ customerCountryName }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Phone:
                      </div>
                      <div class="col-lg-9 p-2">{{ customerPhone }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Email:
                      </div>
                      <div class="col-lg-9 p-2">{{ customerEmail }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-3 p-2 font-weight-bold text-3 text-left"
                      >
                        Fax:
                      </div>
                      <div class="col-lg-9 p-2">(103) 069-1465</div>
                    </div>
                  </div>
                </div>

                <div class="col-lg-6 text-dark">
                  <div id="vehicle-details" class="">
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Customer PO#:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                        {{ customerPo }}
                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Reference:
                      </div>
                      <div class="col-lg-8 p-2 border-box">HG2525</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Order Creation Date/Time:
                      </div>
                      <div class="col-lg-8 p-2 border-box">{{ creation }}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Additonal Contact Name:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                        {{ additionalContactName }}
                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Phone:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                        {{ additionalPhone }}
                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Email:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                        {{ additionalEmail }}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="row mb-3"
          *ngFor="
            let shipperReceiversInfo of shipperReceiversInfos;
            let i = index
          "
        >
          <div class="col-lg-12">
            <div class="bg-white p-3">
              <div class="row mb-3">
                <div class="col-lg-12 mb-4 mb-lg-0">
                  <div
                    class="accordion"
                    id="accordion{{i}}"
                    style="
                      border: 0.5px solid #333;
                      background: #f6f6f6;
                      border-radius: 10px;
                      box-shadow: 2px 5px 5px #d1d1d1;
                    "
                  >
                    <div class="card card-default mb-0 mt-0">
                      <div class="card-header bgnone" id="collapse1Heading{{i}}">
                        <h4 class="card-title m-0">
                          <a
                            class="accordion-toggle cursorpoint font-weight-bold text-4 text-dark"
                            data-toggle="collapse"
                            [attr.data-target]="'#collapse' + i"
                            aria-expanded="true"
                            [attr.aria-controls]="'collapse' + i"
                          >
                            Shipment-{{ i + 1 }}</a
                          >
                        </h4>
                      </div>
                      <div
                        id="collapse{{i}}"
                        class="collapse"
                        [attr.aria-labelledby]="'collapse1Heading' + i"
                      >
                        <div class="card-body">
                          <div class="form-group row divderrel">
                            <div class="midledriver"></div>
                            <p class="mb-1 mt-1 mr-1 midleicon btn btn-default">
                              <i class="fas fa-arrow-circle-right"></i>
                            </p>
                            <div class="col-lg-6">
                              <h4
                                class="mt-0 text-dark font-weight-bold text-4"
                              >
                              Consignor
                              </h4>
                            </div>
                            <div class="col-lg-6">
                              <h4
                                class="mt-0 text-dark font-weight-bold text-4"
                              >
                              Consignee
                              </h4>
                            </div>

                            <div class="col-lg-4 pl-0 pr-0 offset-lg-1">
                              <div class="pl-0 pr-5" *ngFor="let shipper of shipperReceiversInfo.shippers; let j = index">
                               
                                 <a data-toggle="collapse" [attr.data-target]="'#collapseShipperArea-' + i + '-' + j" href="#collapseShipperArea-{{i}}-{{j}}" aria-expanded="false">
                                    <label style="background: #F4F4F4;width: 100%;" class="text-dark text-5 font-weight-bold btn">Consignor {{j+1}} 
                                      <!-- <i class="fas fa-caret-down caret_icon"></i> -->
                                    </label>
                                    <div class="expand_caret caret"></div>
                                  </a>

                                  <section>
                                    <div id="collapseShipperArea-{{i}}-{{j}}" class="collapse">
                                      <div class="row">
                                        <div class="col-lg-12">
                                          <p class="mb-0 text-dark">
                                            <strong>{{shippersObjects[shipperReceiversInfo.shippers[j].shipperID]}}</strong>
                                          </p>
                                          <p class="mb-0 text-dark">
                                             {{shipperReceiversInfo.shippers[j].pickupLocation}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Pickup Date/Time:</strong>
                                            {{shipperReceiversInfo.shippers[j].dateAndTime}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Pickup Instruction:</strong>
                                            {{shipperReceiversInfo.shippers[j].pickupInstruction}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong
                                              >Contact Person at PickUp:</strong
                                            >
                                            {{shipperReceiversInfo.shippers[j].contactPerson}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Phone:</strong> 
                                            {{shipperReceiversInfo.shippers[j].phone}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Commodity:</strong> Cakes
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Quantity:</strong> 
                                            {{shipperReceiversInfo.shippers[j].notes}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Weight:</strong> 125
                                            Kilograms
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Will Driver Load ?:</strong>
                                           {{shipperReceiversInfo.shippers[j].driverLoad}}
                                          </p>
                                        </div>
                                      </div>
                                    </div>
                                 </section>
                                <hr />
                              </div>
                            </div>

                            <div class="col-lg-4 pl-0 pr-0 offset-lg-2">
                              <div class="pl-0 pr-5" *ngFor="let receiver of shipperReceiversInfo.receivers; let k = index">
                              
                                 <a data-toggle="collapse" [attr.data-target]="'#collapseReceiverArea-' + i + '-' + k" href="#collapseReceiverArea-{{i}}-{{k}}" aria-expanded="false">
                                    <label style="background: #F4F4F4;width: 100%;" class="text-dark text-5 font-weight-bold btn">Consignee {{k+1}} </label>
                                    <div class="expand_caret caret"></div>
                                  </a>
                                  
                                  <section>
                                    <div id="collapseReceiverArea-{{i}}-{{k}}" class="collapse">
                                      <div class="row">
                                        <div class="col-lg-12">
                                          <p class="mb-0 text-dark">
                                            <strong>{{receiversObjects[shipperReceiversInfo.receivers[k].receiverID]}}</strong>
                                          </p>
                                          <p class="mb-0 text-dark">
                                             {{shipperReceiversInfo.receivers[k].dropOffLocation}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Delivery Date/Time:</strong>
                                            {{shipperReceiversInfo.receivers[k].dateAndTime}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong
                                              >Delivery Instruction:</strong
                                            >
                                            {{shipperReceiversInfo.receivers[k].dropOffInstruction}}

                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong
                                              >Contact Person at
                                              Delivery</strong
                                            >
                                            {{shipperReceiversInfo.receivers[k].contactPerson}}

                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Phone:</strong> 
                                            {{shipperReceiversInfo.receivers[k].phone}}
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Commodity:</strong> Cakes
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Quantity:</strong> 125 Box
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Weight:</strong> 125
                                            Kilograms
                                          </p>
                                          <p class="mb-0 text-dark">
                                            <strong>Will Driver Load ?:</strong>
                                            {{shipperReceiversInfo.receivers[k].driverUnload}}
                                          </p>
                                        </div>
                                      </div>
                                    </div>
                                 </section>
                                 <hr />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-lg-12">
            <div class="bg-white p-3">
              <div class="row">
                <div class="col-lg-6 text-dark">
                  <div id="vehicle-details" class="">
                    <div class="row m-0 back-color-gray">
                      <div class="col-lg-12 p-2">
                        <h2
                          class="pull-left mt-0 mb-0 text-4 font-weight-semibold text-dark"
                        >
                          Additional Details
                        </h2>
                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Drop Trailer:
                      </div>
                      <div class="col-lg-8 p-2 border-box">{{additionalDetails.dropTrailer}}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Trailer Type:
                      </div>
                      <div class="col-lg-8 p-2 border-box">{{additionalDetails.trailerType}}</div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Load Type:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                         {{additionalDetails.loadType.hazMat ? 'Hazmat' : ''}}
                         {{additionalDetails.loadType.oversize ? 'Over Size' : ''}}
                         {{additionalDetails.loadType.reefer ? 'Reefer' : ''}}
                         {{additionalDetails.loadType.tanker ? 'Tanker' : ''}}

                      </div>
                    </div>
                    <div class="row m-0">
                      <div
                        class="col-lg-4 p-2 font-weight-bold text-3 text-left back-color-gray"
                      >
                        Temperature Required:
                      </div>
                      <div class="col-lg-8 p-2 border-box">
                        From 
                        {{additionalDetails.refeerTemp.minTemprature}}
                        {{additionalDetails.refeerTemp.minTempratureUnit }}
                        To
                        {{additionalDetails.refeerTemp.maxTemprature }}
                        {{additionalDetails.refeerTemp.maxTempratureUnit }}
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-xl-6 col-12 mb-3 pl-0 pr-0">
                  <div class="col-xl-12 col-12 mb-3">
                    <div class="boxshadow1 maindisbox w100 mb-3 pull-left">
                      <div class="widgetload">
                        <div class="widgettbload">
                          <span class="pull-right text-3 mt-2 text-dark">
                          </span>
                          <h2
                            class="pull-left mt-0 mb-0 text-4 font-weight-semibold text-dark"
                          >
                            Miles for the Load is entered using: {{milesInfo.calculateBy}}
                          </h2>
                        </div>

                        <div class="widgetlinfo">
                          <table
                            class="table table-responsive-lg table-bordered table-striped table-sm mb-0"
                          >
                            <thead>
                              <tr class="bgcol2">
                                <th>From</th>
                                <th>To</th>
                                <th class="">Distance</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>Regina, SK</td>
                                <td>Winnipeg, MB</td>
                                <td>578 KM</td>
                              </tr>
                            </tbody>
                          </table>

                          <p class="mb-0 mt-3 text-dark text-right">
                            <strong>Total Miles:</strong>
                            <span class="">{{milesInfo.totalMiles}} Miles</span>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-xl-12 col-12 mb-3">
                    <div class="boxshadow1 maindisbox w100 pull-left">
                      <div class="widgetload">
                        <div class="widgettbload">
                          <span class="pull-right text-3 mt-2 text-dark">
                          </span>
                          <h2
                            class="pull-left mt-0 mb-0 text-4 font-weight-semibold text-dark"
                          >
                            Advance Received
                          </h2>
                        </div>

                        <div class="widgetlinfo">
                          <table
                            class="table table-responsive-lg table-bordered table-striped table-sm mb-0"
                          >
                            <thead>
                              <tr class="bgcol2">
                                <th>Receipt Number</th>
                                <th>Payment Date</th>
                                <th class="">Payment Mode</th>
                                <th class="">Reference</th>
                                <th class="">Amount</th>
                                <!-- <th class="">Action</th> -->
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td class="loadid">
                                  <a href="#">RCP013676000001</a>
                                </td>
                                <td>5/28/2020</td>
                                <td>Check</td>
                                <td>-</td>
                                <td>$50.00</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-lg-12">
            <div class="bg-white p-3">
              <div class="row">
                <div class="col-xl-6 col-12 mb-3 pl-0 pr-0">
                  <div class="col-xl-12 col-12 mb-3">
                    <div class="boxshadow1 maindisbox w100 pull-left">
                      <div class="widgetload">
                        <div class="widgettbload">
                          <span class="pull-right text-3 mt-2 text-dark">
                          </span>
                          <h2
                            class="pull-left mt-0 mb-0 text-4 font-weight-semibold text-dark"
                          >
                            Charges
                          </h2>
                        </div>

                        <div class="widgetlinfo">
                          <div class="col-lg-2 pull-left">
                            <img
                              src="assets/img/icon-cur.png"
                              class="img-fluid"
                              alt="shipper"
                            />
                          </div>
                          <div class="col-lg-10 pull-left">
                            <p class="mb-0 text-dark">
                              Freight Fee
                              <span class="pull-right">${{charges.freightFee.amount}}</span>
                            </p>
                            <p class="mb-0 text-dark">
                              Fuel Surcharge
                              <span class="pull-right">${{charges.fuelSurcharge.amount}}</span>
                            </p>
                            <p class="mb-0 text-dark">
                              Accessorial Amount
                              <span class="pull-right">${{charges.accessorialFeeInfo.total}}</span>
                            </p>
                            <p class="mb-0 text-dark">
                              Accessorial Deduction Amount
                              <span class="pull-right">${{charges.accessorialDeductionInfo.total}}</span>
                            </p>
                            <!-- <p class="mb-0 text-dark">
                              Discount Amount
                              <span class="pull-right">${{discount.amount}}</span>
                            </p> -->
                            <p class="mb-0 text-dark">
                              Tax Amount <span class="pull-right">${{taxesTotal}}</span>
                            </p>
                            <p class="mb-0 text-dark bordtopdas">
                              <strong>Total Charges</strong>
                              <span class="pull-right">$ {{ 
                                totalCharges
                              }}</span>
                            </p>
                            <p class="mb-0 text-dark bordtopdas">
                              <strong>Advance Received</strong>
                              <span class="pull-right">${{advances}}</span>
                            </p>
                            <p class="mb-0 text-dark bordtopdas">
                              <strong>Balance</strong>
                              <span class="pull-right">${{ balance }}</span>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-xl-6 col-12 pl-0 pr-0">
                  <div class="col-xl-12 col-12 mb-3">
                    <div class="boxshadow1 maindisbox w100 pull-left">
                      <div class="widgetload">
                        <div class="widgettbload">
                          <span class="pull-right text-3 mt-2 text-dark">
                            <div class="row">
                              <div class="col-lg-4 offset-lg-2 text-right">
                                <label class="control-label font-weight-bold"
                                  >Upload BOL/POD</label
                                >
                              </div>
                              <div class="col-lg-6">
                                <input
                                  type="file"
                                  (change)="selectDocuments($event)"
                                  multiple
                                  class="p-0 form-control mb-2"
                                />
                              </div>
                            </div>
                          </span>

                          <h2
                            class="pull-left mt-0 mb-0 text-4 font-weight-semibold text-dark"
                          >
                            <i class="fas fa-box"></i> Attachments
                          </h2>
                        </div>

                        <div class="widgetlinfo">
                          <ul class="d-flex p-0 m-0 order-attachment__preview">
                            <li *ngFor="let doc of docs">
                              <img
                                src="{{doc}}"
                                class="img-fluid"
                                height="150"
                              />
                            </li>
                            <li *ngFor="let localPhoto of localPhotos">
                              <img
                                src="{{localPhoto}}"
                                class="img-fluid"
                                height="150"
                              />
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </div>
</section>
<!-- Modal -->
<div
  class="modal fade"
  id="templateSelectionModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="templateSelectionModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" style="max-width: 1200px" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="templateSelectionModalLabel">
          Select Invoice Template
        </h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <i
            class="far fa-window-close modal-dismiss"
            style="font-size: 25px"
          ></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="invoice-templates__listing">
          <ul class="m-0 p-0 d-flex flex-wrap">
            <li
              class="position-relative"
              *ngFor="let item of templateList; let i = index"
              [ngClass]="{ active: selectedItem === i }"
              (click)="selectedItem = i"
            >
              <img src="{{ item }}" class="img-fluid" />
              <div class="invoice-actions">
                <div>
                  <a href="javascript:;" class="btn btn-success"
                    >Use template</a
                  >
                </div>
              </div>
              <div class="selected-template">
                <i class="fa fa-check-circle fa-fw" style="color: #000"></i>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="modal-footer">
        <a (click)="previewModal()" href="javascript:;" class="btn btn-success"
          >Preview</a
        >
        <button type="button" class="btn btn-default" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="previewInvoiceModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="previewInvoiceModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" style="max-width: 1200px" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div class="print-invoice__wrapper">
          <div class="container-fluid invoice-wrapper" id="print_wrap">
            <!-- Header -->
            <header>
              <div class="row align-items-center">
                <div class="col-sm-7 text-center text-sm-left mb-3 mb-sm-0">
                  <img
                    id="logo"
                    src="assets/img/logo.png"
                    title="FleetHawks"
                    alt="FleetHawks"
                  />
                </div>
                <div class="col-sm-5 text-center text-sm-right">
                  <h4 class="text-7 mb-0">Invoice</h4>
                </div>
              </div>
              <hr />
            </header>

            <!-- Main Content -->
            <main>
              <div class="row align-items-center">
                <div class="col-sm-6">
                  <strong>Invoice No:</strong> <span>16835</span> <br /><strong
                    >Invoice Date:</strong
                  >
                  <span>05/12/2020</span>
                </div>
                <div class="col-sm-6 text-sm-right">
                  <strong>Order:</strong> <span> 52415 </span>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-6">
                  <strong>Carrier:</strong>
                  <address>
                    iLoad Trucking Ltd<br />
                    245-7337 120th Street,<br />
                    Canada 67R67 <br />
                    (403) 635-6352 <br />
                    <b>Contact Person:</b> Baljit Singh
                  </address>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col-sm-6 text-sm-right order-sm-1">
                  <div *ngFor="let item of consineeData">
                    <strong>Consignee:</strong>
                    <address>
                      {{ item.receiverName }}<br />
                      {{ item.dropOffLocation }}<br />
                      {{ item.phone }} <br />
                      <b>Contact Person:</b> {{ item.contactPerson }}
                    </address>
                    <strong>Expected Date:</strong
                    ><span> {{ item.locationDateTime }}</span>
                  </div>
                </div>
                <div class="col-sm-6 order-sm-0">
                  <div *ngFor="let item of shipperData">
                    <strong>Shipper:</strong>
                    <address>
                      {{ item.shipperName }}<br /><br />
                      {{ item.pickupLocation }}<br />
                      {{ item.phone }} <br />
                      <b>Contact:</b> {{ item.contactPerson }}
                    </address>
                    <strong>Expected Date:</strong
                    ><span> {{ item.locationDateTime }}</span>
                  </div>
                </div>
              </div>
              <!-- <hr class="mb-2"> -->
              <!-- <div class="row pb-2">
                      <div class="col-4"><strong>Driver:</strong> <span>John Smith</span></div>
                      <div class="col-4 text-center"> <strong>Truck:</strong> <span>54152</span></div>
                      <div class="col-4 text-right"> <strong>Trailer:</strong> <span>#525114</span></div>
                    </div> -->
              <div class="card mt-2">
                <div class="card-header px-2 py-0" style="background: #333">
                  <table class="table mb-0">
                    <thead>
                      <tr style="color: #fff">
                        <td style="width: 65%" class="border-0">
                          <strong>commodity </strong>
                        </td>
                        <td style="width: 80px" class="text-center border-0">
                          <strong>Weight</strong>
                        </td>
                        <td style="width: 75px" class="text-center border-0">
                          <strong>QTY</strong>
                        </td>
                        <td style="width: 90px" class="text-right border-0">
                          <strong>Amount</strong>
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
                <div class="card-body py-0 px-2">
                  <div class="table-responsive">
                    <table class="table m-0">
                      <tbody>
                        <tr>
                          <td style="width: 65%" class="border-0">
                            ABC commodity
                          </td>
                          <!-- <td class="col-4 text-1 border-0"></td> -->
                          <td style="width: 80px" class="text-center border-0">
                            100 KG
                          </td>
                          <td style="width: 75px" class="text-center border-0">
                            10
                          </td>
                          <td style="width: 90px" class="text-right border-0">
                            <small>CAD </small>500.00
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="card mt-3">
                <div class="card-header px-2 py-0" style="background: #333">
                  <table class="table mb-0">
                    <thead>
                      <tr style="color: #fff">
                        <td style="width: 200px" class="border-0">
                          <strong>Fee Method</strong>
                        </td>
                        <td style="width: 100px" class="text-center border-0">
                          <strong>Value</strong>
                        </td>
                        <td style="width: 100px" class="text-center border-0">
                          <strong>Rate</strong>
                        </td>
                        <td style="width: 100px" class="text-center border-0">
                          <strong>Amount</strong>
                        </td>
                        <td style="width: 100px" class="text-center border-0">
                          <strong>Tax</strong>
                        </td>
                        <td style="width: 100px" class="text-right border-0">
                          <strong>Total</strong>
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
                <div class="card-body py-0 px-2">
                  <div class="table-responsive">
                    <table class="table m-0">
                      <tbody>
                        <tr>
                          <td style="width: 200px">
                            <strong
                              >Freight Fees <small>(Per Mile)</small></strong
                            >
                          </td>
                          <td style="width: 100px" class="text-center">
                            1200 Miles
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>2.00
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>2,400
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>400 <small>(13.0%)</small>
                          </td>
                          <td style="width: 100px" class="text-right">
                            <small>CAD </small>2,800
                          </td>
                        </tr>
                        <tr>
                          <td style="width: 200px">
                            <strong
                              >Fuel Surcharge
                              <small><br />(Per Mile)</small></strong
                            >
                          </td>
                          <td style="width: 100px" class="text-center">
                            1200 Miles
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>1.00
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>1,200
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>250 <small>(12.0%)</small>
                          </td>
                          <td style="width: 100px" class="text-right">
                            <small>CAD </small>1,650
                          </td>
                        </tr>
                        <tr>
                          <td style="width: 200px">
                            <strong>Tarp <small>(Other Charges)</small></strong>
                          </td>
                          <td style="width: 100px" class="text-center">-</td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>30
                          </td>
                          <td style="width: 100px" class="text-center">
                            <small>CAD </small>30
                          </td>
                          <td style="width: 100px" class="text-center">-</td>
                          <td style="width: 100px" class="text-right">
                            <small>CAD </small>30
                          </td>
                        </tr>
                        <tr>
                          <td colspan="4" class="bg-light-2 text-right">
                            <strong>Total:</strong>
                          </td>
                          <td class="bg-light-2 text-center">
                            <strong><small>CAD </small>650</strong>
                          </td>
                          <td class="bg-light-2 text-right">
                            <strong><small>CAD </small>4,480</strong>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="5" class="bg-light-2 text-right">
                            <strong>Discount:</strong>
                          </td>
                          <td class="bg-light-2 text-right">
                            <strong><small>CAD </small>80</strong>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="5" class="bg-light-2 text-right">
                            <strong>Payable Amount:</strong>
                          </td>
                          <td class="bg-light-2 text-right">
                            <strong><small>CAD </small>4,400</strong>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="card-body py-0 px-2 mt-5">
                  <div class="table-responsive">
                    <table class="table m-0">
                      <thead>
                        <tr>
                          <td class="border-0 p-0">
                            <h4 class="m-0 text-uppercase">
                              <b>Instructions</b>
                            </h4>
                          </td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-0 border-0">
                            1. PLEASE ENSURE DRIVER IDENTIFIES HIMSELF AS P/U ON
                            BEHALF OF TOTAL LOGISTICS
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            2. DRIVER MUST BE ABLE AND WILLING TO PROVIDE EITHER
                            COMPANY PHOTO ID or ANOTHER PIECE OF SUITABLE
                            PICTURE IDENTIFICATION UPON SHIPPER/RECEIVER REQUEST
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            3. ALL DRIVERS ARE REQUIRED TO HAVE SAFETY SHOES AND
                            VEST
                          </td>
                        </tr>

                        <tr>
                          <td class="p-0 border-0 mt-2 text-uppercase">
                            <b
                              >NOTE: Please note that all Food Products are
                              subject to FDA review and therefore all drivers
                              must report to the FDA office at the time of
                              crossing</b
                            >
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="card-body py-0 px-2 mt-5">
                  <div class="table-responsive">
                    <table class="table m-0">
                      <thead>
                        <tr>
                          <td class="border-0 p-0">
                            <h4 class="m-0 text-uppercase">
                              <b>Terms &amp; Conditions</b>
                            </h4>
                          </td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> INVOICE WITH ALL PAPERWORK HAS TO BE SENT
                            TO APinvoice@totallogistics.com
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> TIME IN &amp; OUT REQUIRED FOR PICK-UP AND
                            DELIVERY
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> Third party billing by Total Logistics
                            Control
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> All trailers must arrive at receivers
                            sealed - FTLs Sealed and LTLs sealed or Padlocked
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> Fuel surcharge included in all rates
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> All trailers must be 53' in length with
                            barn doors, FOOD GRADE, odour-free, dry and clean
                          </td>
                        </tr>
                        <tr>
                          <td class="p-0 border-0">
                            <b></b> Do not mix with hazmat or toxic materials
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </main>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-default" data-dismiss="modal">Cancel</button>
        <a href="javascript:;" (click)="generatePDF()" class="btn btn-success"
          >Print</a
        >
      </div>
    </div>
  </div>
</div>

<!-- VIEW DOCUMENT MODAL -->
<div
  class="modal fade"
  id="viewDocModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="viewDocModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="viewDocModalLabel">View Document</h5>
        <button
          type="button"
          (click)="setSrcValue()"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group col-md-12">
            <div>
              <iframe
                [src]="pdfSrc"
                frameborder="0"
                width="100%"
                height="400px"
              >
              </iframe>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-default"
          (click)="setSrcValue()"
          data-dismiss="modal"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
