<section class="body">
    <div class="inner-wrapper">
        <section role="main" class="content-body pl-0 pr-0 pt-0">
            <header class="page-header pr19 pl11">
                <form class="form-horizontal" method="get">

                    <div class="row" style="padding-top:9px;">
                        <div class="col-md-2 col-lg-2 pr-1">
                            <ng-select [(ngModel)]="orderFiltr.category" name="category" placeholder="Search by Category" (change)="categoryChange($event)" >
                                <ng-option *ngFor="let data of categoryFilter" value="{{ data.value }}"> {{ data.name }}</ng-option>
                            </ng-select>
                        </div>

                        <div class="col-md-2 col-lg-2 pr-1">
                            <div class="input-group input-group-md mb-3" *ngIf="orderFiltr.category != 'customer' && orderFiltr.category != 'orderType' && orderFiltr.category != 'orderStatus'">
                                <input type="text" class="form-control" name="searchValue"
                                    [(ngModel)]="orderFiltr.searchValue" placeholder="Search">
                            </div>
                            <ng-select [(ngModel)]="orderFiltr.searchValue" name="searchValue" placeholder="Search By Customer" *ngIf="orderFiltr.category == 'customer'">
                                <ng-option *ngFor="let data of customersObjects | keyvalue" value="{{ data.key }}"> {{ data.value }}</ng-option>
                            </ng-select>

                            <ng-select [(ngModel)]="orderFiltr.searchValue" name="searchValue" placeholder="Search By Order Status" *ngIf="orderFiltr.category == 'orderStatus'">
                                <ng-option *ngFor="let data of statusData" value="{{ data.value }}"> {{ data.name }}</ng-option>
                            </ng-select>

                            <ng-select [(ngModel)]="orderFiltr.searchValue" name="searchValue" placeholder="Search By Order Type" *ngIf="orderFiltr.category == 'orderType'">
                                <ng-option value="FTL"> FTL</ng-option>
                                <ng-option value="LTL"> LTL</ng-option>
                            </ng-select>
                        </div>

                        <div class="col-lg-3 col-md-3 pr-1">
                            <div class="input-daterange input-group">
                                <span class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fas fa-calendar-alt"></i>
                                    </span>
                                </span>
                                <input [(ngModel)]="orderFiltr.startDate" name="fromDate" type="text"

                                    placeholder="yyyy/mm/dd" (click)="from.toggle()" ngbDatepicker #from="ngbDatepicker"

                                    class="form-control" autocomplete="off" [minDate]="dateMinLimit" [maxDate]="futureDatesLimit">
                                <span class="input-group-text border-left-0 border-right-0 rounded-0">
                                    to
                                </span>
                                <input [(ngModel)]="orderFiltr.endDate" name="toDate" type="text"

                                    placeholder="yyyy/mm/dd" (click)="to.toggle()" ngbDatepicker #to="ngbDatepicker"

                                    class="form-control" autocomplete="off" [minDate]="dateMinLimit" [maxDate]="futureDatesLimit">
                            </div>
                        </div>

                        <div class="col-md-2 col-lg-2">
                            <button type="submit" class="btn btn-sm btn-success mr-3"
                                (click)="filterOrders()">Search</button>
                            <button type="submit" class="btn btn-sm btn-success" (click)="resetFilter()">Reset</button>
                        </div>
                        <div class="col-md-3 col-lg-3 pr-1 text-right">

                            <div class="btn-group flex-wrap mr-2" *ngIf="!environment">
                                <button type="button" class="btn btn-success btn-sm dropdown-toggle"
                                    data-toggle="dropdown" aria-expanded="false">Actions<span
                                        class="caret"></span></button>
                                <div class="dropdown-menu" role="menu" x-placement="bottom-start"
                                    style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 38px, 0px);">
                                    <a class="dropdown-item text-1" href="">Import</a>
                                    <a class="dropdown-item text-1" href="">Export</a>
                                </div>
                            </div>
                            <a href="javascript:;" (click)="refreshData()" data-toggle="tooltip" title="Refresh data" class="btn btn-success btn-sm modal-with-form mr-2">
                                <i class="fas fa-sync"></i>
                            </a>
                            <a routerLink="/dispatch/orders/add" href="javascript:;"
                                class="btn btn-success btn-sm modal-with-form" style="color:white;"><i class="fas fa-plus"></i> Add Order </a>

                        </div>
                    </div>
                </form>
            </header>

            <section class="m-2">
                <div class="row mb-3">
                   <div class="col-lg-12">
                      <div class="bg-white p-3 text-dark">
                         <div class="form-group row">

                            <div class="col-lg-12 pl-0 pr-0">
                                <div class="m-2">
                                    <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="allOrders-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'all'}"
                                                (click)="fetchTabData('all')">All</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="confirmed-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'confirmed'}"
                                                (click)="fetchTabData('confirmed')">Confirmed : {{ confirmOrders.length }}</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="dispatched-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'dispatched'}"
                                                (click)="fetchTabData('dispatched')">Dispatched : {{ dispatchOrders.length }}</a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="cancelledDispatch-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'cancelled'}"
                                                (click)="fetchTabData('cancelled')">Cancelled Dispatch :
                                                {{ cancelledOrders.length }}</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="delivered-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'delivered'}"
                                                (click)="fetchTabData('delivered')">Delivered : {{ deliveredOrders.length }}</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="tonu-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'tonu'}"
                                                (click)="fetchTabData('tonu')">TONU : {{ tonuOrders.length }}</a>
                                        </li>
                                        <!-- <li class="nav-item">
                                            <a class="nav-link navtabs" id="invoiced-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'invoiced'}"
                                                (click)="fetchTabData('invoiced')">Invoiced : {{ invoicedOrders.length }}</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link navtabs" id="partiallyPaid-tab" href="javascript:;" [ngClass]="{'active': activeTab == 'partiallyPaid'}"
                                                (click)="fetchTabData('partiallyPaid')">Partially Paid :
                                                {{ partiallyOrders.length }}</a>
                                        </li> -->
                                    </ul>
                                </div>
                                <div class="tab-content" id="myTabContent" style="box-shadow:none;border:none;">
                                    <div class="tab-pane show active" id="allOrders" role="tabpanel" aria-labelledby="allOrders-tab" [ngClass]="{'show active': activeTab == 'all'}" *ngIf="activeTab == 'all'">
                                        <table class="row-border hover table table-bordered table-striped mb-0" >
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date </th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="orders.length === 0" class="text-center">
                                                    <td colspan="10">{{ dataMessage }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of orders[ordersDraw];let i = index;">
                                                    <td [routerLink]="order.url" class="font-weight-bold">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td [routerLink]="order.url" class="text-capitalize">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.cityName}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.stateName}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.countryName}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.cityName}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.stateName}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.countryName}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td  [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                <a *ngIf="order.orderStatus === 'created'" class="dropdown-item"
                                                                    (click)="changeStatus(order.orderID, order.orderNumber)">Confirm</a>
                                                                <a *ngIf="order.orderStatus === 'created' || order.orderStatus === 'confirmed'" class="dropdown-item"
                                                                    (click)="showBrokerageModal(order, ordersDraw, i, 'all')">Brokerage</a>
                                                                    <a *ngIf="order.orderStatus === 'brokerage'" class="dropdown-item"
                                                                    (click)="updateCreatedStatus(order, ordersDraw, i)">Cancel Brokerage</a>
                                                                <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="row mt-3 dtPaginate" *ngIf="records">
                                            <div class="col-6">
                                                Showing {{ ordersStartPoint }} to {{ ordersEndPoint }} of {{ totalRecords }} enteries
                                            </div>
                                            <div class="col-6 text-right">
                                                <button type="button" class="btn btn-default mr-2" (click)="prevResults('all')" [disabled]="ordersPrev">Prev</button>
                                                <button type="button" class="btn btn-default" (click)="nextResults('all')" [disabled]="ordersNext">Next</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane show" id="confirmedOrders" role="tabpanel" aria-labelledby="confirmedOrders-tab" [ngClass]="{'show active': activeTab == 'confirmed'}" *ngIf="activeTab == 'confirmed'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>

                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup  Location</th>
                                                    <th>Drop Off Location</th>

                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="confirmOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of confirmOrders;let i = index;">
                                                    <td [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td class="text-capitalize" [routerLink]="order.url">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a *ngIf="order.orderStatus === 'created' || order.orderStatus === 'confirmed'" class="dropdown-item"
                                                                (click)="showBrokerageModal(order, '', i, 'section')">Brokerage</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                 <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane show" id="dispatchedOrders" role="tabpanel" aria-labelledby="dispatchedOrders-tab" [ngClass]="{'show active': activeTab == 'dispatched'}" *ngIf="activeTab == 'dispatched'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="dispatchOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of dispatchOrders;let i = index;">
                                                    <td [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td class="text-capitalize" [routerLink]="order.url">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                 <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane show" id="deliveredOrders" role="tabpanel" aria-labelledby="deliveredOrders-tab" [ngClass]="{'show active': activeTab == 'delivered'}" *ngIf="activeTab == 'delivered'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="deliveredOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of deliveredOrders;let i = index;">
                                                    <td  [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td class="text-capitalize" [routerLink]="order.url">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                 <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane show" id="cancelledOrders" role="tabpanel" aria-labelledby="cancelledOrders-tab" [ngClass]="{'show active': activeTab == 'cancelled'}" *ngIf="activeTab == 'cancelled'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="cancelledOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of cancelledOrders;let i = index;">
                                                    <td [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td [routerLink]="order.url" class="text-capitalize">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane show" id="invoicedOrders" role="tabpanel" aria-labelledby="invoicedOrders-tab" [ngClass]="{'show active': activeTab == 'invoiced'}" *ngIf="activeTab == 'invoiced'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="invoicedOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of invoicedOrders;let i = index;">
                                                    <td  [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td class="text-capitalize" [routerLink]="order.url">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane show" id="partiallyPaidOrders" role="tabpanel" aria-labelledby="partiallyPaidOrders-tab" [ngClass]="{'show active': activeTab == 'partiallyPaid'}" *ngIf="activeTab == 'partiallyPaid'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="partiallyOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of partiallyOrders;let i = index;">
                                                    <td  [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td [routerLink]="order.url" class="text-capitalize">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                                <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="tab-pane show" id="tonuOrders" role="tabpanel" aria-labelledby="tonu-tab" [ngClass]="{'show active': activeTab == 'tonu'}" *ngIf="activeTab == 'tonu'">
                                        <table class="row-border hover table table-bordered table-striped mb-0">
                                            <thead>
                                                <tr>
                                                    <th>Order#</th>
                                                    <th>Type</th>
                                                    <th>Date</th>
                                                    <th>Customer</th>
                                                    <th>Pickup Location</th>
                                                    <th>Drop Off Location</th>
                                                    <th>Commodity</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngIf="tonuOrders.length == 0" class="text-center">
                                                    <td colspan="10">{{ noOrdersMsg }}</td>
                                                </tr>
                                                <tr class="cursorpoint" *ngFor="let order of tonuOrders;let i = index;">
                                                    <td  [routerLink]="order.url">
                                                        {{ order.orderNumber }}</td>
                                                    <td [routerLink]="order.url">{{order.orderMode}}</td>
                                                    <td [routerLink]="order.url">{{order.createdDate | date:'yyyy/MM/dd'}}</td>
                                                    <td [routerLink]="order.url" class="text-capitalize">{{customersObjects[order.customerID]}}</td>
                                                    <td [routerLink]="order.url">
                                                        Date: {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location:
                                                        <span *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].address.pickupLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].shippers[0].pickupPoint.length > 1">
                                                            +{{order.shippersReceiversInfo[0].shippers[0].pickupPoint.length - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">Date:- {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].dateAndTime | date:"yyyy/MM/dd hh:mm a" }}<br>
                                                        Location: -
                                                        <span *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.address}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.city}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.state}},
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.country}}
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.zipCode}}
                                                        </span>
                                                        <span *ngIf="!order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.manual">
                                                            {{order.shippersReceiversInfo[0].receivers[0].dropPoint[0].address.dropOffLocation}}
                                                        </span>
                                                        <span class="badge badge-dark" *ngIf="order.shippersReceiversInfo[0].receivers[0].dropPoint > 1">
                                                            +{{order.shippersReceiversInfo[0].receivers[0].dropPoint - 1}}
                                                        </span>
                                                    </td>
                                                    <td [routerLink]="order.url">{{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name ? 'Name: '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].name : '-'}}<br>
                                                         {{order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity ? 'Qty:'+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantity +' '+ order.shippersReceiversInfo[0].shippers[0].pickupPoint[0].commodity[0].quantityUnit : ''}}
                                                    </td>
                                                    <td [routerLink]="order.url"> {{order.charges.freightFee.currency}} {{order.totalAmount}}<br>
                                                    </td>
                                                    <td [routerLink]="order.url"><span class="badge badge-dark p-1 text-capitalize">{{order.orderStatus}}</span></td>
                                                    <td>
                                                        <div class="dropdown dropright">
                                                            <button class="bg-transparent border-0" type="button"
                                                                id="dropdownMenuButton-{{i}}" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-ellipsis-v"></i>
                                                            </button>
                                                            <div class="dropdown-menu"
                                                                attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                                                <a class="dropdown-item"
                                                                    routerLink="/dispatch/orders/edit/{{order.orderID}}">Edit</a>
                                                                <a class="dropdown-item" href="javascript:;"
                                                                    (click)="deactivateOrder(order)">Delete</a>
                                                               <a class="dropdown-item"
                                                                    [routerLink]="['/dispatch', 'orders', 'add']" [queryParams]="{ cloneID: order.orderID }">Clone</a>
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                         </div>
                      </div>
                   </div>
                </div>


             </section>



        </section>
    </div>
</section>

<!-- brokerage modal -->
<div class="modal fade" id="orderStatusModal" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document" style="max-width: 500px;">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Brokerage Order</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <div class="form-group row text-dark">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-lg-12">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Order Information</label>
                                    <p>
                                        Order# : {{ brokerage.orderNo }} <br>
                                        Order Total: {{ brokerage.finalAmount }}

                                    </p>
                                </div>
                                <div class="col-lg-8">
                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select Carrier</label>
                                    <ng-select [(ngModel)]="brokerage.carrierID" name="brokerage.carrierID" placeholder="Select Carrier">
                                        <ng-option value="{{ data.key }}" *ngFor="let data of carriersObject | keyvalue ">{{ data.value }}</ng-option>
                                    </ng-select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" [disabled]="brokerageDisabled" (click)='submitClick()'>Save</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="pdfDownload" role="dialog" tabindex="-1">
    <div class="modal-dialog" role="document" style="max-width: 500px;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Brokerage Order</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <form>
                <div class="modal-body">
                    <section class="cheque-wrapper" id="print_brokerage">
                        <table width="90%" border="0" align="center" cellpadding="0" cellspacing="0">
                            <tbody>
                            <tr> 
                                <td colspan="2" align="center"><h1 style="font-size:26px;">Order Details</h1></td>
                            </tr>
                            <tr> 
                                <td  colspan="2" height="1" bgcolor="#bbbbbb"></td>
                            </tr>
                            <tr> 
                                <td valign="top"> <h2 style="font-size:20px;">Broker: 
                                    {{ carrierData.name }}</h2>
                                <p style="font-size:13px;">{{ carrierData.address }}<br>
                                    <strong>Phone:</strong> {{ carrierData.phone }}<br>
                                    <strong>Email:</strong> {{ carrierData.email }} </p></td>
                                <td width="50%" valign="top">&nbsp;</td>
                            </tr>
                            <tr> 
                                <td  colspan="2" height="1" bgcolor="#bbbbbb"></td>
                            </tr>
                            <tr> 
                                <td width="50%" valign="top"> <h2 style="font-size:20px;">Carrier: 
                                     {{ orderData.carrierData.companyName }}</h2>
                                <p style="font-size:13px;"> {{ orderData.carrierData.address }}<br>
                                    <strong>Phone:</strong> {{ orderData.carrierData.phone }}<br>
                                    <strong>Fax:</strong> {{ orderData.carrierData.fax }} <br>
                                    <strong>Email:</strong> {{ orderData.carrierData.email }}<br><br>
                                    <br>
                                    <strong style="font-size:20px;">Agreed Amount</strong><br>
                                    <strong style="font-size:30px;">{{ brokerage.finalAmount | number : '1.2-2' }} {{ brokerage.currency }}</strong><br>
                                </p></td>
                                <td valign="top"> <table width="95%" border="0" align="right" cellpadding="0" cellspacing="0">
                                    <tbody>
                                    <tr> 
                                        <td width="40" colspan="2"><h2 style="font-size:20px;">Order Detail</h2></td>
                                    </tr>
                                    <tr> 
                                        <td colspan="2"><table width="100%" border="0" style="border:1px solid #adadad; font-size:13px; margin-bottom:10px;" cellpadding="0" cellspacing="0">
                                            <tbody>
                                            <tr> 
                                                <td style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;" bgcolor="#f3f3f3" width="25%"> 
                                                <p style="font-weight:600;">Order#</p></td>
                                                <td style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"><p>{{ brokerage.orderNo }}</p></td>
                                                <td style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;" width="25%" bgcolor="#f3f3f3"> 
                                                <p style="font-weight:600;">Distance</p></td>
                                                <td style="border-bottom:1px solid #adadad; padding-left:10px;"><p>{{ brokerage.miles }} mi </p></td>
                                            </tr>
                                            <tr> 
                                                <td style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;" bgcolor="#f3f3f3"><p style="font-weight:600;">Today 
                                                    Date</p></td>
                                                <td colspan="3" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"><p>{{ brokerage.today | date:"yyyy/MM/dd" }}</p></td>
                                            </tr>
                                            </tbody>
                                        </table></td>
                                    </tr>
                                    </tbody>
                                </table></td>
                            </tr>
                            <tr> 
                                <td  colspan="2" height="1" bgcolor="#bbbbbb"></td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <table width="100%">
                                        <tbody>
                                            <tr *ngFor="let ship of orderData.data; let i = index;">
                                                <td>
                                                    <table width="100%">
                                                        <tbody>
                                                            <tr> 
                                                                <td colspan="2"><h2 style="font-size:20px;">Shipment - {{i + 1}}</h2></td>
                                                            </tr>
                                                            <tr *ngFor="let shipr of ship.shippers"> 
                                                                <td colspan="2"> 
                                                                    <table width="100%" border="0" style="" cellspacing="0" cellpadding="0">
                                                                        <tbody>
                                                                        <table width="100%" style="border:1px solid #adadad;  font-size:13px;">
                                                                            <tbody>
                                                                                <tr bgcolor="#f3f3f3"> 
                                                                                    <td width="40%" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"> 
                                                                                    <p style="font-weight:600;">Shipper</p></td>
                                                                                    <td width="60%" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"> 
                                                                                    <p style="font-weight:600;">Pickup(s)</p></td>
                                                                                </tr>
                                                                                <tr> 
                                                                                    <td style="border-right:1px solid #adadad; padding-left:10px;"><p>
                                                                                        <strong>
                                                                                            {{ shipr.companyName }}
                                                                                        </strong><br>
                                                                                        {{ shipr.shipAddress }}</p></td>
                                                                                    <td style="border-right:1px solid #adadad; padding-left:10px;">
                                                                                        <span *ngFor="let pick of shipr.pickupPoint; let sind=index;">
                                                                                            <span *ngIf="!pick.address.manual">{{ sind+1 }}) {{ pick.address.pickupLocation }} </span>
                                                                                            <span *ngIf="pick.address.manual">{{ sind+1 }}) {{ pick.address.address }}, {{ pick.address.cityName }}, {{ pick.address.stateName }}, {{ pick.address.countryName }} </span>
                                                                                            <br><strong>Date and Time: </strong> {{ pick.dateAndTime }}<br>
                                                                                            <strong>Commodity:</strong> 
                                                                                            <span *ngFor="let comm of pick.commodity; let cind=index">
                                                                                                <br>
                                                                                                {{ cind+1 }}) <strong> Name: </strong>{{ comm.name}} 
                                                                                                <strong>, Weight: </strong> {{ comm.weight }} {{ comm.weightUnit }}
                                                                                                <strong>, Quantity: </strong> {{ comm.quantity }} {{ comm.quantityUnit }}
                                                                                                <br>
                                                                                            </span>
                                                                                            <br>
                                                                                        </span>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td colspan="3" style="margin-top:20px">
                                                                                        <table width="100%" border="0" style="border:1px solid #adadad; font-size:13px;" cellspacing="0" cellpadding="0">
                                                                                            <tbody>
                                                                                            <tr bgcolor="#f3f3f3"> 
                                                                                                <td width="40%" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"> 
                                                                                                <p style="font-weight:600;">Receiver</p></td>
                                                                                                <td width="60%" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"> 
                                                                                                <p style="font-weight:600;">Drop(s)</p></td>
                                                                                            </tr>
                                                                                            <tr *ngFor="let recvr of shipr.receivers"> 
                                                                                                <td style="border-right:1px solid #adadad; padding-left:10px;"><p><strong>{{ recvr.companyName }}</strong><br>
                                                                                                    {{ recvr.shipAddress }}</p></td>
                                                                                                <td style="border-right:1px solid #adadad; padding-left:10px;">
                                                                                                    <span *ngFor="let drop of recvr.dropPoint; let rind=index;">
                                                                                                        <span *ngIf="!drop.address.manual">{{ rind+1 }}) {{ drop.address.dropOffLocation }} </span>
                                                                                                        <span *ngIf="drop.address.manual">{{ rind+1 }}) {{ drop.address.address }}, {{ drop.address.cityName }}, {{ drop.address.stateName }}, {{ drop.address.countryName }} </span>
                                                                                                        <br><strong>Date and Time: </strong> {{ drop.dateAndTime }}<br>
                                                                                                        <strong>Commodity:</strong> 
                                                                                                        <span *ngFor="let comm of drop.commodity; let cind=index">
                                                                                                            <br>
                                                                                                            {{ cind+1 }}) <strong> Name: </strong>{{ comm.name}} 
                                                                                                            <strong>, Weight: </strong> {{ comm.weight }} {{ comm.weightUnit }}
                                                                                                            <strong>, Quantity: </strong> {{ comm.quantity }} {{ comm.quantityUnit }}
                                                                                                            <br>
                                                                                                        </span>
                                                                                                        <br>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                            </tbody>
                                                                                        </table>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                        <tr> 
                                                                            <td colspan="3">&nbsp;</td>
                                                                        </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr> 
                                <td colspan="2">&nbsp;</td>
                            </tr>
                            <tr> 
                                <td colspan="2"><table width="100%" border="0" style="border:1px solid #adadad; font-size:13px;" cellspacing="0" cellpadding="0">
                                    <tbody>
                                    <tr bgcolor="#f3f3f3"> 
                                        <td width="50%" style="border-bottom:1px solid #adadad; border-right:1px solid #adadad; padding-left:10px;"> 
                                        <p style="font-weight:600;">Description</p></td>
                                        <td width="50%" style="border-bottom:1px solid #adadad; padding-left:10px;"> 
                                        <p style="font-weight:600;">Amount</p></td>
                                    </tr>
                                    <tr *ngIf="orderData.charges.fuelSurcharge" style="border-bottom:1px solid #adadad;">
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p> 
                                            {{orderData.charges.fuelSurcharge.type}} (Fuel Surcharge)</p></td>
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p>{{orderData.charges.fuelSurcharge.amount | number : '1.2-2'}} {{orderData.charges.fuelSurcharge.currency}}</p></td>
                                    </tr>
                                    <tr *ngIf="orderData.charges.freightFee" style="border-bottom:1px solid #adadad;">
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p> 
                                            {{orderData.charges.freightFee.type}} (Freight Fee)</p></td>
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p>{{orderData.charges.freightFee.amount | number : '1.2-2'}} {{orderData.charges.freightFee.currency}}</p></td>
                                    </tr>
                                    <tr *ngFor="let acss of orderData.charges.accessorialFeeInfo.accessorialFee" style="border-bottom:1px solid #adadad;">
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p> 
                                            {{acss.type}} (Accessorial Fee)</p></td>
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p>{{acss.amount | number : '1.2-2'}} {{acss.currency}}</p></td>
                                    </tr>
                                    <tr *ngFor="let acssDed of orderData.charges.accessorialDeductionInfo.accessorialDeduction" style="border-bottom:1px solid #adadad;">
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p> 
                                            {{acssDed.type}} (Accessorial Deduction Fee)</p></td>
                                        <td style="border-right:1px solid #adadad; padding-left:10px;"><p>{{acssDed.amount | number : '1.2-2'}} {{acssDed.currency}}</p></td>
                                    </tr>
                                    </tbody>
                                </table></td>
                            </tr>
                        
                            <tr> 
                                <td colspan="2">&nbsp;</td>
                            </tr>
                            <div class="html2pdf__page-break"></div>
                            <tr> 
                                <td colspan="2"><p style="font-size:10px; margin-top:20px;"><strong>Instructions:</strong> 
                                    By signing this agreement or by picking up and taking possession of 
                                    the shipment the CARRIER agrees to all the terms and conditions as outlined 
                                    in this rate confirmation and the transportation agreement between company, 
                                    the "BROKER" and the CARRIER (the "Agreement"). No oral agreements or 
                                    conditions exist. In the event that there is a conflict between the 
                                    Agreement and this rate confirmation, the Agreement shall control. Further, 
                                    no charges or amendments to this rate confirmation will be binding unless 
                                    BROKER approves such changes in writing prior to the CARRIER taking 
                                    possession of the shipment. In accordance with 49 CFR $ 392.9 and 49 
                                    CFR $ 393.100 et all, the CARRIER and its drivers are solely responsible 
                                    for verifying the contents, counts, conditions, loading, weight, proper 
                                    weight distribution per axle, blocking, bracing, and securement of each 
                                    load for transportation. CARRIER and its drivers are solely responsible 
                                    for attaching a seal either provided by the shipper or by the CARRIER 
                                    to each shipment and ensuring the seal is not tampered or broken during 
                                    transit. Bills of Lading (BOL) must indicate the seal number and "SEAL 
                                    INTACT" AT THE TIME SHIPMENT IS DELIVERED. Shipments which are pre-loaded 
                                    and sealed or whereas the driver is not permitted on the dock to witness 
                                    the loading or counts are required to be marked on the BOL with "SHIPPER 
                                    LOAD AND COUNT." CARRIER acknowledges and agrees the CARRIER is liable 
                                    for the full invoice value of the shipment or any part thereof due to 
                                    loss or damage. CARRIER shall notify BROKER immediately in the event 
                                    any exception is listed on the BOL, the seal is broken due to a regulatory 
                                    inspection, delay in the transportation of the shipment, or there is 
                                    an incident or accident during transit. FOOD GRADE NOTICE: Due to federal, 
                                    state and local regulations which govern food grade commodities, if 
                                    the shipment container is damaged, breached, exposed to outside elements, 
                                    or the seal is broken during shipment the customer may reject the entire 
                                    shipment or if CARRIER is not able to provide a downloadable temperature 
                                    report indicating that required temperatures were maintained at all 
                                    times during transport. If the customer denies the right of salvage 
                                    or there is no right of salvage, the CARRIER will remain fully liable 
                                    for loss or damage to the shipment and no salvage will be allowed. To 
                                    the extent that any shipments subject to this rate confirmation or the 
                                    Agreement are transported within the State of California on refrigerated 
                                    equipment, CARRIER warrants that it shall only utilize equipment which 
                                    is in full compliance with the California Air Resources Board (ARB) 
                                    TRU ACTM in-use regulations. CARRIER shall indemnify BROKER and Shipper 
                                    from any penalties, costs or any other liability, imposed on Shipper 
                                    or BROKER due to CARRIER'S use of non-compliant equipment. CARRIER is 
                                    an independent contractor and not an agent or employee of BROKER. CARRIER 
                                    agrees to obey all federal, state and local laws and regulations. CARRIER 
                                    acknowledges that BROKER does not exercise direction or control over 
                                    the daily operations of the CARRIER and that the CARRIER can legally 
                                    meet all the terms, conditions and times as enumerated herein. CARRIER 
                                    shall indemnify BROKER for any loss, damage, injury, liability, expense, 
                                    cost, including reasonable attorney fees, fines, penalties, actions 
                                    and claims including, but not limited to, claims for injuries to persons, 
                                    (including death), for damage to equipment, and for damage to third 
                                    parties arising out of the CARRIER'S own negligence, wrongful act or 
                                    omission, or failure to comply with the terms of this Agreement. Neither 
                                    party shall be liable to the other for any claims, actions, or damages 
                                    due to negligence or willful misconduct of the other party. CARRIER 
                                    must notify BROKER within 24 hours of any accessorial charges. CARRIER 
                                    must provide a written certification of detention time signed by the 
                                    responsible party indicating time in and time out on the BOL. All comchecks 
                                    incur a minimum of $5.00 processing fee. </p></td>
                            </tr>
                            <tr> 
                                <td colspan="2">&nbsp;</td>
                            </tr>
                            <tr> 
                                <td colspan="2"><table width="100%" cellspacing="0" cellpadding="0">
                                    <tbody>
                                    <tr> 
                                        <td width="10%"> <p style="font-size:13px;"><strong>Accepted 
                                            By: </strong></p></td>
                                        <td width="23%" style="border-bottom:solid 1px #999;">&nbsp;</td>
                                        <td width="10%" ><strong style="font-size:13px;">Date:</strong></td>
                                        <td width="23%" style="border-bottom:solid 1px #999;">&nbsp;</td>
                                        <td width="10%" > <p style="font-size:13px;"><strong>Signature</strong></p></td>
                                        <td style="border-bottom:solid 1px #999;">&nbsp;</td>
                                    </tr>
                                    </tbody>
                                </table></td>
                            </tr>
                            <tr> 
                                <td colspan="2">&nbsp;</td>
                            </tr>
                            <tr> 
                                <td colspan="2"><table border="0" align="center" cellpadding="0" cellspacing="0">
                                    <tbody>
                                    <tr> 
                                        <td align="center"> <h2 style="font-size:13px;">Powered 
                                            By</h2>
                                        <img alt="Fleet Hawks Inc." [src]="logoSrc" width="207" height="28"> </td>
                                    </tr>
                                    </tbody>
                                </table></td>
                            </tr>
                            <tr> 
                                <td colspan="2">&nbsp;</td>
                            </tr>
                            </tbody>
                        </table>
                    </section>
                </div>
                <div class="modal-footer">
                </div>
            </form>
        </div>
    </div>
</div>
