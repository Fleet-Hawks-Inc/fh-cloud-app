<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pl-0 pr-0 pt-0">
      <header class="page-header pr-5">
        <div class="row pr-1 mr-1" style="padding-top: 10px">
          <div class="col-lg-3">

            <ng-select class="form-control populate" name="userName" [(ngModel)]="userName"
              placeholder="Select Driver" required  required>
              <optgroup label="">
                  <ng-option *ngFor="let driver of drivers" value="{{driver.userName}}">
                    {{driver.firstName}} {{driver.lastName}}
                  </ng-option>
              </optgroup>
            </ng-select>

          </div>

          <div class="col-lg-3 col-md-3">
            <div class="input-daterange input-group">
              <span class="input-group-prepend">
                <span class="input-group-text">
                  <i class="fas fa-calendar-alt"></i>
                </span>
              </span>
              <input
                type="text"
                class="form-control"
                data-plugin-datepicker=""
                placeholder="start date"
                name="fromDate"
                (click)="d1.toggle()" 
                ngbDatepicker 
                #d1="ngbDatepicker"
                [(ngModel)]="fromDate"
                autocomplete="off"
              />

              <span
                class="input-group-text border-left-0 border-right-0 rounded-0"
              >
                to
              </span>
              <input
              type="text"
              class="form-control"
              data-plugin-datepicker=""
              placeholder="to date"
              name="toDate"
              (click)="d2.toggle()" 
              ngbDatepicker 
              #d2="ngbDatepicker"
              [(ngModel)]="toDate"
              autocomplete="off"
            />
            </div>
          </div>

          <div class="col-lg-1 col-md-1">
            <button class="btn btn-success btn-sm" (click)="getLogs()">Search</button>
          </div>
        </div>
      </header>

      <div class="row">
        <div class="col pr-0">
          <section class="card">
            <div class="card-body">
              <table
                class="table table-bordered table-striped mb-0 simple-table"
              >
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Driver Name</th>
                    <th>Daily On Duty Hours</th>
                    <th>Daily Driving Left</th>
                    <th>Cycle Reset In</th>
                    <th>Break In</th>
                    <th>Violation</th>
                    <th>Distance</th>
                    <th>Detail View</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let log of logs">
                    <td>{{ log.date }}</td>
                    <td>{{ log.driverName }}</td>
                    <td>{{ log.lastEventOfDay?.totalOnDutyTime }}</td>
                    <td>{{ log.lastEventOfDay?.totalDailyDrivingLeft }}</td>
                    <td>{{ log.lastEventOfDay?.totalCycleResetIn }}</td>
                    <td>{{ log.lastEventOfDay?.totalBreakIn }}</td>
                    <td><span class="cirgrn">&nbsp;</span> No Violation</td>
                    <td>477 mi</td>
                    <td>
                      <a
                        routerLink="/compliance/hos/detailed/{{ log.userName }}/{{
                          log.date
                        }}"
                        class="btn btn-dark btn-sm mt-0"
                        >Detail View</a
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
    </section>
  </div>
</section>
