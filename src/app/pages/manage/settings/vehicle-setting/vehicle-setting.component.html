<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pl-1 pr-0 pt-0">
      <header class="page-header pr27 pl18">
        <div class="row">
          <div class="col-md-4 col-lg-4 font-weight-bold text-4 text-dark">
            <h2 class="font-weight-bold pl-0">Vehicle Settings</h2>
          </div>
          <div class="col-md-8 col-lg-8 pr-1 text-right pt-2">
            <a routerLink="/manage/settings/overview" class="btn btn-success btn-sm"><i class="fas fa-arrow-left"></i>
              Go Back</a>
          </div>
        </div>
      </header>

      <div class="routing-overview__wrapper m-3">
        <div class="row">
          <div class="col-lg-12 col-xl-12 mb-4">
            <div class=" ">
              <ul class="nav nav-tabs top-tabs">
                <!-- <li class="nav-item active">
                  <a class="nav-link active" href="#drlistset" data-toggle="tab">Vehicle Listing</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#dstatusset" data-toggle="tab">Vehicle Status</a>
                </li> -->
                <li class="nav-item active">
                  <a class="nav-link active" href="#deletedVehicles" data-toggle="tab">Deleted Vehicles</a>
                </li>
                <!--
						   <li class="nav-item">
                              <a class="nav-link" href="#impexpset" data-toggle="tab">Import/Export</a>
                           </li>
						   <li class="nav-item">
                              <a class="nav-link" href="#mperset" data-toggle="tab">Manage Access</a>
                           </li>
						   -->


              </ul>
              <div class="tab-content mt-3" style="box-shadow:none;border:none;">
                <!-- driver listing -->
                <div id="drlistset" class="tab-pane">
                  <div class="row pt-2">
                    <div class="col-12">
                      <p class="text-4 font-weight-bold text-dark">Set the visibility of vehicle listing to:</p>
                    </div>

                    <div class="col-5 offset-lg-1">
                      <div class="radio">
                        <label>
                          <input type="radio" name="ds" id="ds" class="driver-type" checked="checked">
                          Active Vehicle
                        </label>
                      </div>
                      <span class="text-2">By this setting active vehicle show only in driver listing</span>
                    </div>

                    <div class="col-5">
                      <div class="radio">
                        <label>
                          <input type="radio" name="ad" id="ad" class="driver-type">
                          Show Both Active/Inactive Vehicle
                        </label>
                      </div>
                      <span class="text-2">In this setting all listing (active, in active) show</span>
                    </div>
                  </div>

                </div>

                <!-- vehicle status -->
                <div id="dstatusset" class="tab-pane">
                  <div class="row">
                    <div class="col-10">
                      <p class="text-4 font-weight-bold text-dark">Activate or deactivate your drivers:</p>
                    </div>
                    <div class="col-2 text-right"> <a routerLink="/manage/settings/vehicle"
                        class="btn btn-success btn-sm modal-with-form"><i class="fas fa-plus"></i> Change Status</a>
                    </div>



                    <div class="col-12">
                      <table class="table table-striped table-bordered simple-table">
                        <thead>
                          <tr style="background-color:#ccc;">
                            <th>Vehicle Name</th>
                            <th>Vehicle Number</th>
                            <th>Status</th>
                            <th>Status Date/Time</th>
                            <th>Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>Volvo</td>
                            <td>V-54226</td>
                            <td>Active</td>
                            <td>10/03/2020, 07:20 PM</td>
                            <td>
                              <div class="switch switch-sm switch-dark">
                                <input type="checkbox" name="switch" data-plugin-ios-switch checked="checked" />
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>Ford</td>
                            <td>F-C23565</td>
                            <td>Inactive</td>
                            <td>10/05/2020, 10:25 AM</td>
                            <td>
                              <div class="switch switch-sm switch-dark">
                                <input type="checkbox" name="switch" data-plugin-ios-switch checked="checked" />
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td>Toyota</td>
                            <td>T9480</td>
                            <td>Active</td>
                            <td>14/02/2020, 11:45 AM</td>
                            <td>
                              <div class="switch switch-sm switch-dark">
                                <input type="checkbox" name="switch" data-plugin-ios-switch checked="checked" />
                              </div>
                            </td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- deleted vehicle list -->
                <div id="deletedVehicles" class="tab-pane active">
                  <div class="row">
                    <div class="col-10">
                      <p class="text-4 font-weight-bold text-dark">Restore deleted vehicles:</p>
                    </div>
                    <div class="col-2 text-right">
                    </div>

                   <div class="col-lg-12">
                    <div class="row" style="padding-top:10px;">
                      <div class="col-md-2 col-lg-2">
                          <div class="input-group input-group-md mb-3">
                              <input type="text" autocomplete="off" name="vehicleIdentification" placeholder="Search vehicle by name"
                                  [(ngModel)]="vehicleIdentification" class="form-control"
                                  (input)="getSuggestions($event.target.value)" />
                          </div>
                          <div *ngIf="suggestedVehicles?.length > 0" class="result-suggestions">
                              <ul class="text-capitalize">
                                 <li *ngFor="let suggestedVehicle of suggestedVehicles" style="cursor: pointer;" (click)="setVehicle(suggestedVehicle.vehicleID, suggestedVehicle.vehicleIdentification)"
                                 > {{ suggestedVehicle.vehicleIdentification }}</li>
                              </ul>
                           </div>
                      </div>
                      <div class="col-md-2 col-lg-2 pl-2">
                          <button type="button" (click)="searchFilter()"
                              class="btn btn-sm btn-success mr-3">Search</button>
                          <button type="button" (click)="resetFilter()" class="btn btn-sm btn-success">Reset</button>
                      </div>
                      <div class="col-md-8 col-lg-8 text-right pr-1 page-buttons">
                      </div>
                  </div>
                   </div>

                    <div class="col-lg-12">
                      <div class="table-responsive">
                          <table class="row-border hover table table-bordered table-striped mb-0">
                              <thead>
                                  <tr>
                                      <th>Vehicle Name/Number</th>
                                      <th>VIN</th>
                                      <th>Start Date</th>
                                      <th>Make</th>
                                      <th>Model</th>
                                      <th>Year</th>
                                      <th>Ownership</th>
                                      <th>Driver Assigned</th>
                                      <th>Team Driver Assigned</th>
                                      <th>Trip</th>
                                      <th>Plate Number</th>
                                      <th>Status</th>
                                      <th>Actions</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr *ngIf="vehicles.length == 0" class="text-center">
                                      <td colspan="13">{{ dataMessage }}</td>
                                  </tr>
                                  <tr *ngFor="let vehicle of vehicles; let i = index" class="text-capitalize">
                                      <td>
                                          <span class="font-weight-bold line-height-lg text-capitalize">{{ vehicle.vehicleIdentification }}</span>
                                      </td>
                                      <td> {{ vehicle.VIN }} </td>
                                      <td>{{ vehicle.lifeCycle.startDate | date:"yyyy/MM/dd" }}</td>
                                      <td class="text-capitalize"> {{vehicle.manufacturerID ? vehicle.manufacturerID : '-'}}</td>
                                      <td class="text-capitalize"> {{vehicle.modelID ? vehicle.modelID : '-'}}</td>
                                      <td class="text-capitalize">{{ vehicle.year ? vehicle.year : '-' }}</td>
                                      <td>{{ vehicle.annualSafetyDate | date: "yyyy/MM/dd" }}</td>
                                      <td>{{ (vehicle.ownership) ? vehicle.ownership : '-'}}</td>
                                      <td> {{ (driversList[vehicle.driverID]) ? driversList[vehicle.driverID] : '-' }}</td>
                                      <td> {{ (driversList[vehicle.teamDriverID]) ? driversList[vehicle.teamDriverID]: '-' }}</td>
                                      <td>{{(vehicle.plateNumber) ? vehicle.plateNumber : '-'}} </td>
                                      <td><span class="badge badge-dark p-1 text-uppercase">{{vehicle.currentStatus}}</span></td>
                                      <td>
                                          <div class="dropdown dropright">
                                              <button class="bg-transparent border-0" type="button"
                                                  id="dropdownMenuButton-{{ i }}" data-toggle="dropdown"
                                                  aria-haspopup="true" aria-expanded="false" [routerLink]="">
                                                  <i class="fas fa-ellipsis-v"></i>
                                              </button>
                                              <div class="dropdown-menu"
                                                  attr.aria-labelledby="dropdownMenuButton-{{ i }}">
                                                  <a class="dropdown-item" href="javascript:;"
                                                      (click)="restoreVehicle(vehicle)">Restore</a>
                                              </div>
                                          </div>
                                      </td>
                                  </tr>
                              </tbody>
                          </table>
                      </div>
                      <div class="row mt-3 dtPaginate" *ngIf="vehicles.length > 0">
                          <div class="col-6">
                              Showing {{ vehicleStartPoint }} to {{ vehicleEndPoint }} of {{ totalRecords }} enteries
                          </div>
                          <div class="col-6 text-right">
                              <button type="button" class="btn btn-default mr-2" (click)="prevResults()" [disabled]="vehiclePrev">Prev</button>
                              <button type="button" class="btn btn-default" (click)="nextResults()" [disabled]="vehicleNext">Next</button>
                          </div>
                      </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</section>
