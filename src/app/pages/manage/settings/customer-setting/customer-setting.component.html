<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pl-1 pr-0 pt-0">
      <header class="page-header pr27 pl18">
        <div class="row">
          <div class="col-md-4 col-lg-4 font-weight-bold text-4 text-dark">
            <h2 class="font-weight-bold pl-0">Customer Settings</h2>
          </div>
          <div class="col-md-8 col-lg-8 text-right pr-1 pt-2">
            <a
              routerLink="/manage/settings/overview"
              class="btn btn-success btn-sm"
              ><i class="fas fa-arrow-left"></i> Go Back</a
            >
          </div>
        </div>
      </header>

      <div class="routing-overview__wrapper m-3">
        <form class="form-horizontal" method="get">
          <div class="row">
            <div class="col-lg-12 col-xl-12 mb-4">
              <div class=" ">
                <ul class="nav nav-tabs top-tabs">
                  <!-- <li class="nav-item active">
                    <a class="nav-link active" href="#drlistset" data-toggle="tab">Assets Listing</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#dstatusset" data-toggle="tab">Assets Status</a>
                  </li> -->
                  <li class="nav-item active">
                    <a
                      class="nav-link active"
                      href="#deletedAssets"
                      data-toggle="tab"
                      >Deleted Customer</a
                    >
                  </li>
                </ul>
                <div
                  class="tab-content mt-3"
                  style="box-shadow: none; border: none"
                >
                  <!-- driver listing -->
                  <div id="drlistset" class="tab-pane">
                    <div class="row pt-2">
                      <div class="col-12">
                        <p class="text-4 font-weight-bold text-dark">
                          Set the visibility of assets listing to:
                        </p>
                      </div>

                      <div class="col-5 offset-lg-1">
                        <div class="radio">
                          <label>
                            <input
                              type="radio"
                              name="ds"
                              id="ds"
                              class="driver-type"
                              checked="checked"
                            />
                            Assets Drivers
                          </label>
                        </div>
                        <span class="text-2"
                          >By this setting active assets show only in driver
                          listing</span
                        >
                      </div>

                      <div class="col-5">
                        <div class="radio">
                          <label>
                            <input
                              type="radio"
                              name="ad"
                              id="ad"
                              class="driver-type"
                            />
                            Show Both Active/Inactive Assets
                          </label>
                        </div>
                        <span class="text-2"
                          >In this setting all listing (active, in active)
                          show</span
                        >
                      </div>
                    </div>
                  </div>

                  <!-- assets status -->
                  <div id="dstatusset" class="tab-pane">
                    <div class="row">
                      <div class="col-10">
                        <p class="text-4 font-weight-bold text-dark">
                          Activate or deactivate your assets:
                        </p>
                      </div>
                      <div class="col-2 text-right">
                        <a
                          routerLink="/manage/settings/asset"
                          class="btn btn-success btn-sm modal-with-form"
                          ><i class="fas fa-plus"></i> Change Status</a
                        >
                      </div>

                      <div class="col-12">
                        <table
                          class="table table-striped table-bordered simple-table"
                        >
                          <thead>
                            <tr style="background-color: #ccc">
                              <th>Assets Name</th>
                              <th>Assets Number</th>
                              <th>Status</th>
                              <th>Status Date/Time</th>
                              <th>Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>Horse Trailer</td>
                              <td>A254280</td>
                              <td>Active</td>
                              <td>10/03/2020, 07:20 PM</td>
                              <td>
                                <div class="switch switch-sm switch-dark">
                                  <input
                                    type="checkbox"
                                    name="switch"
                                    data-plugin-ios-switch
                                    checked="checked"
                                  />
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>Asset Trailer</td>
                              <td>A254280</td>
                              <td>Inactive</td>
                              <td>10/05/2020, 10:25 AM</td>
                              <td>
                                <div class="switch switch-sm switch-dark">
                                  <input
                                    type="checkbox"
                                    name="switch"
                                    data-plugin-ios-switch
                                    checked="checked"
                                  />
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>Asset Test</td>
                              <td>A254280</td>
                              <td>Active</td>
                              <td>14/02/2020, 11:45 AM</td>
                              <td>
                                <div class="switch switch-sm switch-dark">
                                  <input
                                    type="checkbox"
                                    name="switch"
                                    data-plugin-ios-switch
                                    checked="checked"
                                  />
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>

                  <div id="deletedAssets" class="tab-pane active">
                    <div class="row">
                      <div class="col-12">
                        <p class="text-4 mb-0 font-weight-bold text-dark">
                          Restore deleted Customers
                        </p>
                      </div>

                      <div class="col-lg-12">
                        <div class="row" style="padding-top: 10px">
                          <div class="col-md-2 col-lg-2 pl-2 pr-0">
                            <div class="mb-3">
                                <ng-select
                               [(ngModel)]="company"
                               name="company"
                               placeholder="Select company"
                               class="form-control form-control-sm populate">
                            <ng-option *ngFor ="let item of customers" value = {{item.cName}}>{{item.cName}}</ng-option>
                           </ng-select>
                            </div>
                          </div>
                          <div class="col-md-2 col-lg-2 pl-2 pr-0">
                                 <ng-select
                               [(ngModel)]="type"
                               name="type"
                               placeholder="Select Type"
                               class="form-control form-control-sm populate">
                            <ng-option value="broker">Broker</ng-option>
											<ng-option value="carrier">Carrier</ng-option>
											<ng-option value="receiver">Receiver</ng-option>
											<ng-option value="shipper">Shipper</ng-option>
											<ng-option value="customer">Customer</ng-option>
											<ng-option value="fc">Factoring Company</ng-option>
											<ng-option value="owner_operator">Owner Operator</ng-option>
											<ng-option value="vendor">Vendor</ng-option>
                                           </ng-select>
                          </div>
                          <div class="col-md-2 col-lg-2 pl-2">
                            <button
                              type="submit"
                              (click)="searchFilter()"
                              class="btn btn-sm btn-success mr-2"
                            >
                              Search
                            </button>
                            <button
                              type="button"
                              (click)="resetFilter()"
                              class="btn btn-sm btn-success"
                            >
                              Reset
                            </button>
                          </div>
                          <div
                            class="col-md-6 col-lg-6 text-right page-buttons pr-1"
                          ></div>
                        </div>
                      </div>

                      <div class="col-lg-12">
                        <!-- LIST VIEW OF ASSETS  -->
                        <div
                          class="table-responsive"
                          infiniteScroll
                          [infiniteScrollDistance]="1"
                          [infiniteScrollUpDistance]="1"
                          [infiniteScrollThrottle]="5"
                          (scrolled)="onScroll()"
                        >
                       <table 
                      class="row-border hover table table-bordered table-striped mb-0">
			            <thead>
                             <tr>
                               <th width="5%">Company Name</th>
							   <th width="6%">Email</th>
							   <th width="5%">Phone</th>
							   <th width="5%">Type</th>
							   <th width="6%">Address</th>
							   <th width="3%">Actions</th>
                             </tr>
                          </thead>
			              <tbody>
			         <tr *ngIf="customers.length == 0" class="text-center">
                        <td colspan="13">{{dataMessage}}</td>
                        </tr>
                        <tr *ngFor="let item of customers; let i = index;">
                            <td>
                                <span class="font-weight-bold line-height-lg text-capitalize">
                                   {{item.cName}}</span>
                             </td>
                             <td>{{item.workEmail ? item.workEmail : '-'}}</td>
                             <td>{{item.workPhone ? item.workPhone : '-'}}</td>
                             <td class="text-capitalize">{{item.eTypes ? item.eTypes : '-'}}</td>
                              <td *ngIf="item.adrs[0]">
                                                <span *ngIf="item.adrs[0].manual">
                                                  {{
                                                  item.adrs[0].add1
                                                  ? item.adrs[0].add1 + ","
                                                  : ""
                                                  }}
                                                  {{
                                                  item.adrs[0].add2
                                                  ? item.adrs[0].add2 + ","
                                                  : ""
                                                  }}
                                                  {{
                                                  item.adrs[0].ctyName
                                                  ? item.adrs[0].ctyName + ","
                                                  : ""
                                                  }}
                                                  {{
                                                  item.adrs[0].sName
                                                  ? item.adrs[0].sName + ","
                                                  : ""
                                                  }}
                                                  {{
                                                  item.adrs[0].cName
                                                  ? item.adrs[0].cName + ","
                                                  : ""
                                                  }}
                                                  {{ item.adrs[0].zip }}
                                                </span>
                                                <span *ngIf="!item.adrs[0].manual">
                                                  {{ item.adrs[0].userLoc ? item.adrs[0].userLoc : '-'}}
                                                </span>
                                                </td>
                                                <td>
                                                <div class="dropdown dropright">
                                            <button class="bg-transparent border-0" type="button"
                                            id="dropdownMenuButton-{{i}}" data-toggle="dropdown" 
                                            aria-haspopup="true"
                                            aria-expanded="false">
                                            <i class="fas fa-ellipsis-v"></i>
                                            </button>
                                            <div class="dropdown-menu" 
                                            attr.aria-labelledby="dropdownMenuButton-{{i}}">
                                      <a  class="dropdown-item" href="javascript:;"
                                         (click)="restoreCustomer(item)">Restore</a>
                                        </div>
                                        </div>
                                        </td>
                                        </tr>
                                        </tbody>
                                        </table>
                        </div>
                        <div
                          class="col-lg-12 mt-3 text-center"
                          *ngIf="
                            lastItemSK !== 'end' && customers.length !== 0
                          "
                        >
                          <button
                            type="button"
                            (click)="onScroll()"
                            class="btn btn-success btn-sm text-light"
                          >
                            Load More..
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </section>
  </div>
</section>
