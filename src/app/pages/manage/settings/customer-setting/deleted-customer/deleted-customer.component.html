<style>
    .extra {
        display: none;
    }
</style>
<section class="body">
    <div class="inner-wrapper">
        <section role="main" class="content-body pl-0 pt-0 pr-0">
            <header class="page-header pr19 pl11">
                <form class="form-horizontal" method="get">
                    <div class="row" style="padding-top: 10px">

                        <div class="col-md-2 col-lg-2 pr-0">
                            <div class="mb-2">
                                <ng-select [(ngModel)]="company" name="company" placeholder="Select Company"
                                    class="form-control form-control-sm populate">
                                    <ng-option *ngFor="let item of customers" value="{{ item.cName }}">{{ item.cName }}
                                    </ng-option>
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-md-2 col-lg-2 pr-0">
                            <ng-select [(ngModel)]="type" name="type" placeholder="Select Type"
                                class="form-control form-control-sm populate">
                                <ng-option value="broker">Broker</ng-option>
                                <ng-option value="carrier">Carrier</ng-option>
                                <ng-option value="receiver">Receiver</ng-option>
                                <ng-option value="shipper">Shipper</ng-option>
                                <ng-option value="customer">Customer</ng-option>
                                <ng-option value="fc">Factoring Company</ng-option>
                                <ng-option value="owner_operator">Owner Operator</ng-option>
                                <ng-option value="vendor">Vendor</ng-option>
                            </ng-select>
                        </div>
                        <div class="col-md-2 col-lg-2">
                            <button type="submit" (click)="searchFilter()" class="btn btn-sm btn-success mr-3">
                                Search
                            </button>
                            <button type="button" (click)="resetFilter()" class="btn btn-sm btn-success">
                                Reset
                            </button>
                        </div>
                        <div class="col-md-2 col-lg-6 text-right">
                            <a routerLink="/manage/settings/customer/overview" class="btn btn-success btn-sm"><i
                                    class="fas fa-arrow-left"></i> Go Back</a>
                        </div>
                    </div>
                </form>
            </header>
            <div class="routing-overview__wrapper m-2">
                <form class="form-horizontal" method="get">
                    <div class="row">
                        <div class="col-lg-12 col-xl-12 mb-4">
                            <div class=" ">
                                <ul class="nav nav-tabs top-tabs">
                                    <li class="nav-item active">
                                        <a class="nav-link active" href="#deletedAssets" data-toggle="tab">Restore Deleted
                                            Customers</a>
                                    </li>
                                </ul>
                                <div class="tab-content mt-2" style="box-shadow: none; border: none">
                                    <!-- driver listing -->
                                    <div id="drlistset" class="tab-pane">
                                        <div class="row pt-2">
                                            <div class="col-12">
                                                <p class="text-4 font-weight-bold text-dark">
                                                    Set the visibility of assets listing to:
                                                </p>
                                            </div>

                                            <div class="col-5 offset-lg-1">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="ds" id="ds" class="driver-type"
                                                            checked="checked" />
                                                        Assets Drivers
                                                    </label>
                                                </div>
                                                <span class="text-2">By this setting active assets show only in driver
                                                    listing</span>
                                            </div>

                                            <div class="col-5">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="ad" id="ad" class="driver-type" />
                                                        Show Both Active/Inactive Assets
                                                    </label>
                                                </div>
                                                <span class="text-2">In this setting all listing (active, in active)
                                                    show</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- assets status -->
                                    <div id="dstatusset" class="tab-pane">
                                        <div class="row">
                                            <div class="col-10">
                                                <p class="text-4 font-weight-bold text-dark">
                                                    Activate or deactivate your assets:
                                                </p>
                                            </div>
                                            <div class="col-2 text-right">
                                                <a routerLink="/manage/settings/asset"
                                                    class="btn btn-success btn-sm modal-with-form"><i
                                                        class="fas fa-plus"></i> Change Status</a>
                                            </div>

                                            <div class="col-12">
                                                <table class="table table-striped table-bordered simple-table">
                                                    <thead>
                                                        <tr style="background-color: #ccc">
                                                            <th>Assets Name</th>
                                                            <th>Assets Number</th>
                                                            <th>Status</th>
                                                            <th>Status Date/Time</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Horse Trailer</td>
                                                            <td>A254280</td>
                                                            <td>Active</td>
                                                            <td>10/03/2020, 07:20 PM</td>
                                                            <td>
                                                                <div class="switch switch-sm switch-dark">
                                                                    <input type="checkbox" name="switch"
                                                                        data-plugin-ios-switch checked="checked" />
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Asset Trailer</td>
                                                            <td>A254280</td>
                                                            <td>Inactive</td>
                                                            <td>10/05/2020, 10:25 AM</td>
                                                            <td>
                                                                <div class="switch switch-sm switch-dark">
                                                                    <input type="checkbox" name="switch"
                                                                        data-plugin-ios-switch checked="checked" />
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Asset Test</td>
                                                            <td>A254280</td>
                                                            <td>Active</td>
                                                            <td>14/02/2020, 11:45 AM</td>
                                                            <td>
                                                                <div class="switch switch-sm switch-dark">
                                                                    <input type="checkbox" name="switch"
                                                                        data-plugin-ios-switch checked="checked" />
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>


                                    <section class="m-2">
                                        <div class="row mb-3">
                                            <div class="col-lg-12"
                                                style="height: calc(90vh - 149px); overflow-y: scroll">
                                                <p-table #dt [value]="customers" [resizableColumns]="true"
                                                    columnResizeMode="fit" autoLayout="true" scrollDirection="both"
                                                    [columns]="selectedColumns" [loading]="!loaded"
                                                    styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped"
                                                    responsiveLayout="scroll" scrollHeight="100%">
                                                    <ng-template pTemplate="caption">
                                                        <div
                                                            class="p-d-flex d-flex justify-content-between align-items-center">
                                                            <div>
                                                                <h3 class="m-0">Deleted Customers</h3>
                                                            </div>
                                                            <div class="text-right">
                                                                <span>Showing {{dt.filteredValue ?
                                                                    dt.filteredValue.length : dt.totalRecords}} of
                                                                    {{dt.totalRecords}} Entries.</span>
                                                                &nbsp;
                                                                <button type="button" pButton (click)="refreshData()"
                                                                    pTooltip="Refresh" class="p-button-outlined mr-2"
                                                                    icon="fas fa-sync"></button>
                                                                <button pButton pRipple pTooltip="Clear Filter"
                                                                    class="p-button-outlined mr-2"
                                                                    icon="pi pi-filter-slash"
                                                                    (click)="clear(dt)"></button>
                                                                <button type="button" pButton pRipple
                                                                    class="p-button-outlined mr-2"
                                                                    icon="fas fa-regular fa-file-excel"
                                                                    (click)="dt.exportCSV()" pTooltip="Excel"></button>
                                                                <p-multiSelect [options]="dataColumns"
                                                                    [(ngModel)]="selectedColumns" optionLabel="header"
                                                                    selectedItemsLabel="{0} columns selected"
                                                                    [style]="{ minWidth: '200px' }"
                                                                    placeholder="Choose Columns">
                                                                </p-multiSelect>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                    <ng-template pTemplate="header" let-columns>
                                                        <tr>
                                                            <th *ngFor="let dataColumns of columns"
                                                                [pSortableColumn]="dataColumns.field" pResizableColumn>
                                                                <div [ngSwitch]="dataColumns.field">
                                                                    <span *ngSwitchDefault>
                                                                        <div class="flex justify-content-center align-items-center"
                                                                            alignFrozen="right" pFrozenColumn
                                                                            [frozen]="true">
                                                                            {{ dataColumns.header }}
                                                                            <p-sortIcon [field]="dataColumns.field">
                                                                            </p-sortIcon>
                                                                            <p-columnFilter [type]="dataColumns.type"
                                                                                [field]="dataColumns.field"
                                                                                matchMode="contains"
                                                                                [showMatchModes]="false"
                                                                                [showOperator]="false"
                                                                                [showAddButton]="false" display="menu">
                                                                            </p-columnFilter>
                                                                        </div>
                                                                    </span>
                                                                </div>
                                                            </th>
                                                            <th  alignFrozen="right" pFrozenColumn
                                                                [frozen]="true">
                                                                Actions
                                                            </th>
                                                        </tr>
                                                    </ng-template>
                                                    <ng-template pTemplate="body" let-customer let-columns="columns"
                                                        let-rowIndex="rowIndex">
                                                        <tr>
                                                            <td *ngFor="let dataColumns of columns"
                                                                style="cursor: pointer">
                                                                <div [ngSwitch]="dataColumns.field">
                                                                    <span *ngSwitchCase="'cName'" class="font-weight-bold line-height-lg text-capitalize">
                                                                        {{ get(customer, dataColumns.field) | titlecase
                                                                        }}
                                                                    </span>
                                                                     <span *ngSwitchCase="'workEmail'">
                                                                       {{(get(customer, dataColumns.field) ? get(customer, dataColumns.field): "-") | titlecase}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'workPhone'">
                                                                       {{(get(customer, dataColumns.field) ? get(customer, dataColumns.field): "-") | titlecase}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'address'">
                                                                        {{ get(customer, dataColumns.field) | titlecase
                                                                        }}
                                                                    </span>
                                                                    <span *ngSwitchCase="'eTypes'">
                                                                        {{ customer.eTypes ? customer.eTypes : "-"}}
                                                                    </span>
                                                                    <span *ngSwitchDefault>
                                                                        {{ get(customer, dataColumns.field) | titlecase
                                                                        }}</span>
                                                                </div>
                                                            </td>
                                                            <td style="text-align: center;" pFrozenColumn
                                                                alignFrozen="right" [frozen]="true">
                                                                <button id="btnDelete" pButton tooltipPosition="left"
                                                                    (click)="restoreCustomer(customer)"
                                                                    pTooltip="Restore Customer" type="button"
                                                                    icon="fas fa-trash-restore"
                                                                    class="p-button-rounded p-button-success p-button-text"></button>
                                                            </td>
                                                        </tr>
                                                    </ng-template>
                                                    <!-- Empty Template -->
                                                    <ng-template pTemplate="emptymessage" let-columns>
                                                        <tr>
                                                            <td colspan="15" class="text-center">
                                                                <br />
                                                                {{dataMessage}}
                                                                <br /><br />
                                                            </td>
                                                        </tr>
                                                    </ng-template>

                                                    <!-- Summary Section with Load More button -->
                                                    <ng-template pTemplate="summary" let-columns>
                                                        <div class="col-lg-12 mt-3 text-center" *ngIf="
                                               lastItemSK !== 'end' && customers.length !== 0
                                                                        ">
                                                            <button type="button " (click)="onScroll($event)"
                                                                class="btn btn-success btn-sm text-light">
                                                                Load More..
                                                            </button>
                                                            <br /><br />
                                                        </div>
                                                        <div class="col-lg-12 mt-3 text-center"
                                                            *ngIf="lastItemSK === 'end'">
                                                            Total Records: {{ customers.length }}
                                                        </div>
                                                    </ng-template>
                                                </p-table>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </div>
</section>