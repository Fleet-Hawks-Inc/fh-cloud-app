<section class="body">
  <div class="inner-wrapper">
    <section role="main" class="content-body pt-0 pr-0 pl-0">
      <header class="page-header">
        <form class="form-horizontal" method="get">
          <div class="row" style="padding-top:10px;">
            <div class="col-md-2 col-lg-2">
              <div class="input-group input-group-md mb-3">
                <input type="text" class="form-control" placeholder="Search by invoice#" [(ngModel)]="filter.invNo" name="invNo">
              </div>
            </div>
            <div class="col-lg-3 col-md-3">
              <div class="input-daterange input-group">
                 <span class="input-group-prepend">
                    <span class="input-group-text">
                       <i class="fas fa-calendar-alt"></i>
                    </span>
                 </span>
                 <input [(ngModel)]="filter.startDate" name="startDate"
                    type="text" placeholder="yyyy/mm/dd" (click)="startDate.toggle()"
                    ngbDatepicker #startDate="ngbDatepicker" class="form-control"
                    autocomplete="off">
                 <span class="input-group-text border-left-0 border-right-0 rounded-0">
                    to
                 </span>
                 <input [(ngModel)]="filter.endDate" name="endDate"
                    type="text" placeholder="yyyy/mm/dd" (click)="endDate.toggle()"
                    ngbDatepicker #endDate="ngbDatepicker" class="form-control"
                    autocomplete="off">
              </div>
           </div>
            <div class="col-md-2  col-lg-2">
              <button type="button" class="btn btn-sm btn-success" (click)="searchFilter()">Search</button>
              <button type="button" class="btn btn-sm btn-success ml-1" (click)="resetFilter()">Reset</button>
            </div>
            <div class="col-md-5  col-lg-5 text-right pr-5">
              <a routerLink="/accounts/invoices/add" class="btn btn-success btn-sm ml-2" style="color:white;"><i
                  class="fas fa-plus"></i> Add Invoice</a>
              <!-- <a routerLink="/accounts/invoices/add-load-invoice" class="btn btn-success btn-sm ml-2"
                style="color:white;"><i class="fas fa-plus"></i> Add Load Invoice</a> -->
            </div>
          </div>
        </form>
      </header>
      <section class="card pr-0 pt-0">
        <div class="card-body">
          <div class="row">
            <div class="col-lg-12 col-md-12">
              <div class="row">
                <div class="col mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Total Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{total}}</h1>
                    </div>
                  </div>
                </div>
                <div class="col mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Open Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{openTotal}}</h1>
                    </div>
                  </div>
                </div>
                <div class="col mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Paid Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{paidTotal}}</h1>
                    </div>
                  </div>
                </div>
                <div class="col mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Partially Paid Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{partiallyPaidTotal}}</h1>
                    </div>
                  </div>
                </div>
                <!-- <div class="col-lg-2 col-md-2 mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Emailed Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{emailedTotal}}</h1>
                    </div>
                  </div>
                </div> -->
                <div class="col mt-1">
                  <div class="maindriverbox" style="box-shadow: 3px 3px 5px;">
                    <div class="driverbar">
                      <span class="pull-right text-6 mt-0 text-dark"><i class="fas fa-dollar-sign"></i></span>
                      <h3 class="pull-left mt-0 text-4 font-weight-semibold text-dark">Voided Invoices</h3>
                    </div>
                    <div class="">
                      <h1 class="lbwheading mt-0 mb-0">{{voidedTotal}}</h1>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


            <div class="main-panel">
              <div class="pl-4 bg-white pb-2">
                <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="allInvoices-tab" data-toggle="tab" href="#allInvoices" role="tab"
                      aria-controls="allInvoices" aria-selected="true">All</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="openInvoices-tab" data-toggle="tab" href="#openInvoices" role="tab"
                      aria-controls="openInvoices" aria-selected="false">Open Invoices</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link nav-tabs" id="paid-tab" data-toggle="tab" href="#paid" role="tab" aria-controls="paid"
                      aria-selected="false">Paid</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link nav-tabs" id="partiallyPaid-tab" data-toggle="tab" href="#partiallyPaid" role="tab"
                      aria-controls="partiallyPaid" aria-selected="false">Partially Paid</a>
                  </li>
                  <!-- <li class="nav-item">
                    <a class="nav-link" id="emailedInvoices-tab" data-toggle="tab" href="#emailedInvoices" role="tab"
                      aria-controls="emailedInvoices" aria-selected="false">E-mailed Invoices</a>
                  </li> -->
                  <li class="nav-item">
                    <a class="nav-link nav-tabs" id="voidedInvoices-tab" data-toggle="tab" href="#voidedInvoices" role="tab"
                      aria-controls="voidedInvoices" aria-selected="false">Voided Invoices</a>
                  </li>
                </ul>
              </div>
              <div infiniteScroll
              [infiniteScrollDistance]="1"
              [infiniteScrollUpDistance]="1"
              [infiniteScrollThrottle]="5"
              (scrolled)="onScroll()">


                <div class="card-body" style="display: block; padding: 6px;" >
                    <div class="tab-content" id="myTabContent" style="box-shadow:none;border:none;">
                      <div class="tab-pane show active" id="allInvoices" role="tabpanel" aria-labelledby="allInvoices-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="invoices.length == 0 && orderInvoices.length == 0" class="text-center">
                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of orderInvoices; let i = index;">
                              <td class="cursorpoint font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                -
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <!-- <button type="button" (click)="changeStatus(inv.invID)" class="dropdown-item text-1">Change
                                      Status</button> -->
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided' && inv.invStatus !== 'partially paid'"
                                      class="dropdown-item text-1" (click)="voidOrderInvoice(inv.invID, inv.orderID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of invoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxAmount}}{{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.finalAmount}} {{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.amountReceived}} {{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.balance}} {{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                      class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <!-- <button type="button" (click)="changeStatus(inv.invID)" class="dropdown-item text-1">Change
                                      Status</button> -->
                                    <button class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'  && inv.invStatus !== 'partially paid'" (click)="editFn(inv.invID)"
                                      >Edit</button>
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided' && inv.invStatus !== 'partially paid'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <!-- Open Invoices -->
                      <div class="tab-pane fade" id="openInvoices" role="tabpanel" aria-labelledby="openInvoices-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="openInvoices.length == 0 && openOrderInvoices.length == 0" class="text-center">
                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of openOrderInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.invNo}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                              -
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown"><i
                                      class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <button type="button"
                                      class="dropdown-item text-1" (click)="voidOrderInvoice(inv.invID, inv.orderID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of openInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.txnDate | date : 'yyyy/MM/dd'}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxAmount}}{{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.finalAmount}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.amountReceived}} {{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.balance}} {{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invStatus === 'open'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <!-- <button type="button" (click)="changeStatus(inv.invID)" class="dropdown-item text-1">Change
                                      Status</button> -->
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a>
                                    <button type="button" class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <!-- Paid -->
                      <div class="tab-pane fade" id="paid" role="tabpanel" aria-labelledby="paid-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="paidInvoices.length == 0 && paidOrderInvoices.length === 0" class="text-center">

                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of paidOrderInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                              -
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <!-- <button type="button" (click)="changeStatus(inv.invID)" class="dropdown-item text-1">Change
                                      Status</button>
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a> -->
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of paidInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">-</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxAmount}}{{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.finalAmount}}{{inv.invCur}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.amountReceived}} {{inv.invCur}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                  {{inv.balance}} {{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <!-- <button type="button" (click)="changeStatus(inv.invID)" class="dropdown-item text-1">Change
                                      Status</button> -->
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a>
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="tab-pane fade" id="partiallyPaid" role="tabpanel" aria-labelledby="partiallyPaid-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="partiallyPaidInvoices.length === 0 && partiallyPaidOrderInvoices.length === 0" class="text-center">
                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of partiallyPaidOrderInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.invNo}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap" >
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <button type="button"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of partiallyPaidInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='manual'">{{inv.taxAmount}}{{inv.invCur}}</span>
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.finalAmount}}{{inv.invCur}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.amountReceived}} {{inv.invCur}}
                                </span>

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.balance}} {{inv.invCur}}
                                </span>

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a>
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="tab-pane fade" id="emailedInvoices" role="tabpanel" aria-labelledby="emailedInvoices-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="emailedInvoices.length == 0 && emailedOrderInvoices.length === 0" class="text-center">
                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of emailedOrderInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.invNo}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='manual'">{{inv.finalAmount}} {{inv.invCur}}</span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                              -
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of emailedInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">{{inv.taxAmount}}{{inv.invCur}}
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.finalAmount}}{{inv.invCur}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.amountReceived}} {{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.balance}} {{inv.invCur}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">

                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}

                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a>
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="tab-pane fade" id="voidedInvoices" role="tabpanel" aria-labelledby="voidedInvoices-tab">
                        <table class="table table-bordered table-striped mb-0 simple-table">
                          <thead>
                            <tr class="bgcol2">
                              <th class="text-2">Invoice#</th>
                              <th class="text-2">Invoice Date</th>
                              <th class="text-2">Customer</th>
                              <th class="text-2">Order#</th>
                              <th class="text-2">Freight Amount</th>
                              <th class="text-2">Other Charges</th>
                              <th class="text-2">Tax</th>
                              <th class="text-2">Total Amount</th>
                              <th class="text-2">Received</th>
                              <th class="text-2">Balance</th>
                              <th class="text-2">Due Date</th>
                              <th class="text-2">Status</th>
                              <th class="text-2">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngIf="voidedInvoices.length == 0 && voidedOrderInvoices.length === 0" class="text-center">
                              <td colspan="13">{{ dataMessage }}</td>
                            </tr>
                            <tr *ngFor="let inv of voidedOrderInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.invNo}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.charges.freightFee.amount}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='orderInvoice'">Add:
                                  {{inv.charges.accessorialDeductionInfo.total}}{{inv.charges.freightFee.currency}}</span><br>
                                <span *ngIf="inv.invType==='orderInvoice'">Deduct:
                                  {{inv.charges.accessorialFeeInfo.total}}{{inv.charges.freightFee.currency}}</span></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='manual'">{{inv.taxAmount}}{{inv.invCur}}</span>
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='manual'">{{inv.finalAmount}} {{inv.invCur}}</span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.finalAmount}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.amountReceived}} {{inv.invCur}}
                                </span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.balance}} {{inv.invCur}}
                                </span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invStatus !== 'overdue'"
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span>
                                <span *ngIf="inv.invStatus === 'overdue'"
                                  class="badge badge-danger p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                            <tr *ngFor="let inv of voidedInvoices; let i = index;">
                              <td class="cursorpoint  font-weight-bold" (click)="routeFn(inv.invID, inv.invType)">{{inv.invNo}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.txnDate | date : 'yyyy/MM/dd'}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                               {{customersObjects[inv.customerID] | titlecase}}</td>
                              <td class="loadid cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"></td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  *ngIf="inv.invType==='manual'">{{inv.taxAmount}}{{inv.invCur}}</span>
                                <span
                                  *ngIf="inv.invType==='orderInvoice'">{{inv.taxesAmt}}{{inv.charges.freightFee.currency}}</span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                {{inv.finalAmount}}{{inv.invCur}}</td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.amountReceived}} {{inv.invCur}}
                                </span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.amountReceived}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.balance}} {{inv.invCur}}
                                </span>
                                <span *ngIf="inv.invType==='orderInvoice'">
                                  {{inv.balance}} {{inv.charges.freightFee.currency}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)">
                                <span *ngIf="inv.invType==='manual'">
                                  {{inv.invDueDate | date : 'yyyy/MM/dd'}}
                                </span>
                              </td>
                              <td class="cursorpoint" (click)="routeFn(inv.invID, inv.invType)"><span
                                  class="badge badge-dark p-1">{{inv.invStatus | uppercase}}</span></td>
                              <td>
                                <div class="btn-group flex-wrap">
                                  <button type="button" class="mb-1 mt-1 mr-1 btn" data-toggle="dropdown" [disabled]="inv.invStatus === 'paid' || inv.invStatus === 'voided'  || inv.invStatus === 'partially paid'"><i
                                    class="fas fa-ellipsis-v"></i></button>
                                  <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item text-1"
                                      *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      routerLink="/accounts/invoices/edit/{{inv.invID}}">Edit</a>
                                    <button type="button" *ngIf="inv.invStatus !== 'paid' && inv.invStatus !== 'voided'"
                                      class="dropdown-item text-1" (click)="voidInvoice(inv.invID)">Void</button>
                                  </div>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                </div>
            </div>
          </div>


      </section>
    </section>
  </div>
</section>
<div class="modal fade" id="updateStatusModal" tabindex="-1" role="dialog" aria-labelledby="updateStatusModal"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Update Invoice Status</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
        </button>
      </div>
      <div class="modal-body text-dark">
        <div class="row">
          <div class="col-lg-12">
            <label class="control-label font-weight-bold font-bold text-lg-right pt-2">
              Select Status</label>
            <ng-select class="form-control populate" [(ngModel)]="invNewStatus" name="invNewStatus">
              <ng-option value="open">OPEN</ng-option>
              <ng-option value="paid">PAID</ng-option>
              <ng-option value="partially_paid">PARTIALLY PAID</ng-option>
              <ng-option value="emailed">EMAILED</ng-option>
              <!-- <ng-option value="voided">VOIDED</ng-option> -->
            </ng-select>
          </div>
        </div>
      </div>
      <div class="modal-footer text-dark">
        <div class="row">
          <div class="col-lg-12">
            <button type="button" class="btn btn-default mr-2" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-success" (click)="updateInvStatus()">Update</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
