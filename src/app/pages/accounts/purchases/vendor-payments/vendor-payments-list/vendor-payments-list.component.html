<section class="body">
   <div class="inner-wrapper">
      <section role="main" class="content-body pr-0 pl-0 pt-0">
         <header class="page-header pr19 pl7">
            <form class="form-horizontal" method="get">
               <div class="row" style="padding-top:10px;">
                  <div class="col-md-2 col-lg-2 pr-0">
                     <div class="input-group input-group-md mb-3">
                        <input type="text" class="form-control"
                           name="amountSearch"
                           [(ngModel)]="filter.amount"
                           placeholder="Search by amount">
                     </div>
                  </div>

                  <div class="col-lg-3 col-md-3 pr-0">
                     <div class="input-daterange input-group"
                        data-plugin-datepicker>
                        <span class="input-group-prepend">
                           <span class="input-group-text">
                              <i class="fas fa-calendar-alt"></i>
                           </span>
                        </span>
                        <input
                           [(ngModel)]="filter.startDate"
                           name="startDate"
                           type="text"
                           placeholder="yyyy/mm/dd"
                           (click)="startDate.toggle()"
                           ngbDatepicker
                           #startDate="ngbDatepicker"
                           class="form-control"
                           autocomplete="off"
                           [minDate]="dateMinLimit"
                           [maxDate]="futureDatesLimit"
                           readonly
                           />
                        <span class="input-group-text border-left-0
                           border-right-0 rounded-0">
                           to
                        </span>
                        <input
                           [(ngModel)]="filter.endDate"
                           name="endDate"
                           type="text"
                           placeholder="yyyy/mm/dd"
                           (click)="endDate.toggle()"
                           ngbDatepicker
                           #endDate="ngbDatepicker"
                           class="form-control"
                           autocomplete="off"
                           [minDate]="dateMinLimit"
                           [maxDate]="futureDatesLimit"
                           readonly
                           />
                     </div>
                  </div>
                  <div class="col-md-2 col-lg-2">
                     <button type="button" [disabled]="disableSearch"
                        (click)="searchFilter();" class="btn
                        btn-sm btn-success">Search</button>

                     <button type="button" class="btn btn-sm btn-success
                        ml-2"
                        [disabled]="disableSearch"
                        (click)="resetFilter()">Reset</button>
                  </div>
                  <div class="col-md-5 col-lg-5 text-right pr-1">
                     <a routerLink="/accounts/purchases/vendor-payments/add"
                        class="btn btn-success btn-sm ml-2"
                        style="color:white;"><i class="fas fa-plus"></i> Add
                        Payment </a>
                  </div>
               </div>
            </form>
         </header>

         <section class="m-2">
            <div class="row mb-3">
               <div class="col-lg-12">
                  <div class="bg-white p-3 text-dark">
                     <div infiniteScroll
                        [infiniteScrollDistance]="1"
                        [infiniteScrollUpDistance]="1"
                        [infiniteScrollThrottle]="5"
                        (scrolled)="onScroll()">
                        <div class="form-group row">
                           <div class="col-lg-12">
                              <table class="table table-bordered table-striped
                                 mb-0
                                 simple-table">
                                 <thead>
                                    <tr class="bgcol2">
                                       <th class="text-2">Date</th>
                                       <th class="text-2">Payment#</th>
                                       <th class="text-2">Reference#</th>
                                       <th class="text-2">Vendor</th>
                                       <th class="text-2">Payment Mode</th>
                                       <th class="text-2">Amount</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr class="text-center"
                                       *ngIf="payments.length
                                       === 0">
                                       <td colspan="6">
                                          {{ dataMessage }}
                                       </td>
                                    </tr>
                                    <tr *ngFor="let data of payments">
                                       <td class="cursorpoint"
                                          [routerLink]="data.url">
                                          {{ data.txnDate | date: "yyyy/MM/dd"
                                          }}
                                       </td>
                                       <td class="cursorpoint"
                                          [routerLink]="data.url">
                                          {{ data.paymentNo }}
                                       </td>
                                       <td class="cursorpoint"
                                          [routerLink]="data.url">
                                          {{ data.refNo ? data.refNo : '-' }}
                                       </td>
                                       <td class="cursorpoint"
                                          [routerLink]="data.url">
                                          {{ vendors[data.vendorID] }}
                                       </td>
                                       <td class="cursorpoint text-capitalize"
                                          [routerLink]="data.url">
                                          {{ data.payMode }}
                                       </td>
                                       <td class="cursorpoint"
                                          [routerLink]="data.url">
                                          {{ data.total.finalTotal | number :
                                          '1.2-2' }} {{ data.currency }}
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </section>
   </div>
</section>
