<section class="body">

  <!-- start: header -->
  <app-header></app-header>

  <!-- end: header -->



  <div class="inner-wrapper">
    <!-- start: sidebar -->
    <app-sidebar></app-sidebar>
    <!-- end: sidebar -->

    <section role="main" class="content-body">
      <header class="page-header">
        <h2>{{title}}</h2>

        <div class="right-wrapper text-right">
          <ol class="breadcrumbs">
            <li>
              <a href="/">
                <i class="fas fa-home"></i>
              </a>
            </li>
            <li><span>Geofencing</span></li>
            <li><span>{{title}}</span></li>
          </ol>


        </div>
      </header>



      <div class="row">
        <div class="col-lg-6">
          <section class="card">
            <header class="card-header">
              <h2 class="card-title">Map The Geofence</h2>
            </header>
            <div class="card-body pb-0">
              <form class="form-horizontal form-bordered" method="get">
                <div class="form-group row">
                  <div class="col-lg-12 mb-2">
                    <div class="row">
                      <div class="col-lg-6">
                        <input type="text" class="form-control" id="inputDefault" placeholder="Search Location">
                      </div>
                      <div class="col-lg-2">
                        <button class="btn btn-dark">Search</button>
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-12 px-0">
                    <div class="mt-2">
                      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9554789.297079882!2d-87.05246668116078!3d45.94972493605082!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89d4cb90d7c63ba5%3A0x323555502ab4c477!2sToronto%2C%20ON%2C%20Canada!5e0!3m2!1sen!2sin!4v1581586600641!5m2!1sen!2sin" style="border:0;" allowfullscreen="" width="100%" height="460" frameborder="0"></iframe>
                      <div id="map" style="position: relative; overflow: hidden;"><div style="height: 100%; width: 100%; position: absolute; top: 0px; left: 0px; background-color: rgb(229, 227, 223);"><div class="gm-err-container"><div class="gm-err-content"><div class="gm-err-icon"><img src="https://maps.gstatic.com/mapfiles/api-3/images/icon_error.png" draggable="false" style="user-select: none;"></div><div class="gm-err-title">Oops! Something went wrong.</div><div class="gm-err-message">This page didn't load Google Maps correctly. See the JavaScript console for technical details.</div></div></div></div></div>
                      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk&amp;libraries=drawing&amp;callback=initMap" async="" defer=""></script>
                      <script>
                        // This example requires the Drawing library. Include the libraries=drawing
                        // parameter when you first load the API. For example:
                        // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=drawing">

                        function initMap() {
                          var map = new google.maps.Map(document.getElementById('map'), {
                            center: {lat: -34.397, lng: 150.644},
                            zoom: 8
                          });

                          var drawingManager = new google.maps.drawing.DrawingManager({
                            drawingMode: google.maps.drawing.OverlayType.MARKER,
                            drawingControl: true,
                            drawingControlOptions: {
                              position: google.maps.ControlPosition.TOP_CENTER,
                              drawingModes: ['marker', 'circle', 'polygon', 'polyline', 'rectangle']
                            },
                            markerOptions: {icon: 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'},
                            circleOptions: {
                              fillColor: '#ffff00',
                              fillOpacity: 1,
                              strokeWeight: 5,
                              clickable: false,
                              editable: true,
                              zIndex: 1
                            }
                          });
                          drawingManager.setMap(map);
                        }
                      </script>
                      <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;libraries=drawing&amp;callback=initMap" async="" defer=""></script>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </section>
        </div>
        <div class="col-lg-6">
          <section class="card">
            <header class="card-header">
              <h2 class="card-title">Geofencing Details</h2>
            </header>
            <div class="card-body">
              <form class="form-horizontal form-bordered" method="get" name="form" id="form_">
                <div class="form-group row">
                  <div class="col-lg-12">
                    <label class="control-label text-lg-right pt-2" for="inputDefault">Fence Name</label>
                    <input type="text" class="form-control" id="fencename" [(ngModel)]="fenceName"
                           name="fenceName">
                  </div>
                  <div class="col-lg-12">
                    <label class="control-label text-lg-right pt-2" for="inputDefault">Location</label>
                    <input type="text" class="form-control" id="location" [(ngModel)]="location"
                           name="location">
                  </div>
                  <div class="col-lg-12">
                    <label class="control-label text-lg-right pt-2" for="inputDefault">Description</label>
                    <textarea class="form-control" rows="8" id="description" [(ngModel)]="description"
                              name="description"></textarea>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-lg-12">
                    <button class="btn btn-dark mt-4" (click)="updateGeofence()">Save</button>
                  </div>
                </div>

                <div class="form-group row">
                  <div class="col-lg-12">
                    <p class="text text-success" *ngIf="hasSuccess">{{Success}}</p>
                  </div>
                </div>

              </form>
            </div>
          </section>
        </div>
      </div>

    </section>
  </div>








</section>
