<!-- All Contacts Modal Window -->
<!-- Modal -->
<div class="modal fade" id="allContactsModal" tabindex="-1" role="dialog" aria-labelledby="allContactsModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header py-3">
            <div class="d-flex justify-content-between align-items-center w-100">
                <div class="">
                    <h5 class="modal-title">Address Book</h5>
                </div>
                <div class="text-right">
                    <div class="btn-group flex-wrap pull-right">
                        <button type="button" class="mb-1 btn btn-success cus-btn-padd mt-0 dropdown-toggle" data-toggle="dropdown"><i class="fas fa-plus"></i> Add New
                            <span class="caret"></span>
                        </button>
                        <div class="dropdown-menu" role="menu">
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addBrokerModal" (click)="resetModal('broker')" href="javascript:;">Broker</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addCarrierModal" (click)="resetModal('carrier')" href="javascript:;">Carrier</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addConsigneeModal" (click)="resetModal('consignee')" href="javascript:;">Consignee</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addShipperModal" (click)="resetModal('shipper')" href="javascript:;">Consignor</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addCustomerModal" (click)="resetModal('customer')" href="javascript:;">Customer</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addStaffModal" (click)="resetModal('staff')" href="javascript:;">Employee</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addFCModal" (click)="resetModal('company')" href="javascript:;">Factoring Company</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addOwnerOperatorModal" (click)="resetModal('operator')" href="javascript:;">Owner Operator</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addVendorModal" (click)="resetModal('vendor')" href="javascript:;">Vendor</a>
                        </div>
                    </div>
                    <div class="btn-group flex-wrap pull-right mr-2" *ngIf="!environment">
                        <button type="button" class="mb-1 btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">Actions<span class="caret"></span></button>
                        <div class="dropdown-menu" role="menu">
                            <a class="modal-with-form dropdown-item text-1" href="#importExcelForm">Import from Excel</a>
                            <a href="" class="dropdown-item text-1 pull-right" id="excelbtn">Export to Excel</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="card-body p-0" style="min-height:600px;">
                <form class="form-horizontal form-bordered" method="get">
                    <div class="mb-3">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item"> <a class="nav-link active" id="broker-tab" data-toggle="tab" href="#broker" role="tab" aria-controls="broker" aria-selected="false" (click)="setActiveDiv('broker')">Broker</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="carrier-tab" data-toggle="tab" href="#carrier" role="tab" aria-controls="carrier" aria-selected="false" (click)="setActiveDiv('carrier')">Carrier</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="consignee-tab" data-toggle="tab" href="#consignee" role="tab" aria-controls="consignee" aria-selected="false" (click)="setActiveDiv('consignee')">Consignee</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="shipper-tab" data-toggle="tab" href="#shipper" role="tab" aria-controls="shipper" aria-selected="false" (click)="setActiveDiv('shipper')">Consignor</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="customer-tab" data-toggle="tab" href="#customer" role="tab" aria-controls="customer" aria-selected="false" (click)="setActiveDiv('customer')">Customer</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="staff-tab" data-toggle="tab" href="#staff" role="tab" aria-controls="staff" aria-selected="false" (click)="setActiveDiv('staff')">Employee</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="fc-tab" data-toggle="tab" href="#fc" role="tab" aria-controls="fc" aria-selected="false" (click)="setActiveDiv('company')">Factoring Company</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="ownerOperator-tab" data-toggle="tab" href="#ownerOperator" role="tab" aria-controls="ownerOperator" aria-selected="false" (click)="setActiveDiv('operator')">Owner Operator</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="vendor-tab" data-toggle="tab" href="#vendor" role="tab" aria-controls="vendor" aria-selected="false" (click)="setActiveDiv('vendor')">Vendor</a> </li>
                        </ul>
                    </div>
                    <div class="tab-content shadow-none border-0 p-0" id="myTabContent">
                        <div class="tab-pane fade px-2 py-3 shadow-none" id="customer" role="tabpanel" aria-labelledby="customer-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="customerCompanyName"
                                            [(ngModel)]="filterVal.customerCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'customer','company')">
                                    </div>
                                    <div *ngIf="suggestedCustomerCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCustomerCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'customerCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Customer Name" name="customerName"
                                            [(ngModel)]="filterVal.customerName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'customer','name')">
                                    </div>
                                    <div *ngIf="suggestedCustomers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCustomers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'customer')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('customer')" class="btn cus-btn-padd btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('customer')" class="btn cus-btn-padd btn-success">Reset</button>
                                </div>
                            </div>

                            <table id="customerTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Customer Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th width="5%">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="customers.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageCustomer }}</td>
                                    </tr>
                                    <tr *ngFor="let customer of customers;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, customer, 'Customer')">{{customer.companyName}}</td>
                                        <td (click)="openDetail(content, customer, 'Customer')">{{customer.firstName}} {{customer.lastName}}</td>
                                        <td>{{customer.workEmail}}</td>
                                        <td>{{customer.workPhone}}</td>
                                        <td *ngIf="customer.address[0]">
                                            <span *ngIf="customer.address[0].manual == true && customer.address[0].manual != undefined">
                                                {{customer.address[0].address1}} {{customer.address[0].address2}},
                                                {{customer.address[0].cityName}}, {{customer.address[0].stateName}},
                                                {{customer.address[0].countryName}}, {{customer.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="customer.address[0].manual == false && customer.address[0].manual != undefined">
                                                {{customer.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="!customer.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                   <a class="dropdown-item" href="javascript:;" (click)="editUser(customer.entityType, customer)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateCustomer(customer, customer.customerID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="customers.length > 0">
                                <div class="col-6">
                                    Showing {{ custtStartPoint }} to {{ custtEndPoint }} of {{ totalRecordsCustomer }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('customer')" [disabled]="customerPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('customer')" [disabled]="customerNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade active show px-2 py-3 shadow-none" id="broker" role="tabpanel" aria-labelledby="broker-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="brokerCompanyName"
                                            [(ngModel)]="filterVal.brokerCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'broker','company')">
                                    </div>
                                    <div *ngIf="suggestedBrokerCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedBrokerCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'brokerCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Broker Name" name="brokerName"
                                            [(ngModel)]="filterVal.brokerName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'broker','name')">
                                    </div>
                                    <div *ngIf="suggestedBrokers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedBrokers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'broker')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('broker')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('broker')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>

                            <table id="brokerTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Broker Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="brokers.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageBroker }}</td>
                                    </tr>
                                    <tr *ngFor="let broker of brokers;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, broker,'Broker')">{{broker.companyName}}</td>
                                        <td (click)="openDetail(content, broker,'Broker')">{{broker.firstName}} {{broker.lastName}}</td>
                                        <td>{{broker.workEmail}}</td>
                                        <td>{{broker.workPhone}}</td>
                                        <td *ngIf="broker.address[0] != undefined">
                                            <span *ngIf="broker.address[0].manual == true">
                                                {{broker.address[0].address1}} {{broker.address[0].address2}},
                                                {{broker.address[0].cityName}}, {{broker.address[0].stateName}},
                                                {{broker.address[0].countryName}}, {{broker.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="broker.address[0].manual == false">
                                                {{broker.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="broker.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(broker.entityType, broker)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateBroker(broker, broker.brokerID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="brokers.length > 0">
                                <div class="col-6">
                                    Showing {{ brokerStartPoint }} to {{ brokerEndPoint }} of {{ totalRecordsBroker }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('broker')" [disabled]="brokerPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('broker')" [disabled]="brokerNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade px-2 py-3 shadow-none" id="vendor" role="tabpanel" aria-labelledby="vendor-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="vendorCompanyName"
                                            [(ngModel)]="filterVal.vendorCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'vendor','company')">
                                    </div>
                                    <div *ngIf="suggestedVendorCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedVendorCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'vendorCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Vendor Name" name="vendorName"
                                            [(ngModel)]="filterVal.vendorName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'vendor','name')">
                                    </div>
                                    <div *ngIf="suggestedVendors?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedVendors" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'vendor')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('vendor')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('vendor')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="vendorTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Vendor Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="vendors.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageVendor }}</td>
                                    </tr>
                                    <tr *ngFor="let vendor of vendors;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, vendor, 'Vendor')">{{vendor.companyName}}</td>
                                        <td (click)="openDetail(content, vendor, 'Vendor')">{{vendor.firstName}} {{vendor.lastName}}</td>
                                        <td>{{vendor.workEmail}}</td>
                                        <td>{{vendor.workPhone}}</td>
                                        <td *ngIf="vendor.address[0] != undefined">
                                            <span *ngIf="vendor.address[0].manual == true">
                                                {{vendor.address[0].address1}} {{vendor.address[0].address2}},
                                                {{vendor.address[0].cityName}}, {{vendor.address[0].stateName}},
                                                {{vendor.address[0].countryName}}, {{vendor.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="vendor.address[0].manual == false">
                                                {{vendor.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="vendor.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(vendor.entityType, vendor)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateVendor(vendor, vendor.vendorID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="vendors.length > 0">
                                <div class="col-6">
                                    Showing {{ vendorStartPoint }} to {{ vendorEndPoint }} of {{ totalRecordsVendor }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('vendor')" [disabled]="vendorPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('vendor')" [disabled]="vendorNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade px-2 py-3 shadow-none" id="carrier" role="tabpanel" aria-labelledby="carrier-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="carrierCompanyName"
                                            [(ngModel)]="filterVal.carrierCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'carrier','company')">
                                    </div>
                                    <div *ngIf="suggestedCarrierCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCarrierCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'carrierCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Carrier Name" name="carrierName"
                                            [(ngModel)]="filterVal.carrierName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'carrier','name')">
                                    </div>
                                    <div *ngIf="suggestedCarriers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCarriers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'carrier')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('carrier')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('carrier')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="carrierTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Carrier Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="carriers.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageCarrier }}</td>
                                    </tr>
                                    <tr *ngFor="let carrier of carriers;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, carrier, 'Carrier')">{{carrier.companyName}}</td>
                                        <td (click)="openDetail(content, carrier, 'Carrier')">{{carrier.firstName}} {{carrier.lastName}}</td>
                                        <td>{{carrier.workEmail}}</td>
                                        <td>{{carrier.workPhone}}</td>
                                        <td *ngIf="carrier.address[0] != undefined">
                                            <span *ngIf="carrier.address[0].manual == true">
                                                {{carrier.address[0].address1}} {{carrier.address[0].address2}},
                                                {{carrier.address[0].cityName}}, {{carrier.address[0].stateName}},
                                                {{carrier.address[0].countryName}}, {{carrier.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="carrier.address[0].manual == false">
                                                {{carrier.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="carrier.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(carrier.entityType, carrier)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateCarrier(carrier, carrier.infoID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="carriers.length > 0">
                                <div class="col-6">
                                    Showing {{ carrierStartPoint }} to {{ carrierEndPoint }} of {{ totalRecordsCarrier }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('carrier')" [disabled]="carrierPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('carrier')" [disabled]="carrierNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade px-2 py-3 shadow-none" id="ownerOperator" role="tabpanel" aria-labelledby="owner-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="operatorCompanyName"
                                            [(ngModel)]="filterVal.operatorCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'operator','company')">
                                    </div>
                                    <div *ngIf="suggestedOperatorCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedOperatorCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'operatorCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Owner Operator Name" name="operatorName"
                                            [(ngModel)]="filterVal.operatorName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'operator','name')">
                                    </div>
                                    <div *ngIf="suggestedOperators?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedOperators" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'operator')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('operator')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('operator')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="operatorTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Owner Operator Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="ownerOperatorss.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageOwner }}</td>
                                    </tr>
                                    <tr *ngFor="let operator of ownerOperatorss;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, operator, 'Owner operator')">{{operator.companyName}}</td>
                                        <td (click)="openDetail(content, operator, 'Owner operator')">{{operator.firstName}} {{operator.lastName}}</td>
                                        <td>{{operator.workEmail}}</td>
                                        <td>{{operator.workPhone}}</td>
                                        <td *ngIf="operator.address[0] != undefined">
                                            <span *ngIf="operator.address[0].manual == true">
                                                {{operator.address[0].address1}} {{operator.address[0].address2}},
                                                {{operator.address[0].cityName}}, {{operator.address[0].stateName}},
                                                {{operator.address[0].countryName}}, {{operator.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="operator.address[0].manual == false">
                                                {{operator.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="operator.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(operator.entityType, operator)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateOperator(operator, operator.operatorID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="ownerOperatorss.length > 0">
                                <div class="col-6">
                                    Showing {{ ownerOperatorStartPoint }} to {{ ownerOperatorEndPoint }} of {{ totalRecordsOperator }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('operator')" [disabled]="ownerOperatorPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('operator')" [disabled]="ownerOperatorNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade px-2 py-3 shadow-none" id="shipper" role="tabpanel" aria-labelledby="shipper-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="shipperCompanyName"
                                            [(ngModel)]="filterVal.shipperCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'shipper','company')">
                                    </div>
                                    <div *ngIf="suggestedShipperCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedShipperCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'shipperCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Consignor Name" name="shipperName"
                                            [(ngModel)]="filterVal.shipperName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'shipper','name')">
                                    </div>
                                    <div *ngIf="suggestedShipper?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedShipper" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'shipper')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('shipper')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('shipper')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>

                            <table id="shipperTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Consignor Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="shippers.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageConsignor }}</td>
                                    </tr>
                                    <tr *ngFor="let shipper of shippers;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, shipper, 'Shipper')">{{shipper.companyName}}</td>
                                        <td (click)="openDetail(content, shipper, 'Shipper')">{{shipper.firstName}} {{shipper.lastName}}</td>
                                        <td>{{shipper.workEmail}}</td>
                                        <td>{{shipper.workPhone}}</td>
                                        <td *ngIf="shipper.address[0] != undefined">
                                            <span *ngIf="shipper.address[0].manual == true">
                                                {{shipper.address[0].address1}} {{shipper.address[0].address2}},
                                                {{shipper.address[0].cityName}}, {{shipper.address[0].stateName}},
                                                {{shipper.address[0].countryName}}, {{shipper.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="shipper.address[0].manual == false">
                                                {{shipper.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="shipper.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(shipper.entityType, shipper)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateShipper(shipper, shipper.shipperID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="shippers.length > 0">
                                <div class="col-6">
                                    Showing {{ shipperStartPoint }} to {{ shipperEndPoint }} of {{ totalRecordsShipper }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('shipper')" [disabled]="shipperPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('shipper')" [disabled]="shipperNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade px-2 py-3 shadow-none" id="consignee" role="tabpanel" aria-labelledby="consignee-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="receiverCompanyName"
                                            [(ngModel)]="filterVal.receiverCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'consignee','company')">
                                    </div>
                                    <div *ngIf="suggestedConsigneeCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedConsigneeCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'consigneeCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Consignee Name" name="consigneeName"
                                            [(ngModel)]="filterVal.consigneeName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'consignee','name')">
                                    </div>
                                    <div *ngIf="suggestedConsignees?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedConsignees" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'consignee')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('consignee')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('consignee')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="consigneeTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Consignee Name</th>
                                        <th width="20%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="receivers.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageConsignee }}</td>
                                    </tr>
                                    <tr *ngFor="let receiver of receivers;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, receiver, 'Consignee')">{{receiver.companyName}}</td>
                                        <td (click)="openDetail(content, receiver, 'Consignee')">{{receiver.firstName}} {{receiver.lastName}}</td>
                                        <td>{{receiver.workEmail}}</td>
                                        <td>{{receiver.workPhone}}</td>
                                        <td *ngIf="receiver.address[0] != undefined">
                                            <span *ngIf="receiver.address[0].manual == true">
                                                {{receiver.address[0].address1}} {{receiver.address[0].address2}},
                                                {{receiver.address[0].cityName}}, {{receiver.address[0].stateName}},
                                                {{receiver.address[0].countryName}}, {{receiver.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="receiver.address[0].manual == false">
                                                {{receiver.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="receiver.address[0] == undefined"></td>

                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(receiver.entityType, receiver)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateReceiver(receiver, receiver.receiverID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="receivers.length > 0">
                                <div class="col-6">
                                    Showing {{ consigneeStartPoint }} to {{ consigneeEndPoint }} of {{ totalRecordsConsignee }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('consignee')" [disabled]="consigneePrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('consignee')" [disabled]="consigneeNext">Next</button>
                                </div>
                            </div>
                        </div>


                        <div class="tab-pane fade px-2 py-3 shadow-none" id="staff" role="tabpanel" aria-labelledby="staff-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="staffCompanyName"
                                            [(ngModel)]="filterVal.staffCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'staff','company')">
                                    </div>
                                    <div *ngIf="suggestedStaffCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedStaffCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'staffCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Employee Name" name="staffName"
                                            [(ngModel)]="filterVal.staffName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'staff','name')">
                                    </div>
                                    <div *ngIf="suggestedStaffs?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedStaffs" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.searchVall, suggestedUser.name, 'staff')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('staff')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('staff')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="staffTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Employee Name</th>
                                        <th width="10%">Department</th>
                                        <th width="10%">Designation</th>
                                        <th width="15%">Email</th>
                                        <th width="10%">Phone</th>
                                        <th width="30%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="staffs.length == 0" class="text-center">
                                        <td colspan="8">{{ dataMessageEmployee }}</td>
                                    </tr>
                                    <tr *ngFor="let staff of staffs;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, staff, 'Employee')">{{staff.companyName}}</td>
                                        <td (click)="openDetail(content, staff, 'Employee')">{{staff.firstName}} {{staff.lastName}}</td>
                                        <td>{{staff.userAccount.department}}</td>
                                        <td>{{staff.userAccount.designation}}</td>
                                        <td>{{staff.workEmail}}</td>
                                        <td>{{staff.workPhone}}</td>
                                        <td *ngIf="staff.address[0] != undefined">
                                            <span *ngIf="staff.address[0].manual == true">
                                                {{staff.address[0].address1}} {{staff.address[0].address2}},
                                                {{staff.address[0].cityName}}, {{staff.address[0].stateName}},
                                                {{staff.address[0].countryName}}, {{staff.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="staff.address[0].manual == false">
                                                {{staff.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="staff.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(staff.entityType, staff)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateStaff(staff, staff.staffID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="staffs.length > 0">
                                <div class="col-6">
                                    Showing {{ staffStartPoint }} to {{ staffEndPoint }} of {{ totalRecordsStaff }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('staff')" [disabled]="staffPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('staff')" [disabled]="staffNext">Next</button>
                                </div>
                            </div>
                        </div>

                        <!-- factoring Company Table -->
                        <div class="tab-pane fade px-2 py-3 shadow-none" id="fc" role="tabpanel" aria-labelledby="fc-tab">
                            <div class="row pr-1 mr-1">
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="factoringCompanyName"
                                            [(ngModel)]="filterVal.factoringCompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'company','company')">
                                    </div>
                                    <div *ngIf="suggestedFactoringCompanies?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedFactoringCompanies" style="cursor: pointer;"
                                                (click)="setSearchValues('', suggestedUser, 'factoringCompany')"> {{
                                                suggestedUser }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-3 col-lg-3 pr-1">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Contact Name" name="fcompanyName"
                                            [(ngModel)]="filterVal.fcompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'company','name')">
                                    </div>
                                    <div *ngIf="suggestedCompany?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUserq of suggestedCompany" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUserq.searchVall, suggestedUserq.name, 'company')"> {{
                                                suggestedUserq.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('company')" class="btn cus-btn-padd btn-success mt-0 mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('company')" class="btn cus-btn-padd btn-success mt-0">Reset</button>
                                </div>
                            </div>
                            <table id="companyTable" class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="15%">Email</th>
                                        <th width="15%">Phone</th>
                                        <th width="20%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="fcCompanies.length == 0" class="text-center">
                                        <td colspan="6">{{ dataMessageFactoring }}</td>
                                    </tr>
                                    <tr *ngFor="let company of fcCompanies;let i = index;" class="cursorpoint">
                                        <td (click)="openDetail(content, company, 'Factoring Company')">{{company.companyName}}</td>
                                        <td (click)="openDetail(content, company, 'Factoring Company')">{{company.firstName}} {{company.lastName}}</td>
                                        <td>{{company.workEmail}}</td>
                                        <td>{{company.workPhone}}</td>
                                        <td *ngIf="company.address[0] != undefined">
                                            <span *ngIf="company.address[0].manual == true">
                                                {{company.address[0].address1}} {{company.address[0].address2}},
                                                {{company.address[0].cityName}}, {{company.address[0].stateName}},
                                                {{company.address[0].countryName}}, {{company.address[0].zipCode}}
                                            </span>
                                            <span *ngIf="company.address[0].manual == false">
                                                {{company.address[0].userLocation}}
                                            </span>
                                        </td>
                                        <td *ngIf="company.address[0] == undefined"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button" data-toggle="dropdown" aria-haspopup="true"
                                                    aria-expanded="false">
                                                    <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(company.entityType, company)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;"
                                                        (click)="deactivateCompany(company, company.factoringCompanyID)">Delete</a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row mt-3 dtPaginate" *ngIf="fcCompanies.length > 0">
                                <div class="col-6">
                                    Showing {{ companyStartPoint }} to {{ companyEndPoint }} of {{ totalRecordsCompany }} entries
                                </div>
                                <div class="col-6 text-right">
                                    <button type="button" class="btn btn-default mr-2" (click)="prevResults('company')" [disabled]="companyPrev">Prev</button>
                                    <button type="button" class="btn btn-default" (click)="nextResults('company')" [disabled]="companyNext">Next</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>

<!-- Add Vendor Modal -->
<div class="modal fade" id="addVendorModal" tabindex="-1" role="dialog" aria-labelledby="addVendorModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{{ modalTitle }} Vendor</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
          </button>
        </div>
        <div class="modal-body text-dark">
            <section class="card form-wizard" id="w1">
                <div class="card-body card-body-nopadding">
                    <div class="">
                        <ul class="nav top-tabs nav-tabs">
                            <li class="nav-item active"> <a href="javascript:;" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" class="nav-link text-center active">
                                    Basic Details
                                </a> </li>
                            <li class="nav-item"> <a href="javascript:;" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                    Address
                                </a> </li>
                        </ul>
                    </div>
                    <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="vendorForm">
                        <div class="tab-content">
                            <div id="basicDetails" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane px-0 py-3 active height525">
                                <div class="row pt-3">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                    Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>

                                                <input [(ngModel)]="vendorData.companyName"
                                                name="companyName" type="text" class="form-control" placeholder="eg. Brown PLC
                                                "> </div>

                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                </label>
                                                <input [(ngModel)]="vendorData.dbaName" name="dbaName" type="text" class="form-control"
                                                    placeholder="Enter DBA Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Account# &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="vendorData.accountNumber"

                                                name="accountNumber" type="text" class="form-control" placeholder="7-12 digits , eg. 897567567456"> </div>

                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Vendor
                                                    First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="vendorData.firstName"
                                                name="firstName"  type="text" class="form-control" placeholder="eg. John"> </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Vendor
                                                    Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="vendorData.lastName"
                                                name="lastName"  type="text" class="form-control" placeholder="eg. Smith "> </div>
                                            <div class="col-lg-12">
                                                <label
                                                    class="control-label font-weight-bold text-lg-right pt-2">Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="vendorData.workEmail"
                                                name="workEmail" type="text" class="form-control" placeholder="eg. example@email.com"> </div>
                                            <div class="col-lg-12">
                                                <label
                                                    class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="vendorData.workPhone"
                                                name="workPhone" type="text" class="form-control" placeholder="eg. 0016780571">
                                            </div>
                                            <div class="col-lg-12 pt-2">
                                                <div class="checkbox-custom">
                                                    <input [(ngModel)]="vendorData.preferedVendor"
                                                    name="preferedVendor"  type="checkbox" name="terms">
                                                    <label for="w1-terms">Prefered Vendor?</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row mar-top-37">
                                            <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img
                                                    class="business_image_style" [src]="profilePath" />
                                                <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="addressDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane px-0 py-3 height525">
                                <div class="row pt-3"  *ngFor="let item of vendorData.address;let i = index;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-4 pr-0">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);" class="form-control"
                                        placeholder="Type Address" [disabled]="item.manual">
                                        <div class="map-search__results bg-white">
                                            <ul class="p-0 m-0 text-left">
                                              <li *ngFor="let item of searchResults;">
                                                <a href="javascript:;" (click)="userAddress(vendorData, i, item)">{{item.address.label}}</a>
                                              </li>
                                            </ul>
                                          </div>
                                        <div class="checkbox-custom mt-2">
                                            <input [(ngModel)]="item.manual" name="manual{{i}}" (change)="manAddress($event, i,'vendor')" type="checkbox">
                                            <label for="w1-terms1">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 mar-top-37 text-right pl-1">

                                        <a href="javascript:;" class="btn btn-dark mr-2" (click)="clearAddress(i, 'vendor')">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(vendorData);" class="btn btn-success" href="javascript:;"><i
                                                class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'vendor')" class="btn btn-danger"
                                            href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>

                                    </div>
                                    <div *ngIf="item.manual" class="row mx-0">
                                        <div class="col-lg-6 pt-4">
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event, 'vendor', i)" [(ngModel)]="item.countryID"
                                                        name="countryID{{i}}" class="form-control populate address_country"
                                                            placeholder="Select Country">
                                                            <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Province</label>
                                                    <ng-select (change)= "getCities($event, 'vendor', i)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select Province">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID" name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City" (change)="getCityName($event, 'vendor', i)">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode"
                                                    name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="eg. 20171">
                                                </div>
                                            </div>

                                        </div>

                                        <div class="col-lg-6 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1"
                                                    name="address1{{i}}" type="text" class="form-control address_one" placeholder="eg. 01, Business Hub Center ">
                                                </div>
                                                <div class="col-lg-12">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2"
                                                    name="address2{{i}}" type="text" class="form-control" placeholder="eg. 02, Business Hub Center ">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-12">
                                        <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                        <p class="text text-success" *ngIf="hasSuccess">
                                            {{ Success }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </section>
        </div>
        <div class="modal-footer">
            <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
            <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 2" class="btn btn-success btnNext">Next</a>

            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-success" *ngIf="!updateButton && custCurrentTab > 1" (click)="addVendor()" [disabled]="vendorDisabled">Submit</button>
            <button type="button" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 1" (click)="updateVendor()" [disabled]="vendorDisabled">Update</button>
        </div>
      </div>
    </div>
</div>

    
<!-- Add CUSTOMER Modal -->
<div class="modal fade" id="addCustomerModal" tabindex="-1" role="dialog" aria-labelledby="addCustomerModal"  aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Customer</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <form id="customerForm" class="form-horizontal form-bordered bg-white" method="get" name="form" >
                                <ul class="nav nav-tabs top-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 1}" id="customerBasic-tab" (click)="tabChange(1)" role="tab" aria-controls="customerBasic" aria-selected="true">Basic details</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 2}" id="customerAddress-tab" (click)="tabChange(2)" role="tab" aria-controls="customerAddress" aria-selected="false">Address</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 3}" id="customerContact-tab" (click)="tabChange(3)" role="tab" aria-controls="customerContact" aria-selected="false">Additional Contact</a>
                                    </li>
                                  </ul>
                                  <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 1}" id="customerBasic" role="tabpanel" aria-labelledby="customerBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.companyName"
                                                        name="companyName" type="text" class="form-control" placeholder="Enter Company Name" >
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.dbaName" name="dbaName" type="text" class="form-control"
                                                            placeholder="Enter DBA Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.firstName"
                                                        name="firstName" type="text" class="form-control" placeholder="Enter Contact First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.lastName"
                                                        name="lastName" type="text" class="form-control" placeholder="Enter Contact Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">EIN&nbsp;<i
                                                            class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                            data-placement="top"
                                                            title="Employer Identification Number (EIN) is a unique identification number that is assigned to a business entity so that it can easily be identified by the Internal Revenue Service (IRS).It is commonly used by employers for the purpose of reporting taxes.The EIN is also known as a Federal Tax Identification Number. "></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.ein"
                                                        name="ein" type="text" class="form-control" placeholder="Enter 9 digit EIN">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Account#&nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.accountNumber"
                                                        name="accountNumber" type="text" class="form-control" placeholder="Enter Account#">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">
                                                            Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.workPhone"
                                                        name="workPhone" type="text" class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mb-5">
                                                    <div class="col-lg-7 offset-lg-4 text-center mb-4">
                                                        <img
                                                        [src]="profilePath" height="150px" width="150px"><br>
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right">MC#&nbsp;<i
                                                            class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                            data-placement="top"
                                                            title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                            in other words hauling cargo across state lines."></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.mc"
                                                        name="mc" type="text" class="form-control" placeholder="Enter 6 digit MC#">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right">DOT# &nbsp;<i
                                                            class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                            data-placement="top"
                                                            title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.dot"
                                                        name="dot" type="text" class="form-control" placeholder="Enter 8 digit DOT#">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">FAST Card# &nbsp;<i
                                                            class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                            data-placement="top" title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.fast"
                                                        name="fast" type="text" class="form-control" placeholder="Eg. 42701234567801">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">FAST Card
                                                            Expiry &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.fastExpiry" name="fastExpiry"
                                                            type="text" placeholder="Enter Fast Expiry" (click)="custexp.toggle()"
                                                            ngbDatepicker #custexp="ngbDatepicker" class="form-control" autocomplete="off">
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mar-top-37">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.csa"
                                                            name="csa" type="checkbox" >
                                                            <label for="csa">CSA&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"></i></label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.ctpat"
                                                            name="ctpat" type="checkbox" >
                                                            <label for="ctpat">CTPAT&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="Customs Trade Partnership Against Terrorism (CTPAT) is but one layer in U.S. Customs and Border Protections (CBP) multi-layered cargo enforcement strategy.CBP works with the trade community to strengthen international supply chains and improve United States border security."></i></label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.pip"
                                                            name="pip" type="checkbox">
                                                            <label for="pip">PIP&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="PIP stands for Partners in Protection,its in partnership with the Canada Border Service Agency (CBSA).The goal of the PIP program is to strengthen security of both the Canadian-American border and the trade chain."></i></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">
                                                            Email <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.workEmail"
                                                        name="workEmail" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="customerAddress" role="tabpanel" aria-labelledby="customerAddress-tab">
                                        <div class="row pt-3 address-item" *ngFor="let item of customerData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                        placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                </label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);"
                                                class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;" (click)="userAddress(customerData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'customer')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37 ">
                                                <a class="btn btn-dark mr-2" href="javascript:;" (click)="clearAddress(i, 'customer')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(customerData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'customer')" class="btn btn-danger"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'customer', i)" [(ngModel)]="item.countryID"
                                                                name="countryID{{i}}" class="form-control populate address_country"
                                                                    placeholder="Select Country">
                                                                    <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <ng-select (change)= "getCities($event, 'customer', i)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select State">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID" name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'customer', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address 1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            name="address1{{i}}" type="text" class="form-control address_one">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            name="address2{{i}}" type="text" class="form-control">
                                                        </div>
                                                        <div class="col-lg-12 pt-3">
                                                            <div class="checkbox-custom">
                                                                <input [(ngModel)]="item.saveAsLocation"
                                                                name="saveAsLocation{{i}}" type="checkbox" name="terms">
                                                                <label for="w1-terms">Also Save as Location?</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                            </div>


                                        </div>
                                    </div>
                                    <div class="tab-pane fade"  [ngClass]="{'active show': custCurrentTab == 3}" id="customerContact" role="tabpanel" aria-labelledby="customerContact-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">First Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.additionalContact.firstName"
                                                        name="firstName1" type="text" class="form-control" placeholder="Enter First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Last Name&nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="customerData.additionalContact.lastName"
                                                        name="lastName1" type="text" class="form-control" placeholder="Enter Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Designation&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="customerData.additionalContact.designation"
                                                        name="designation" type="text" class="form-control" placeholder="Enter Designation">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Phone&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="customerData.additionalContact.phone"
                                                        name="phone" type="text" class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Email&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="customerData.additionalContact.email"
                                                        name="email" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Fax&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="customerData.additionalContact.fax"
                                                        name="fax" type="text" class="form-control" placeholder="Enter Fax">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 text-right pb-4 pr-5 mt-3">

                                     </div>
                                  </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" *ngIf="!updateButton && custCurrentTab > 2" (click)="addCustomer()" class="btn btn-success" [disabled]="customerDisabled">Submit</button>
                <button type="button" *ngIf="updateButton && custCurrentTab > 2" (click)="updateCustomer()" class="btn btn-success" [disabled]="customerDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- Add Broker MODAL -->
<div class="modal fade" id="addBrokerModal" tabindex="-1" role="dialog" aria-labelledby="addBrokerModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Broker</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item" style="cursor:pointer;
                                    ">
                                        <a class="nav-link active" id="brokerBasic-tab" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="brokerBasic" aria-selected="true">Basic Details</a>
                                      </li>
                                      <li class="nav-item" style="cursor:pointer;
                                      ">
                                        <a class="nav-link" id="brokerAddress-tab" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="brokerAddress" aria-selected="false">Address</a>
                                      </li>
                                      <li class="nav-item" style="cursor:pointer;
                                      ">
                                        <a class="nav-link" id="brokerContact-tab" [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="brokerContact" aria-selected="false">Additional Contact</a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="brokerForm">
                                <div class="tab-content">
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 1}"  id="brokerBasic" role="tabpanel" aria-labelledby="brokerBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12 pt-2">
                                                        <div class="row">
                                                            <div class="col-lg-4">
                                                                <label class="control-label font-weight-bold text-lg-right">Broker
                                                                    Type:</label>
                                                            </div>
                                                            <div class="col-lg-3 px-0">
                                                                <div class="radio">
                                                                    <label>
                                                                        <input [(ngModel)]="brokerData.brokerType" type="radio"
                                                                            name="brokerType" value="company" checked>
                                                                        Company </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-4  pr-0">
                                                                <div class="radio">
                                                                    <label>
                                                                        <input [(ngModel)]="brokerData.brokerType" type="radio"
                                                                            name="brokerType" value="individual">
                                                                        Individual </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name
                                                            <span class="mandfield text-2 ml-1" *ngIf="brokerData.brokerType == 'company'"><sup>*</sup></span>
                                                            &nbsp; <span class="text-1 optional-label-color" *ngIf="brokerData.brokerType == 'individual'">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="brokerData.companyName" name="companyName" type="text" class="form-control" placeholder="eg. Carroll Group">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            DBA Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="brokerData.dbaName" name="dbaName" type="text" class="form-control" placeholder="eg. bookstore">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name<span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="brokerData.firstName" name="firstName" type="text" class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="brokerData.lastName" name="lastName" type="text" class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">EIN &nbsp;<i
                                                          class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                          data-placement="top"
                                                          title="Employer Identification Number (EIN) is a unique identification number that is assigned to a business entity so that it can easily be identified by the Internal Revenue Service (IRS).It is commonly used by employers for the purpose of reporting taxes.The EIN is also known as a Federal Tax Identification Number. "></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                        <input [(ngModel)]="brokerData.ein" name="ein" type="text" class="form-control" placeholder="9 digits,beginning with 0 eg.067834562">

                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">MC# &nbsp;<i
                                                          class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                          data-placement="top"
                                                          title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                          in other words hauling cargo across state lines."></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>

                                                        <input [(ngModel)]="brokerData.mc" name="mc" type="text" class="form-control" placeholder="6 digits , eg. 123456">

                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DOT# &nbsp;<i
                                                          class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                          data-placement="top"
                                                          title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>

                                                        <input [(ngModel)]="brokerData.dot" name="dot" type="text" class="form-control" placeholder="8 digits , eg.12345678">

                                                    </div>

                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 text-center"> <img class="business_image_style"
                                                            [src]="profilePath" />
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 mt-1">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Account# &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>

                                                        <input [(ngModel)]="brokerData.accountNumber" name="accountNumber" type="text" class="form-control" placeholder="7-12 digits , eg. 897567567456">

                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.workPhone" name="workPhone" type="text" class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="brokerData.workEmail" name="workEmail" type="text" class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}"  id="brokerAddress" role="tabpanel" aria-labelledby="brokerAddress-tab">
                                        <div class="row pt-3 address-item"  *ngFor="let item of brokerData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);"
                                                class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(brokerData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'broker')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2" (click)="clearAddress(i, 'broker')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(brokerData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'broker')" class="btn btn-danger"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'broker', i)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Province</label>
                                                            <ng-select (change)= "getCities($event, 'broker', i)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select Province">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>

                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'broker', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="eg. 20171">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            name="address1{{i}}" type="text" class="form-control address_one" placeholder="eg. 01, Business Hub Center">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            name="address2{{i}}" type="text" class="form-control" placeholder="eg. 02, Business Hub Center">
                                                        </div>
                                                        <!-- <div class="col-lg-12 pt-3">
                                                            <div class="checkbox-custom">
                                                                <input [(ngModel)]="item.saveAsLocation"
                                                                name="saveAsLocation{{i}}" type="checkbox" name="terms">
                                                                <label for="w1-terms">Also Save as Location?</label>
                                                            </div>
                                                        </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}"  id="brokerContact" role="tabpanel" aria-labelledby="brokerContact-tab">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.firstName" name="firstName1" type="text"
                                                            class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.lastName" name="lastName1" type="text"
                                                            class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.designation" name="designation" type="text"
                                                            class="form-control" placeholder="eg. Software Developer">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.phone" name="phone" type="text"
                                                            class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.email" name="email" type="text"
                                                            class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="brokerData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="13 digits , eg. +1-212-987654367">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success modal-dismiss" *ngIf="!updateButton && custCurrentTab > 2" (click)="addBroker()" [disabled]="brokerDisabled">Submit</button>
                <button type="button" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 2" (click)="updateBroker()" [disabled]="brokerDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ADD CARRIER MODAL -->
<div class="modal fade" id="addCarrierModal" tabindex="-1" role="dialog" aria-labelledby="addCarrierModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Carrier</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item active" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)"
                                            class="nav-link text-center active">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item active" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                            Payment
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;
                                    "> 
                                        <a [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" class="nav-link text-center">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 4}" role="tab" (click)="tabChange(4)" class="nav-link text-center">
                                            Additional Contact
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="carrierForm">
                                <div class="tab-content">
                                    <div id="carrierBasic" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane px-0 py-3 active">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row text-dark">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name<span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="carrierData.companyName" name="companyName" type="text" class="form-control" placeholder="eg. Carroll Group">
                                                    </div>

                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="carrierData.dbaName" name="dbaName" type="text" class="form-control"
                                                            placeholder="Enter DBA Name">
                                                    </div>
                                                    
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="carrierData.firstName" name="firstName" type="text" class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="carrierData.lastName" name="lastName" type="text" class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="carrierData.workPhone" name="workPhone" type="text" class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="carrierData.workEmail" name="workEmail" type="text" class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mt-2">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.csa" name="csa" type="checkbox" name="csa">
                                                            <label for="csa">CSA&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"></i></label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.ctpat" name="ctpat" type="checkbox" name="ctpat">
                                                            <label for="ctpat">CTPAT&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="Customs Trade Partnership Against Terrorism (CTPAT) is but one layer in U.S. Customs and Border Protections (CBP) multi-layered cargo enforcement strategy.CBP works with the trade community to strengthen international supply chains and improve United States border security."></i></label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.pip" name="pip" type="checkbox" name="pip">
                                                            <label for="pip">PIP&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="PIP stands for Partners in Protection,its in partnership with the Canada Border Service Agency (CBSA).The goal of the PIP program is to strengthen security of both the Canadian-American border and the trade chain."></i></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="business_image_style"
                                                        [src]="profilePath" />
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierPaymentDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane px-0 py-3">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="carrierData.paymentDetails.inBonded" name="inBonded" type="checkbox"
                                                        name="in-bond-carrier">
                                                    <label for="in-bond-carrier">In-Bonded Carrier</label>
                                                </div>
                                            </div>
                                            <div class="row mx-0">
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">MC# &nbsp;<i
                                                      class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,in other words hauling cargo across state lines."></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                    <input [(ngModel)]="carrierData.paymentDetails.mc" name="mc" type="text" class="form-control" placeholder="6 digits , eg. 123456">

                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">DOT# &nbsp;<i
                                                      class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                    <input [(ngModel)]="carrierData.paymentDetails.dot" maxlength="8" name="dot" type="text" class="form-control" placeholder="8 digits , eg.12345678">

                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">FAST Card# &nbsp;<i
                                                      class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.fast" name="fast" type="text"

                                                        class="form-control" placeholder="14 digits,beginning with 4270 or 4110 and ending with 00 or 01 or 02 (42700012345601)">

                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">FAST
                                                        Expiry &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.fastExpiry" name="fastExpiry"
                                                        type="text" placeholder="yyyy/mm/dd"
                                                        (click)="carrexp.toggle()" ngbDatepicker #carrexp="ngbDatepicker"
                                                        class="form-control" autocomplete="off">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">CCC &nbsp;<i
                                                        class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                        data-placement="top"
                                                        title="Canadian Carrier Code is a four-character unique identifier that is assigned by the CBSA to identify a carrier. Only one carrier code is issued to each legal entity (corporation, partnership or sole proprietorship) per mode of transport (highway, marine, air or rail"></i>     <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.ccc" name="ccc" type="text" class="form-control" placeholder="4 digits , eg. 1234">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">SCAC &nbsp;<i
                                                        class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                        data-placement="top"
                                                        title="SCAC (Standard Carrier Alpha Code) is a unique 4 letter code used to identify transportation companies. A SCAC is required for all carriers doing business with a U.S. Goverment agency. As such, all carriers crossing the border into the United States are required to have a SCAC in order to identify themselves to CBP(Customs and Border Protection"></i>  <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.scac" name="scac" type="text"
                                                        class="form-control" placeholder="2-4 alphabets , eg. ABFS">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">CVOR &nbsp;<i
                                                      class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="Commercial vehicle operator's registration ( CVOR ) mandatory for commercial vehicle operators in Ontario"> </i>&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.cvor" name="cvor" type="text"
                                                        class="form-control" placeholder="9 digits , eg. 123456789">
                                                </div>

                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Local
                                                        Tax (in Percentage) &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.localTax" name="localTax" type="text"
                                                        class="form-control" placeholder="eg. 5,10,15 ">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Federal
                                                        Tax (in Percentage) &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                    <input [(ngModel)]="carrierData.paymentDetails.federalTax" name="federalTax" type="text"
                                                        class="form-control" placeholder="eg. 5,10,15 ">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">
                                                        Payroll Type<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                    <ng-select [(ngModel)]="carrierData.paymentDetails.payrollType" class="form-control" name="paymentDetails.payrollType" placeholder="Select Payroll Type">
                                                        <ng-option value="Pay Per Mile" selected=true>Pay Per Mile</ng-option>
                                                        <ng-option value="Percentage">Percentage</ng-option>
                                                        <ng-option value="Pay Per Hour">Pay Per Hour</ng-option>
                                                        <ng-option value="Pay Per Delivery">Pay Per Delivery</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="row" id="payPerHourForm" *ngIf="carrierData.paymentDetails.payrollType == 'Pay Per Hour'">
                                                        <div class="col-lg-8">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Rate</label>
                                                            <input type="number" min="0" class="form-control" [(ngModel)]="carrierData.paymentDetails.payrollRate" name="paymentDetails.payrollRate" placeholder="eg. 5,10,15 ">
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                            <ng-select [(ngModel)]="carrierData.paymentDetails.payrollRateCurrency" class="form-control" name="paymentDetails.payrollRateCurrency" placeholder="Select Currency">
                                                                <ng-option value="CAD">CAD</ng-option>
                                                                <ng-option value="USD">USD</ng-option>
                                                            </ng-select>
                                                        </div>
                                                    </div>
                                                    <div class="row align-items-center" id="payPercentageForm" *ngIf="carrierData.paymentDetails.payrollType == 'Percentage'">
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Load Pay Percent</label>
                                                            <div class="row">
                                                                <div class="col-lg-4 pr-0">
                                                                    <input type="number" min="0" class="form-control" [(ngModel)]="carrierData.paymentDetails.payrollPercent" name="paymentDetails.payrollPercent">
                                                                </div>
                                                                <div class="col-lg-2">
                                                                    <label class="font-weight-bold">% of</label>
                                                                </div>
                                                                <div class="col-lg-6 px-0">
                                                                    <ng-select [(ngModel)]="carrierData.paymentDetails.percentType" class="form-control" name="paymentDetails.percentType" placeholder="Select Percent Type">
                                                                        <ng-option value="Freight Fees" selected=true>Freight Fees</ng-option>
                                                                        <ng-option value="Freight + Fuel Surcharge">Freight + Fuel Surcharge</ng-option>
                                                                        <ng-option value="Total Income">Total Income</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <div class="row" id="payPerMileForm" *ngIf="carrierData.paymentDetails.payrollType == 'Pay Per Mile'">
                                                            <div class="col-lg-8">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Loaded Miles</label>
                                                                <input type="number" min="0" [(ngModel)]="carrierData.paymentDetails.loadedMiles" name="paymentDetails.loadedMiles"
                                                                    class="form-control" placeholder="eg. 5,10,15 ">
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                                <ng-select [(ngModel)]="carrierData.paymentDetails.loadedMilesCurrency" class="form-control" name="paymentDetails.loadedMilesCurrency" placeholder="Select Currency">
                                                                    <ng-option value="CAD">CAD</ng-option>
                                                                    <ng-option value="USD">USD</ng-option>
                                                                </ng-select>
                                                            </div>

                                                            <div class="col-lg-8">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Empty Miles</label>
                                                                <input type="number" min="0"[(ngModel)]="carrierData.paymentDetails.emptyMiles" name="paymentDetails.emptyMiles"
                                                                    class="form-control" placeholder="Enter Empty Miles">
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                                <ng-select [(ngModel)]="carrierData.paymentDetails.emptyMilesCurrency" class="form-control" name="paymentDetails.emptyMilesCurrency" placeholder="Select Currency">
                                                                    <ng-option value="CAD">CAD</ng-option>
                                                                    <ng-option value="USD">USD</ng-option>
                                                                </ng-select>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="row" id="payPerDeliveryForm" *ngIf="carrierData.paymentDetails.payrollType == 'Pay Per Delivery'">
                                                        <div class="col-lg-8">
                                                           <label class="control-label font-weight-bold text-lg-right pt-2" >Delivery Rate</label>
                                                           <input [(ngModel)]="carrierData.paymentDetails.deliveryRate" name="paymentDetails.deliveryRate" type="text" class="form-control" placeholder="eg. 30,35 ">
                                                        </div>
                                                        <div class="col-lg-4">
                                                           <label class="control-label font-weight-bold text-lg-right pt-2 mt-1"
                                                              ></label>
                                                           <ng-select class="" [(ngModel)]="carrierData.paymentDetails.deliveryRateCurrency" name="paymentDetails.deliveryRateCurrency" placeholder="Select Currency">

                                                                 <ng-option value="CAD">CAD</ng-option>
                                                                 <ng-option value="USD">USD</ng-option>
                                                           </ng-select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6">
                                                    <div class="row" id="payPerMileForm" *ngIf="carrierData.paymentDetails.payrollType == 'Pay Per Mile'">
                                                        <div class="col-lg-8">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Empty Miles</label>
                                                            <input type="number" [(ngModel)]="carrierData.paymentDetails.emptyMiles" name="paymentDetails.emptyMiles"
                                                                class="form-control" placeholder="Enter Empty Miles">
                                                        </div>
                                                        <div class="col-lg-4">
                                                            <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                            <ng-select [(ngModel)]="carrierData.paymentDetails.emptyMilesCurrency" class="form-control" name="paymentDetails.emptyMilesCurrency" placeholder="Select Currency">
                                                                <ng-option value="CAD">CAD</ng-option>
                                                                <ng-option value="USD">USD</ng-option>
                                                            </ng-select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12 pt-2">
                                                    <div class="checkbox-custom pt-2">
                                                        <input [(ngModel)]="carrierData.paymentDetails.applyTax" name="applyTax" type="checkbox"
                                                            name="terms">
                                                        <label for="w1-terms">Apply Tax (on Settlement)</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="checkbox-custom pt-2">
                                                        <input [(ngModel)]="carrierData.paymentDetails.wsib" name="wsib"
                                                            (change)="carrierWSIB($event.target.value)" type="checkbox" id="wsib-fields">
                                                        <label for="wsib">WSIB</label>
                                                    </div>
                                                </div>
                                                <div class="row wsib-wrapper col-12 row m-0 p-0" *ngIf="carrierData.paymentDetails.wsib">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">WSIB
                                                            Account#</label>
                                                        <input [(ngModel)]="carrierData.paymentDetails.wsibAccountNumber" name="wsibAccountNumber"

                                                            type="text" class="form-control" placeholder=" 7 digit eg.1234567">

                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">WSIB
                                                            Expiry</label>
                                                        <input [(ngModel)]="carrierData.paymentDetails.wsibExpiry" name="wsibExpiry" type="text"
                                                            placeholder="yyyy/mm/dd" (click)="wsibexp.toggle()" ngbDatepicker #wsibexp="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierAddressDetails" [ngClass]="{'active show': custCurrentTab == 3}" class="tab-pane px-0 py-3">
                                        <div class="row pt-3 address-item"  *ngFor="let item of carrierData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <ng-select [(ngModel)]="item.addressType" [attr.name]="'address['+i+'].addressType'" [ngModelOptions]="{standalone: true}" class="form-control"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location<span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input type="text" [(ngModel)]="item.userLocation" [attr.name]="'address['+i+'].userLocation'" [ngModelOptions]="{standalone: true}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(carrierData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'carrier')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2" (click)="clearAddress(i, 'carrier')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(carrierData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'carrier')" class="btn btn-danger"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'carrier', i)" [(ngModel)]="item.countryID"
                                                            [attr.name]="'address['+i+'].countryID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Province</label>
                                                            <ng-select (change)= "getCities($event, 'carrier', i)" [(ngModel)]="item.stateID"
                                                            [attr.name]="'address['+i+'].stateID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_state"
                                                                placeholder="Select Province">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            [attr.name]="'address['+i+'].cityID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'carrier', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            [attr.name]="'address['+i+'].zipCode'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            [attr.name]="'address['+i+'].address1'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_one" placeholder="eg. 01, Business Hub Center ">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            [attr.name]="'address['+i+'].address2'" [ngModelOptions]="{standalone: true}" type="text" class="form-control" placeholder="eg. 01, Business Hub Center ">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierAdditionalDetails" [ngClass]="{'active show': custCurrentTab == 4}" class="tab-pane px-0 py-3">
                                        <div class="row pt-3    ">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.firstName" name="firstName1" type="text"
                                                            class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.lastName" name="lastName1" type="text"
                                                            class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.designation" name="designation" type="text"
                                                            class="form-control" placeholder="eg. Software Developer">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.phone" name="phone1" type="text"
                                                            class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.email" name="email1" type="text"
                                                            class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="carrierData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="13 digits , eg. +1-212-987654367">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 4" class="btn btn-success btnNext">Next</a>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success modal-dismiss" *ngIf="!updateButton && custCurrentTab > 3" (click)="addCarrier()" [disabled]="carrierDisabled">Submit</button>
                <button type="button" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 3" (click)="updateCarrier()" [disabled]="carrierDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ADD owner operator MODAL -->
<div class="modal fade" id="addOwnerOperatorModal" tabindex="-1" role="dialog" aria-labelledby="addOwnerOperatorModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Owner Operator</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark p-0">
                    <section class="card form-wizard mb-0" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs px-2">
                                    <li class="nav-item active">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" (click)="tabChange(1)" href="javascript:;" data-toggle="tab" class="nav-link text-center active">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item active">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" (click)="tabChange(2)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Payment
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 3}" (click)="tabChange(3)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 4}" (click)="tabChange(4)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Additional Contact
                                        </a>
                                    </li>

                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="operatorForm">
                                <div class="tab-content px-0">
                                    <div id="ownerBasic" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane p-3 active height460">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="row text-dark">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="ownerData.companyName" name="companyName" type="text" class="form-control" placeholder="eg. Carroll Group">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="ownerData.dbaName" name="dbaName" type="text" class="form-control"
                                                            placeholder="Enter DBA Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <input [(ngModel)]="ownerData.firstName" name="firstName" type="text" class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="ownerData.lastName" name="lastName" type="text" class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone
                                                            &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="ownerData.workPhone" name="workPhone" type="text" class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="ownerData.workEmail" name="workEmail" type="text" class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mt-2">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="ownerData.csa" name="csa" type="checkbox" name="csa">
                                                            <label for="csa">CSA&nbsp;<i
                                                              class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                              data-placement="top"
                                                              title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"></i></label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="img-fluid"
                                                            [src]="profilePath" />
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerPaymentDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane p-3 height460">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">FAST Card#&nbsp;<i
                                                          class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                          data-placement="top"
                                                          title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.paymentDetails.fast" name="fast" type="text" class="form-control"
                                                            placeholder="14 digits,beginning with 4270 or 4110 and ending with 00 or 01 or 02 (42700012345601)">
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">FAST
                                                            Expiry &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input
                                                            [(ngModel)]="ownerData.paymentDetails.fastExpiry" name="fastExpiry"
                                                            type="text"
                                                            placeholder="yyyy/mm/dd"
                                                            (click)="fastexp.toggle()" ngbDatepicker #fastexp="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Payroll Type <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                                                        </label>
                                                        <ng-select [(ngModel)]="ownerData.paymentDetails.payrollType" class="form-control" name="paymentDetails.payrollType" placeholder="Select Payroll Type">
                                                            <ng-option value="Pay Per Mile">Pay Per Mile</ng-option>
                                                            <ng-option value="Percentage">Percentage</ng-option>
                                                            <ng-option value="Pay Per Hour">Pay Per Hour</ng-option>
                                                            <ng-option value="Pay Per Delivery">Pay Per Delivery</ng-option>
                                                        </ng-select>
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">SIN  &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.paymentDetails.sin" name="sin" type="text" class="form-control"
                                                            placeholder="9 digits , eg. 123456789">
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <div class="row" id="payPerHourForm" *ngIf="ownerData.paymentDetails.payrollType == 'Pay Per Hour'">
                                                            <div class="col-lg-6">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Rate</label>
                                                                <input type="number"  min="0" class="form-control" [(ngModel)]="ownerData.paymentDetails.payrollRate" name="paymentDetails.payrollRate" placeholder="eg. 1,2,3">
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                                <ng-select [(ngModel)]="ownerData.paymentDetails.payrollRateCurrency" class="form-control" placeholder="eg. 1,2,3 "name="paymentDetails.payrollRateCurrency" placeholder="Select Currency">
                                                                    <ng-option value="CAD">CAD</ng-option>
                                                                    <ng-option value="USD">USD</ng-option>
                                                                </ng-select>
                                                            </div>
                                                        </div>
                                                        <div class="row" id="payPercentageForm" *ngIf="ownerData.paymentDetails.payrollType == 'Percentage'">
                                                            <div class="col-lg-10">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Load Pay Percent</label>
                                                                <div class="row">
                                                                    <div class="col-lg-3">
                                                                        <input type="number" min="0" class="form-control" placeholder="eg. 1,2,3 " [(ngModel)]="ownerData.paymentDetails.payrollPercent" name="paymentDetails.payrollPercent">
                                                                    </div>
                                                                    <div class="col-lg-1">
                                                                        <label class="font-weight-bold">% of</label>
                                                                    </div>
                                                                    <div class="col-lg-8">
                                                                        <ng-select [(ngModel)]="ownerData.paymentDetails.percentType" class="form-control" name="paymentDetails.percentType" placeholder="Select Percent Type">
                                                                            <ng-option value="Freight Fees" selected=true>Freight Fees</ng-option>
                                                                            <ng-option value="Freight + Fuel Surcharge">Freight + Fuel Surcharge</ng-option>
                                                                            <ng-option value="Total Income">Total Income</ng-option>
                                                                        </ng-select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="row" id="payPerMileForm" *ngIf="ownerData.paymentDetails.payrollType == 'Pay Per Mile'">
                                                                <div class="col-lg-8">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Loaded Miles</label>
                                                                    <input type="number"  min="0" [(ngModel)]="ownerData.paymentDetails.loadedMiles" name="paymentDetails.loadedMiles"
                                                                        class="form-control" placeholder="eg. 1,2,3 ">
                                                                </div>
                                                                <div class="col-lg-4">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                                    <ng-select [(ngModel)]="ownerData.paymentDetails.loadedMilesCurrency" class="form-control" name="paymentDetails.loadedMilesCurrency" placeholder="Select Currency">
                                                                        <ng-option value="CAD">CAD</ng-option>
                                                                        <ng-option value="USD">USD</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                                <div class="col-lg-8">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Empty Miles</label>
                                                                    <input type="number"  min="0" [(ngModel)]="ownerData.paymentDetails.emptyMiles" name="paymentDetails.emptyMiles"
                                                                        class="form-control" placeholder="eg. 1,2,3">
                                                                </div>
                                                                <div class="col-lg-4">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                                                    <ng-select [(ngModel)]="ownerData.paymentDetails.emptyMilesCurrency" class="form-control" name="paymentDetails.emptyMilesCurrency" placeholder="Select Currency">
                                                                        <ng-option value="CAD">CAD</ng-option>
                                                                        <ng-option value="USD">USD</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row" id="payPerDeliveryForm" *ngIf="ownerData.paymentDetails.payrollType == 'Pay Per Delivery'">
                                                            <div class="col-lg-4">
                                                               <label class="control-label font-weight-bold text-lg-right pt-2" >Delivery Rate</label>
                                                               <input [(ngModel)]="ownerData.paymentDetails.deliveryRate" name="paymentDetails.deliveryRate" type="text" class="form-control" placeholder="eg. 30,35 etc.">
                                                            </div>
                                                            <div class="col-lg-6">
                                                               <label class="control-label font-weight-bold text-lg-right pt-2 mt-1"
                                                                  ></label>
                                                               <ng-select class="mt-2" [(ngModel)]="ownerData.paymentDetails.deliveryRateCurrency" name="paymentDetails.deliveryRateCurrency" placeholder="Select Currency">

                                                                     <ng-option value="CAD">CAD</ng-option>
                                                                     <ng-option value="USD">USD</ng-option>
                                                               </ng-select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerAddressDetails" [ngClass]="{'active show': custCurrentTab == 3}" class="tab-pane p-3 height460">
                                        <div class="row address-item"  *ngFor="let item of ownerData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <ng-select [(ngModel)]="item.addressType" [attr.name]="'address['+i+'].addressType'" [ngModelOptions]="{standalone: true}" class="form-control" placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input type="text" [(ngModel)]="item.userLocation" [attr.name]="'address['+i+'].userLocation'" [ngModelOptions]="{standalone: true}"
                                                (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left" >
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;" (click)="userAddress(ownerData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'owner')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2" (click)="clearAddress(i, 'operator')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(ownerData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'operator')" class="btn btn-danger"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'operator', i)" [(ngModel)]="item.countryID"
                                                            [attr.name]="'address['+i+'].countryID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Province</label>
                                                            <ng-select (change)= "getCities($event, 'operator', i)" [(ngModel)]="item.stateID"
                                                            [attr.name]="'address['+i+'].stateID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_state"
                                                                placeholder="Select Province">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            [attr.name]="'address['+i+'].cityID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'operator', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            [attr.name]="'address['+i+'].zipCode'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            [attr.name]="'address['+i+'].address1'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_one" placeholder="eg. 01, Business Hub Center ">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            [attr.name]="'address['+i+'].address2'" [ngModelOptions]="{standalone: true}" type="text" class="form-control" placeholder="eg. 01, Business Hub Center ">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerAdditionalDetails" [ngClass]="{'active show': custCurrentTab == 4}" class="tab-pane p-3 height460">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.firstName"
                                                        name="firstName1" type="text" class="form-control" placeholder="eg. John">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.lastName"
                                                        name="lastName1" type="text" class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.designation"
                                                        name="designation" type="text" class="form-control" placeholder="eg. Software developer ">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.phone" name="phone1" type="text" class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.email" name="email1" type="text" class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="ownerData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="13 digits , eg. +1-212-987654367">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 4" class="btn btn-success btnNext">Next</a>
                <button type="button" class="btn btn-success modal-dismiss ml-2" *ngIf="!updateButton && custCurrentTab > 3" (click)="addOwnerOperator()" [disabled]="operatorDisabled">Submit</button>
                <button type="button" class="btn btn-default ml-2" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 3" (click)="updateOwnerOperator()" [disabled]="operatorDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ADD SHIPPER MODAL -->
<div class="modal fade" id="addShipperModal" tabindex="-1" role="dialog" aria-labelledby="addShipperModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Consignor </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark p-0">
                    <div class="my-1">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item" style=" cursor:pointer;
                            "> <a class="nav-link active" id="shipperBasicDetails-tab" data-toggle="tab"
                                
                                [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="shipperBasicDetails"
                                    aria-selected="true">Basic Detail</a> </li>
                            <li class="nav-item" style=" cursor:pointer;
                            "> <a class="nav-link" id="shipperAddress-tab" data-toggle="tab"
                                [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="shipperAddress"
                                    aria-selected="false">Address</a> </li>
                            <li class="nav-item" style=" cursor:pointer;
                            "> <a class="nav-link" id="shipperAdditionalContact-tab" data-toggle="tab"
                                [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="shipperAdditionalContact"
                                    aria-selected="false">Additional
                                    Contact</a> </li>
                            <!-- <li class="nav-item"> <a class="nav-link" id="shipperAdditionalDetails-tab" data-toggle="tab" href="#shipperAdditionalDetails" role="tab" aria-controls="shipperAdditionalDetails" aria-selected="false">Additional Information</a> </li> -->
                        </ul>
                    </div>
                    <form class="form-horizontal" novalidate="novalidate">
                        <div class="tab-content" style="box-shadow:none;border:none;">
                            <div class="tab-pane" [ngClass]="{'active show': custCurrentTab == 1}" id="shipperBasicDetails" role="tabpanel"
                                aria-labelledby="shipperBasicDetails-tab">
                                <div class="row pt-3">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                    Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="shipperData.companyName" name="companyName" type="text"
                                                    class="form-control" placeholder="eg. Carroll Group">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                </label>
                                                <input [(ngModel)]="shipperData.dbaName" name="dbaName" type="text" class="form-control"
                                                    placeholder="Enter DBA Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="shipperData.firstName" name="firstName" type="text"
                                                    class="form-control" placeholder="eg. eg. John ">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.lastName" name="lastName" type="text"
                                                    class="form-control" placeholder="eg. Smith">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">MC#&nbsp;<i
                                                  class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                  data-placement="top"
                                                  title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                  in other words hauling cargo across state lines."></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                <input [(ngModel)]="shipperData.mc" name="mc" type="text" class="form-control" placeholder="6 digits , eg. 123456">

                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">DOT# &nbsp;<i
                                                    class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                    data-placement="top"
                                                    title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                <input [(ngModel)]="shipperData.dot" name="dot" maxlength="8" type="text" class="form-control" placeholder="8 digits , eg.12345678">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row ">
                                            <div class="col-lg-12 text-center">
                                                <img height="150px" width="150px" [src]="profilePath" /></div>
                                            <div class="col-lg-12 text-center">
                                                <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-1 mt-2">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.workPhone" name="workPhone" type="text"
                                                    class="form-control" placeholder="eg. 0016780571">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="shipperData.workEmail" name="workEmail" type="text"
                                                    class="form-control" placeholder="eg. example@email.com">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="shipperAddress" role="tabpanel" aria-labelledby="shipperAddress-tab">
                                <div class="row pt-3" *ngFor="let item of shipperData.address;let i = index;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                    Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                            Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                            (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                        <div class="map-search__results bg-white">
                                            <ul class="p-0 m-0 text-left">
                                                <li *ngFor="let item of searchResults;">
                                                    <a href="javascript:;"
                                                        (click)="userAddress(shipperData, i, item)">{{item.address.label}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="checkbox-custom pt-2">
                                            <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                (change)="manAddress($event, i, 'shipper')" type="checkbox">
                                            <label for="man_address">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 mar-top-37">
                                        <a href="javascript:;" class="btn btn-dark mr-3" (click)="clearAddress(i, 'shipper')">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(shipperData);" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'shipper')" class="btn btn-danger"
                                            href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                    <div *ngIf="item.manual" class="row">
                                        <div class="col-lg-6 pt-4">
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event, 'shipper', i)" [(ngModel)]="item.countryID"
                                                    name="countryID{{i}}" class="form-control populate address_country"
                                                        placeholder="Select Country">
                                                        <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Province</label>
                                                    <ng-select (change)= "getCities($event, 'shipper', i)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select Province">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID"
                                                    name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City" (change)="getCityName($event, 'shipper', i)">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                        class="form-control address_zip" placeholder="eg. 20171">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                        class="form-control address_one" placeholder="eg. 01, Business Hub Center ">
                                                </div>
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                        class="form-control" placeholder="eg. 01, Business Hub Center ">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}" id="shipperAdditionalContact" role="tabpanel"
                                aria-labelledby="shipperAdditionalContact-tab">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.firstName" name="firstName1"
                                                    type="text" class="form-control" placeholder="eg. John">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.lastName" name="lastName1"
                                                    type="text" class="form-control" placeholder="eg. Smith">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.designation" name="designation"
                                                    type="text" class="form-control" placeholder="eg. Software developer">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.phone" name="phone1" type="text"
                                                    class="form-control" placeholder="eg. 0016780571">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.email" name="email1" type="text"
                                                    class="form-control" placeholder="eg. example@email.com">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Fax &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="shipperData.additionalContact.fax" name="fax" type="text"
                                                    class="form-control" placeholder="13 digits , eg. +1-212-987654367">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-lg-12">
                                        <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                        <p class="text text-success" *ngIf="hasSuccess">
                                            {{ Success }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext mr-2">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success"  *ngIf="!updateButton && custCurrentTab > 2" (click)="addShipper()" [disabled]="consignorDisabled">Submit</button>
                <button type="button" class="btn btn-success" *ngIf="updateButton && custCurrentTab > 2" (click)="updateShipper()" [disabled]="consignorDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ADD CONSIGNEE MODAL -->
<div class="modal fade" id="addConsigneeModal" tabindex="-1" role="dialog" aria-labelledby="addConsigneeModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Consignee</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark p-0">
                    <div class="my-1">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item" style="cursor:pointer;"> <a class="nav-link active" id="consigneeBasicDetails-tab" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="consigneeBasicDetails"
                                    aria-selected="true">Basic Detail</a> </li>
                            <li class="nav-item" style="cursor:pointer;"> <a class="nav-link" id="consigneeAddress-tab" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="consigneeAddress"
                                    aria-selected="false">Address</a> </li>
                            <li class="nav-item" style="cursor:pointer;"> <a class="nav-link" id="consigneeAdditionalContact-tab" [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="consigneeAdditionalContact"
                                    aria-selected="false">Additional
                                    Contact</a> </li>
                            <!-- <li class="nav-item"> <a class="nav-link" id="consigneeAdditionalDetails-tab" data-toggle="tab" href="#consigneeAdditionalDetails" role="tab" aria-controls="consigneeAdditionalDetails" aria-selected="false">Additional Information</a> </li> -->
                        </ul>
                    </div>
                    <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="consigneeForm">
                        <div class="tab-content" style="box-shadow:none;border:none;">
                            <div class="tab-pane" [ngClass]="{'active show': custCurrentTab == 1}" id="consigneeBasicDetails" role="tabpanel"
                                aria-labelledby="consigneeBasicDetails-tab">
                                <div class="row pt-3">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                    Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="consigneeData.companyName" name="companyName" type="text"
                                                    class="form-control" placeholder="eg. Carroll Group">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                </label>
                                                <input [(ngModel)]="consigneeData.dbaName" name="dbaName" type="text" class="form-control"
                                                    placeholder="Enter DBA Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="consigneeData.firstName" name="firstName" type="text"
                                                    class="form-control" placeholder="eg. John">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.lastName" name="lastName" type="text"
                                                    class="form-control" placeholder="eg. Smith">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">MC#&nbsp;<i
                                                  class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                  data-placement="top"
                                                  title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                  in other words hauling cargo across state lines."></i> &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.mc" name="mc" type="text" class="form-control" placeholder="6 digits , eg. 123456">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">DOT# &nbsp;<i
                                                  class="fas fa-exclamation-circle" data-toggle="tooltip"
                                                  data-placement="top"
                                                  title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."></i>&nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                <input [(ngModel)]="consigneeData.dot" name="dot" maxlength="8" type="text" class="form-control" placeholder="8 digits , eg.12345678">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row ">
                                            <div class="col-lg-12 text-center"> <img height="150px" width="150px"
                                                [src]="profilePath" /></div>
                                            <div class="col-lg-12 text-center">
                                                <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-1 mt-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.workPhone" name="workPhone" type="text"
                                                    class="form-control" placeholder="eg. 0016780571">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                <input [(ngModel)]="consigneeData.workEmail" name="workEmail" type="text"
                                                    class="form-control" placeholder="eg. example@email.com">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="consigneeAddress" role="tabpanel" aria-labelledby="consigneeAddress-tab">
                                <div class="row pt-3" *ngFor="let item of consigneeData.address;let i = index;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                    Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                            Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                            (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                        <div class="map-search__results bg-white">
                                            <ul class="p-0 m-0 text-left">
                                                <li *ngFor="let item of searchResults;">
                                                    <a href="javascript:;"
                                                        (click)="userAddress(consigneeData, i, item)">{{item.address.label}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="checkbox-custom pt-2">
                                            <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                (change)="manAddress($event, i, 'consignee')" type="checkbox">
                                            <label for="man_address">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 mar-top-37">
                                        <a href="javascript:;" class="btn btn-dark mr-2" (click)="clearAddress(i, 'consignee')">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(consigneeData);" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'consignee')" class="btn btn-danger"
                                            href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                    <div *ngIf="item.manual" class="row">
                                        <div class="col-lg-4 offset-lg-1 pt-4">
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event, 'consignee', i)" [(ngModel)]="item.countryID"
                                                    name="countryID{{i}}" class="form-control populate address_country"
                                                        placeholder="Select Country">
                                                        <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Province </label>
                                                    <ng-select (change)= "getCities($event, 'consignee', i)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select Province">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID"
                                                    name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City" (change)="getCityName($event, 'consignee', i)">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                        class="form-control address_zip" placeholder="eg. 20171">
                                                </div>
                                            </div>

                                        </div>

                                        <div class="col-lg-5 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                        class="form-control address_one" placeholder="eg. 01, Business Hub Center">
                                                </div>
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                        class="form-control" placeholder="eg. 01, Business Hub Center">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}" id="consigneeAdditionalContact" role="tabpanel"
                                aria-labelledby="consigneeAdditionalContact-tab">
                                <div class="row pt-3">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.firstName" name="firstName1"
                                                    type="text" class="form-control" placeholder="eg. John">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                    Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.lastName" name="lastName1"
                                                    type="text" class="form-control" placeholder="eg. Smith">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.designation" name="designation"
                                                    type="text" class="form-control" placeholder="eg. Software developer">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.phone" name="phone1" type="text"
                                                    class="form-control" placeholder="eg. 0016780571">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.email" name="email1" type="text"
                                                    class="form-control" placeholder="eg. example@email.com">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Fax &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input [(ngModel)]="consigneeData.additionalContact.fax" name="fax" type="text"
                                                    class="form-control" placeholder="13 digits , eg. +1-212-987654367">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <div class="col-lg-12">
                                        <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                        <p class="text text-success" *ngIf="hasSuccess">
                                            {{ Success }}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal-footer px-4">
                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" *ngIf="!updateButton && custCurrentTab > 2"
                    (click)="addConsignee()" [disabled]="consigneeDisabled">Submit</button>
                <button type="button" class="btn btn-success" *ngIf="updateButton && custCurrentTab > 2"
                    (click)="updateConsignee()" [disabled]="consigneeDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- ADD Factoring Company MODAL -->
<div class="modal fade" id="addFCModal" tabindex="-1" role="dialog" aria-labelledby="addFCModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Factoring Company</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item active" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" class="nav-link text-center active">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;
                                    ">
                                        <a [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" class="nav-link text-center">
                                            Factoring Details
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal" novalidate="novalidate">
                                <div class="tab-content">
                                    <div id="FCBasicDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 1}">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="fcCompanyData.companyName" name="companyName"
                                                            type="text" class="form-control" placeholder="Enter Company Name">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="fcCompanyData.isDefault" name="isDefault"
                                                                type="checkbox" name="terms">
                                                            <label for="w1-terms">Make this Factoring Company as
                                                                Default</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="fcCompanyData.dbaName" name="dbaName" type="text" class="form-control"
                                                            placeholder="Enter DBA Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="fcCompanyData.firstName" name="firstName" type="text"
                                                            class="form-control" placeholder="eg. John ">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="fcCompanyData.lastName" name="lastName" type="text"
                                                            class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="fcCompanyData.workPhone" name="workPhone" type="text"
                                                            class="form-control" placeholder="eg. 0016780571">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="fcCompanyData.workEmail" name="workEmail" type="text"
                                                            class="form-control" placeholder="eg. example@email.com">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center">
                                                        <img class="business_image_style" [src]="profilePath"/>
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="fcAddressDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 2}">
                                        <div class="row pt-3 address-item" *ngFor="let item of fcCompanyData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Main">Main</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                                    (keyup)="searchTerm.next($event);" class="form-control"
                                                    placeholder="Type Address" [disabled]="item.manual">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;"
                                                                (click)="userAddress(fcCompanyData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'fcCompany')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark" (click)="clearAddress(i, 'company')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(fcCompanyData);" class="btn btn-success"
                                                    href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'company')" class="btn btn-danger"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'company', i)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Province</label>
                                                            <ng-select (change)= "getCities($event, 'company', i)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select Province">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'company', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                                class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                                class="form-control address_one" placeholder="Enter Address 1">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                                class="form-control" placeholder="Enter Address 2">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="factoringDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 3}">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Account# &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="fcCompanyData.fcDetails.accountNumber"

                                                            name="accountNumber" type="text" class="form-control" placeholder="7-12 digits , eg. 897567567456">

                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Factoring
                                                            Rate &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <div class="row">
                                                            <div class="col-lg-4">
                                                                <input [(ngModel)]="fcCompanyData.fcDetails.factoringRate"
                                                                    name="factoringRate" type="text" class="form-control" placeholder="eg. 5,10,15 etc">
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <ng-select [(ngModel)]="fcCompanyData.fcDetails.factoringUnit"
                                                                name="factoringUnit" class="form-control populate address_city"
                                                                    placeholder="Select Factoring Unit">
                                                                    <ng-option value="%">%</ng-option>
                                                                    <ng-option value="$">$</ng-option>
                                                                </ng-select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button" *ngIf="custCurrentTab > 1" (click)="prevStep()"
                    class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()" *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" *ngIf="!updateButton && custCurrentTab > 2" (click)="addFCompany()" [disabled]="companyDisabled">Submit</button>
                <button type="button" class="btn btn-success" *ngIf="updateButton && custCurrentTab > 2" (click)="updateFCompany()" [disabled]="companyDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="addStaffModal" tabindex="-1" role="dialog" aria-labelledby="addStaffModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Employee</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item" style="cursor:pointer;">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" (click)="tabChange(1)" role="tab" class="nav-link text-center"  aria-controls="staffBasic-tab" aria-selected="true">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" (click)="tabChange(2)" role="tab" class="nav-link text-center" aria-controls="staffAddres-tab" id="staffAddres-tab" aria-selected="false">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;">
                                        <a [ngClass]="{'active': custCurrentTab == 3}" (click)="tabChange(3)" role="tab" class="nav-link text-center" aria-controls="staffAccount-tab" id="staffAccount-tab" aria-selected="false">
                                            User Account
                                        </a>
                                    </li>
                                    <li class="nav-item" style="cursor:pointer;">
                                        <a [ngClass]="{'active': custCurrentTab == 4}" (click)="tabChange(4)" role="tab" class="nav-link text-center" aria-controls="staffPayment-tab" id="staffPayment-tab" aria-selected="false">
                                            Payment Details
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal" novalidate="novalidate">
                                <div class="tab-content">
                                    <div id="staffBasic-tab" class="tab-pane px-0 py-3" [ngClass]="{'active show': custCurrentTab == 1}" role="tabpanel" aria-labelledby="staffBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.companyName" name="companyName"
                                                            type="text" class="form-control" placeholder="eg. Ziemann Inc">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name &nbsp; <span class="text-1 optional-label-color">(optional)</span>
                                                        </label>
                                                        <input [(ngModel)]="staffData.dbaName" name="dbaName" type="text" class="form-control"
                                                            placeholder="Enter DBA Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.firstName" name="firstName" type="text" class="form-control" placeholder="eg. John" >
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.lastName" name="lastName" type="text" class="form-control" placeholder="eg. Smith">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Employee
                                                            ID <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.employeeID" name="employeeID" type="text"
                                                            class="form-control" placeholder="eg. RTYU5678 ">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Date
                                                            of
                                                            Birth &nbsp; <span class="text-1 optional-label-color">(optional)</span> </label>
                                                        <input [(ngModel)]="staffData.dateOfBirth" name="dateOfBirth" type="text"
                                                            placeholder="yyyy/mm/dd" (click)="staffdob.toggle()" ngbDatepicker #staffdob="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Email <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.workEmail" name="workEmail" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Phone &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>

                                                        <input [(ngModel)]="staffData.workPhone" name="workPhone" type="text" class="form-control" placeholder="eg. 0016780571">

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-12 margin_50 text-center"> <img class="business_image_style d-block mx-auto"
                                                        [src]="profilePath" />
                                                        <div class="btn btn-sm btn-success overflow-hidden mt-3 position-relative" style="cursor: pointer;"><em class="fas fa-plus"></em> {{ imageText }}
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input1 w-100" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffAddres-tab" class="tab-pane px-0 py-3" [ngClass]="{'active show': custCurrentTab == 2}" role="tabpanel" aria-labelledby="staffAddres-tab">
                                        <div class="row pt-3" *ngFor="let item of staffData.address;let i = index;">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                                    (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address" [disabled]="item.manual">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;"
                                                                (click)="userAddress(staffData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="item.manual" name="manual{{i}}"
                                                        (change)="manAddress($event, i, 'staff')" type="checkbox">
                                                    <label for="man_address">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark" (click)="clearAddress(i, 'staff')">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(staffData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="removeAddress(i, item.addressID,'staff')" class="btn btn-danger" href="javascript:;"><i
                                                        class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="item.manual" class="row mx-0">
                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event, 'staff', i)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Province</label>
                                                            <ng-select (change)= "getCities($event, 'staff', i)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select Province">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City" (change)="getCityName($event, 'staff', i)">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                                class="form-control address_zip" placeholder="eg. 20171">
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="col-lg-6 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                                class="form-control address_one" placeholder="eg. 01, Business Hub Center">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                                class="form-control" placeholder="eg. 03, Business Hub Center">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffAccount-tab" class="tab-pane px-0 py-3" [ngClass]="{'active show': custCurrentTab == 3}" role="tabpanel" aria-labelledby="staffAccount-tab">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contract
                                                            Start Date &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="staffData.userAccount.contractStartDate" name="contractStartDate" type="text"
                                                            placeholder="yyyy/mm/dd" (click)="contStart.toggle()" ngbDatepicker #contStart="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contract
                                                            End Date &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="staffData.userAccount.contractEndDate" name="contractEndDate" type="text"
                                                            placeholder="yyyy/mm/dd" (click)="contEnd.toggle()" ngbDatepicker #contEnd="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Department &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="staffData.userAccount.department"
                                                            name="department" class="form-control" placeholder="Select Department">
                                                            <ng-option value="Fleet">Fleet</ng-option>
                                                            <ng-option value="Operations">Operations</ng-option>
                                                            <ng-option value="Safety">Safety</ng-option>
                                                            <ng-option value="Maintenance">Maintenance</ng-option>
                                                            <ng-option value="Dispatch">Dispatch</ng-option>
                                                            <ng-option value="Compliance">Compliance</ng-option>
                                                            <ng-option value="Road Assistance">Road Assistance</ng-option>
                                                            <ng-option value="Accounts">Accounts</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="staffData.userAccount.designation"
                                                            name="designation" class="form-control"
                                                                placeholder="Select Designation">
                                                                <ng-option value="Executive">Executive</ng-option>
                                                                <ng-option value="Manager">Manager</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input (change)="enableLogin($event)" type="checkbox" [(ngModel)]="staffData.loginEnabled" name="loginEnabled" [disabled]="fieldvisibility">
                                                    <label for="enableLogin">Enable Login</label>
                                                </div>
                                            </div>

                                            <div class="col-lg-12" *ngIf="loginDiv">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Username</label>
                                                        <input [(ngModel)]="staffData.userData.username" name="username" type="text"
                                                            placeholder="eg. John_Smith" [disabled]="fieldvisibility" class="form-control">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold font-weight-bold text-lg-right pt-2">User Type</label>
                                                        <ng-select class="form-control populate" [(ngModel)]="staffData.userData.userType" name="userType" [disabled]="fieldvisibility" placeholder="Select User Type">
                                                            <ng-option value="Full Admin">Full Admin</ng-option>
                                                            <ng-option value="Read Only Admin">Read Only Admin</ng-option>
                                                            <ng-option value="Dispatch">Dispatch</ng-option>
                                                            <ng-option value="Maintenance">Maintenance</ng-option>
                                                            <ng-option value="Safety Manager">Safety Manager</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-12" *ngIf="loginDiv">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                             Password</label>
                                                        <input [(ngModel)]="staffData.userData.password" name="password" type="text"
                                                            placeholder="eg. JohnSmith@123" class="form-control" autocomplete="off" [disabled]="fieldvisibility">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Confirm Password</label>
                                                        <input [(ngModel)]="staffData.userData.confirmPassword" name="confirmPassword" type="text"
                                                            placeholder="eg. JohnSmith@123" class="form-control" autocomplete="off" [disabled]="fieldvisibility">
                                                    </div>

                                                    <div *ngIf="errorClass" class="col-lg-10 text-danger">{{ errorClassMsg }}</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffPayment-tab" class="tab-pane px-0 py-3" [ngClass]="{'active show': custCurrentTab == 4}" role="tabpanel" aria-labelledby="staffPayment-tab">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Payroll
                                                            Type <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <ng-select [(ngModel)]="staffData.paymentDetails.payrollType"
                                                            name="payrollType" class="form-control"
                                                                placeholder="Select Payroll Type">
                                                                <ng-option value="Hours">Hours</ng-option>
                                                                <ng-option value="Flat">Flat</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-4">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Rate &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="staffData.paymentDetails.payrollRate" name="payrollRate" type="text"
                                                            class="form-control" placeholder="eg. 1,2,3">
                                                    </div>
                                                    <div class="col-lg-2">
                                                        <label class="control-label font-weight-bold text-lg-right pt-3"></label>
                                                        <ng-select [(ngModel)]="staffData.paymentDetails.payrollRateUnit"
                                                            name="payrollRateUnit" class="form-control pt-1"
                                                                placeholder="Select Rate Unit">
                                                                <ng-option value="CAD">CAD</ng-option>
                                                                <ng-option value="USD">USD</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Pay
                                                            Period &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <ng-select [(ngModel)]="staffData.paymentDetails.payPeriod"
                                                            name="payPeriod" class="form-control"
                                                                placeholder="Select Pay Period">
                                                                <ng-option value="Weekly (52 pay periods a year)">Weekly (52 pay periods a year)</ng-option>
                                                                <ng-option value="Weekly (53 pay periods a year)">Weekly (53 pay periods a year)</ng-option>
                                                                <ng-option value="Biweekly (26 pay periods a year)">Biweekly (26 pay periods a year)</ng-option>
                                                                <ng-option value="Biweekly (27 pay periods a year)">Biweekly (27 pay periods a year)</ng-option>
                                                                <ng-option value="Semi-monthly (24 pay periods a year)">Semi-monthly (24 pay periods a year)</ng-option>
                                                                <ng-option value="Monthly (12 pay periods a year)">Monthly (12 pay periods a year)</ng-option>
                                                                <ng-option value="Quaterly (4 pay periods a year)">Quaterly (4 pay periods a year)</ng-option>
                                                                <ng-option value="Semiannually (2 pay periods a year)">Semiannually (2 pay periods a year)</ng-option>
                                                                <ng-option value="Annually (1 pay periods a year)">Annually (1 pay periods a year)</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">SIN <span class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                                                        <input [(ngModel)]="staffData.paymentDetails.SIN" name="SIN" type="text"
                                                            class="form-control" placeholder=" 9 digits eg. 123-456-789">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">WCB# &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="staffData.paymentDetails.WCB" name="WCB" type="text"
                                                            class="form-control" placeholder="7 digits , 1 is alphabetical and 6 is numeric , eg. A123456">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Health
                                                            Care# &nbsp; <span class="text-1 optional-label-color">(optional)</span></label>
                                                        <input [(ngModel)]="staffData.paymentDetails.healthCare" name="healthCare" type="text"
                                                            class="form-control" placeholder="13 digits , 11 is numeric and 2 is alphabets , eg. 12345678923AB">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-lg-12">
                                                <p class="text text-danger" *ngIf="hasError">{{Error}}</p>
                                                <p class="text text-success" *ngIf="hasSuccess">
                                                    {{ Success }}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
            <div class="modal-footer px-4">
                <button type="button" *ngIf="custCurrentTab > 1" (click)="prevStep()"
                    class="btn btn-default btnPrevious">Prev</button>
                <a href="javascript:;" (click)="nextStep()" *ngIf="custCurrentTab < 4"
                    class="btn btn-success btnNext">Next</a>

                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success" *ngIf="!updateButton && custCurrentTab > 3"
                    (click)="addStaff()" [disabled]="employeeDisabled">Submit</button>
                <button type="button" *ngIf="updateButton && custCurrentTab > 3" (click)="updateStaff()"
                    class="btn btn-success" [disabled]="employeeDisabled">Update</button>
            </div>
        </div>
    </div>
</div>

<ng-template #content let-modal>
    <div class="modal-header">
        <h5 class="modal-title">{{userDetailTitle}}'s Details</h5>
        <button type="button" (click)="modal.dismiss()" class="close" data-dismiss="modal" aria-label="Close">
            <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
        </button>
    </div>
    <div class="modal-body text-dark">
        <div class="card-body text-dark p-0">
            <ul class="nav top-tabs nav-tabs wizard-steps">
                <li class="nav-item active"> <a href="#customerBasicDetails" data-toggle="tab" class="nav-link text-center active">
                        Basic Details
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.paymentDetails"> <a href="#customPaymentDetails" data-toggle="tab"
                        class="nav-link text-center">
                        Payment
                    </a>
                </li>
                <li class="nav-item"> <a href="#customerAddressDetails" data-toggle="tab" class="nav-link text-center">
                        Address
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.userAccount"> <a href="#customerUserAccount"
                        data-toggle="tab" class="nav-link text-center">
                        User Account
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.additionalContact"> <a href="#customerAdditionalContact"
                        data-toggle="tab" class="nav-link text-center">
                        Additional Contact
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.fcDetails"> <a href="#customerFactoringDetails"
                    data-toggle="tab" class="nav-link text-center">
                        Factoring Details
                    </a>
                </li>
            </ul>
            <div class="tab-content shadow-none border-0">
                <div id="customerBasicDetails" class="tab-pane active">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="thumb-info text-center mb-3"> <img [src]="detailImgPath" class="rounded img-fluid"
                                    alt="John Doe" style="max-width: 200px;"> </div>
                        </div>
                        <div class="col-lg-6">
                            <table class="table table-bordered m-0">
                                <tbody>
                                    <tr *ngIf="userDetailData.brokerType">
                                        <th width="40%" class="back-color-gray">Broker Type:</th>
                                        <td>{{userDetailData.brokerType}}</td>
                                    </tr>

                                    <tr *ngIf="userDetailData.dbaName">
                                        <th width="40%" class="back-color-gray">DBA Name:</th>
                                        <td>{{userDetailData.dbaName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.dateOfBirth">
                                        <th width="40%" class="back-color-gray">Date of Birth:</th>
                                        <td>{{userDetailData.dateOfBirth}}</td>
                                    </tr>

                                    <tr>
                                        <th width="40%" class="back-color-gray">{{detailTab}} Name:</th>
                                        <td>{{userDetailData.firstName}} {{userDetailData.lastName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.companyName">
                                        <th width="40%" class="back-color-gray">Company Name:</th>
                                        <td>{{userDetailData.companyName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.mc">
                                        <th width="40%" class="back-color-gray">MC#:</th>
                                        <td>{{userDetailData.mc}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.dot">
                                        <th width="40%" class="back-color-gray">DOT#:</th>
                                        <td>{{userDetailData.dot}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.ein">
                                        <th width="40%" class="back-color-gray">EIN#:</th>
                                        <td>{{userDetailData.ein}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.fast">
                                        <th width="40%" class="back-color-gray">FAST Card#:</th>
                                        <td>{{userDetailData.fast}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.fastExpiry">
                                        <th width="40%" class="back-color-gray">FAST Expiry:</th>
                                        <td>{{userDetailData.fastExpiry}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-6">
                            <table class="table table-bordered m-0">
                                <tbody>
                                    <tr *ngIf="userDetailData.fastExpiry">
                                        <th width="40%" class="back-color-gray">Account#:</th>
                                        <td>{{userDetailData.accountNumber}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.trailerPreference">
                                        <th width="40%" class="back-color-gray">Trailer Preference:</th>
                                        <td>{{userDetailData.trailerPreference}}</td>
                                    </tr>
                                    <tr>
                                        <th width="40%" class="back-color-gray">Phone:</th>
                                        <td>{{userDetailData.workPhone}}</td>
                                    </tr>
                                    <tr>
                                        <th width="40%" class="back-color-gray">Email:</th>
                                        <td>{{userDetailData.workEmail}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.csa">
                                        <th width="40%" class="back-color-gray">CSA:</th>
                                        <td>Yes</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.ctpat">
                                        <th width="40%" class="back-color-gray">CTPAT:</th>
                                        <td>Yes</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.pip">
                                        <th width="40%" class="back-color-gray">PIP:</th>
                                        <td>Yes</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="customerAddressDetails" class="tab-pane ">
                    <table style="float: left;" class="table table-bordered mb-2" *ngFor="let item of userDetailData.address">
                        <tbody>
                            <tr>
                                <th width="40%" class="back-color-gray">Address Type:</th>
                                <td>{{item.addressType}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray"> Country:</th>
                                <td>{{item.countryName}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray">State:</th>
                                <td>{{item.stateName}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray"> City:</th>
                                <td>{{item.cityName}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray">Zip Code:</th>
                                <td>{{item.zipCode}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray">Address1:</th>
                                <td>{{item.address1}}</td>
                            </tr>
                            <tr *ngIf="item.manual == true">
                                <th width="40%" class="back-color-gray">Address2:</th>
                                <td>{{item.address2}}</td>
                            </tr>
                            <tr *ngIf="item.manual == false">
                                <th width="40%" class="back-color-gray">Address:</th>
                                <td>{{item.userLocation}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="customerAdditionalContact" class="tab-pane" *ngIf="userDetailData.additionalContact">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr>
                                <th width="40%" class="back-color-gray">Name:</th>
                                <td>
                                    {{userDetailData.additionalContact.firstName ?
                                    userDetailData.additionalContact.firstName : '-'}}
                                    {{userDetailData.additionalContact.lastName ?
                                    userDetailData.additionalContact.lastName : ''}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Designation:</th>
                                <td>{{userDetailData.additionalContact.designation ?
                                    userDetailData.additionalContact.designation : '-'}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Phone:</th>
                                <td>{{userDetailData.additionalContact.phone ? userDetailData.additionalContact.phone :
                                    '-'}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Email:</th>
                                <td>{{userDetailData.additionalContact.email ? userDetailData.additionalContact.email :
                                    '-' }}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Fax:</th>
                                <td>{{userDetailData.additionalContact.fax ? userDetailData.additionalContact.fax :
                                    '-'}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="customPaymentDetails" class="tab-pane" *ngIf="userDetailData.paymentDetails">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr *ngIf="userDetailData.paymentDetails.inBonded">
                                <th width="40%" class="back-color-gray">In-Bonded Carrier:</th>
                                <td>Yes</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.mc">
                                <th width="40%" class="back-color-gray">MC:</th>
                                <td>{{userDetailData.paymentDetails.mc}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.dot">
                                <th width="40%" class="back-color-gray">DOT:</th>
                                <td>{{userDetailData.paymentDetails.dot}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.fast">
                                <th width="40%" class="back-color-gray">FAST Card#:</th>
                                <td>{{userDetailData.paymentDetails.fast}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.fastExpiry">
                                <th width="40%" class="back-color-gray">FAST Expiry:</th>
                                <td>{{userDetailData.paymentDetails.fastExpiry}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.ccc">
                                <th width="40%" class="back-color-gray">CCC:</th>
                                <td>{{userDetailData.paymentDetails.ccc}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.scac">
                                <th width="40%" class="back-color-gray">SCAC:</th>
                                <td>{{userDetailData.paymentDetails.scac}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.cvor">
                                <th width="40%" class="back-color-gray">CVOR:</th>
                                <td>{{userDetailData.paymentDetails.cvor}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.payrollType">
                                <th width="40%" class="back-color-gray">Payroll Type:</th>
                                <td>{{userDetailData.paymentDetails.payrollType}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.loadedMiles && userDetailData.paymentDetails.payrollType == 'Pay Per Mile'">
                                <th width="40%" class="back-color-gray">Loaded Miles:</th>
                                <td>{{userDetailData.paymentDetails.loadedMiles}} {{userDetailData.paymentDetails.loadedMilesCurrency}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.emptyMiles && userDetailData.paymentDetails.payrollType == 'Pay Per Mile'">
                                <th width="40%" class="back-color-gray">Empty Miles:</th>
                                <td>{{userDetailData.paymentDetails.emptyMiles}} {{userDetailData.paymentDetails.emptyMilesCurrency}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.payrollPercent && userDetailData.paymentDetails.payrollType == 'Percentage'">
                                <th width="40%" class="back-color-gray">Payroll Load Pay Percent:</th>
                                <td>{{userDetailData.paymentDetails.payrollPercent}}% of {{userDetailData.paymentDetails.percentType}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.payrollRate && userDetailData.paymentDetails.payrollType == 'Pay Per Hour'">
                                <th width="40%" class="back-color-gray">Payroll Rate:</th>
                                <td>{{userDetailData.paymentDetails.payrollRate}} {{userDetailData.paymentDetails.payrollRateCurrency}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.deliveryRate && userDetailData.paymentDetails.payrollType == 'Pay Per Delivery'">
                                <th width="40%" class="back-color-gray">Payroll Delivery Rate:</th>
                                <td>{{userDetailData.paymentDetails.deliveryRate}} {{userDetailData.paymentDetails.deliveryRateCurrency}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.payrollRate && userDetailData.paymentDetails.payrollType == 'Flat'">
                                <th width="40%" class="back-color-gray">Payroll Rate:</th>
                                <td>{{userDetailData.paymentDetails.payrollRate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.payrollRate && userDetailData.paymentDetails.payrollType == 'Hours'">
                                <th width="40%" class="back-color-gray">Payroll Rate:</th>
                                <td>{{userDetailData.paymentDetails.payrollRate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.localTax">
                                <th width="40%" class="back-color-gray">Local Tax (in Percentage):</th>
                                <td>{{userDetailData.paymentDetails.localTax}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.federalTax">
                                <th width="40%" class="back-color-gray">Federal Tax (in Percentage):</th>
                                <td>{{userDetailData.paymentDetails.federalTax}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.applyTax">
                                <th width="40%" class="back-color-gray">Apply Tax (on Settlement):</th>
                                <td>Yes</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.wsibAccountNumber">
                                <th width="40%" class="back-color-gray">WSIB:</th>
                                <td>Yes</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.wsibAccountNumber">
                                <th width="40%" class="back-color-gray">WSIB Account#:</th>
                                <td>{{userDetailData.paymentDetails.wsibAccountNumber}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.wsibExpiry">
                                <th width="40%" class="back-color-gray">WSIB Expiry:</th>
                                <td>{{userDetailData.paymentDetails.wsibExpiry}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.SIN">
                                <th width="40%" class="back-color-gray">SIN:</th>
                                <td>{{userDetailData.paymentDetails.SIN}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.WCB">
                                <th width="40%" class="back-color-gray">WCB#:</th>
                                <td>{{userDetailData.paymentDetails.WCB}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.healthCare">
                                <th width="40%" class="back-color-gray">Health Care:</th>
                                <td>{{userDetailData.paymentDetails.healthCare}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.payPeriod">
                                <th width="40%" class="back-color-gray">Pay Period:</th>
                                <td>{{userDetailData.paymentDetails.payPeriod}}</td>
                            </tr>

                        </tbody>
                    </table>

                </div>
                <div id="customerUserAccount" class="tab-pane" *ngIf="userDetailData.userAccount">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Contract Start-Date:</th>
                                <td>{{userDetailData.userAccount.contractStartDate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Contract End-Date:</th>
                                <td>{{userDetailData.userAccount.contractEndDate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Department:</th>
                                <td>{{userDetailData.userAccount.department}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Designation:</th>
                                <td>{{userDetailData.userAccount.designation}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.userData.username">
                                <th width="40%" class="back-color-gray">Enable Login:</th>
                                <td>Yes</td>
                            </tr>

                            <tr *ngIf="userDetailData.userData.username">
                                <th width="40%" class="back-color-gray">Username:</th>
                                <td>{{userDetailData.userData.username}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.userData.userType">
                                <th width="40%" class="back-color-gray">User Type:</th>
                                <td>{{userDetailData.userData.userType}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="customerFactoringDetails" class="tab-pane" *ngIf="userDetailData.fcDetails">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr>
                                <th width="40%" class="back-color-gray">Account#:</th>
                                <td>{{ (userDetailData.fcDetails.accountNumber) ? userDetailData.fcDetails.accountNumber : '-'}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.fcDetails.factoringRate">
                                <th width="40%" class="back-color-gray">Factoring Rate:</th>
                                <td>{{(userDetailData.fcDetails.factoringRate) ? userDetailData.fcDetails.factoringRate : '-'}}{{(userDetailData.fcDetails.factoringUnit) ? userDetailData.fcDetails.factoringUnit : '-'}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row mt-3">
                    <div class="col-lg-12 text-right">
                        <button type="button" class="btn btn-default" (click)="modal.dismiss()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

