<!-- All Contacts Modal Window -->
<!-- Modal -->
<div class="modal fade" id="allContactsModal" tabindex="-1" role="dialog" aria-labelledby="allContactsModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
            <div class="d-flex justify-content-between flex-wrap w-100">
                <div class="col-lg-6">
                    <h5 class="modal-title">Address Book - Contacts</h5> 
                </div>
                <div class="col-lg-6 text-right">
                    <div class="btn-group flex-wrap pull-right mr-2">
                        <button type="button" class="mb-1 btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">+ Add New
                            <span class="caret"></span>
                        </button>
                        <div class="dropdown-menu" role="menu"> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addCustomerModal" (click)="resetModal('customer')" href="javascript:;">Customer</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addDriverModal" (click)="resetModal('driver')" href="javascript:;">Driver</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addBrokerModal" (click)="resetModal('broker')" href="javascript:;">Broker</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addVendorModal" (click)="resetModal('vendor')" href="javascript:;">Vendor</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addCarrierModal" (click)="resetModal('carrier')" href="javascript:;">Carrier</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addOwnerOperatorModal" (click)="resetModal('operator')" href="javascript:;">Owner Operator</a>
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addShipperModal" (click)="resetModal('shipper')" href="javascript:;">Shipper</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addConsigneeModal" (click)="resetModal('consignee')" href="javascript:;">Consignee</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addFCModal" (click)="resetModal('company')" href="javascript:;">Factoring Company</a> 
                            <a class="dropdown-item text-1" data-toggle="modal" data-dismiss="modal" data-target="#addStaffModal" (click)="resetModal('staff')" href="javascript:;">Staff</a> 
                        </div>
                    </div>
                    <div class="btn-group flex-wrap pull-right mr-2">
                        <button type="button" class="mb-1 btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">Actions<span class="caret"></span></button>
                        <div class="dropdown-menu" role="menu"> 
                            <a class="modal-with-form dropdown-item text-1" href="#importExcelForm">Import from Excel</a> 
                            <a href="" class="dropdown-item text-1 pull-right" id="excelbtn">Export to Excel</a> 
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="card-body p-0" style="min-height:600px;">
                <form class="form-horizontal form-bordered" method="get">
                    <div class="mb-3">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <!-- <li class="nav-item"> <a class="nav-link active" id="allAddress-tab" data-toggle="tab" href="#allAddress" role="tab" aria-controls="allAddress" aria-selected="true">All</a> </li> -->
                            <li class="nav-item"> <a class="nav-link active" id="customer-tab" data-toggle="tab" href="#customer" role="tab" aria-controls="customer" aria-selected="false" (click)="setActiveDiv('customer')">Customer</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="driver-tab" data-toggle="tab" href="#driver" role="tab" aria-controls="driver" aria-selected="false" (click)="setActiveDiv('driver')">Driver</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="broker-tab" data-toggle="tab" href="#broker" role="tab" aria-controls="broker" aria-selected="false" (click)="setActiveDiv('broker')">Broker</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="vendor-tab" data-toggle="tab" href="#vendor" role="tab" aria-controls="vendor" aria-selected="false" (click)="setActiveDiv('vendor')">Vendor</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="carrier-tab" data-toggle="tab" href="#carrier" role="tab" aria-controls="carrier" aria-selected="false" (click)="setActiveDiv('carrier')">Carrier</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="ownerOperator-tab" data-toggle="tab" href="#ownerOperator" role="tab" aria-controls="ownerOperator" aria-selected="false" (click)="setActiveDiv('operator')">Owner Operator</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="shipper-tab" data-toggle="tab" href="#shipper" role="tab" aria-controls="shipper" aria-selected="false" (click)="setActiveDiv('shipper')">Shipper</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="consignee-tab" data-toggle="tab" href="#consignee" role="tab" aria-controls="consignee" aria-selected="false" (click)="setActiveDiv('consignee')">Consignee</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="staff-tab" data-toggle="tab" href="#staff" role="tab" aria-controls="staff" aria-selected="false" (click)="setActiveDiv('company')">Staff</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="fc-tab" data-toggle="tab" href="#fc" role="tab" aria-controls="fc" aria-selected="false" (click)="setActiveDiv('staff')">Factoring Company</a> </li>
                        </ul>
                    </div>
                    <div class="tab-content p-0" id="myTabContent">
                        <div class="tab-pane fade active show" id="customer" role="tabpanel" aria-labelledby="customer-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By User Name" name="customerName"
                                            [(ngModel)]="filterVal.customerName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'customer')">
                                    </div>
                                    <div *ngIf="suggestedCustomers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCustomers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.customerID, suggestedUser.name, 'customer')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('customer')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('customer')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>

                            <table id="customerTable" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th width="5%">Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="customers.length > 0">
                                    <tr *ngFor="let customer of customers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Customer">CU</span></td>
                                        <td (click)="openDetail(content, customer)">{{customer.firstName}} {{customer.lastName}}</td>
                                        <td>{{customer.workEmail}}</td>
                                        <td>{{customer.workPhone}}</td>
                                        <td *ngIf="customer.address[0]">{{customer.address[0].address1}} {{customer.address[0].address2}}, 
                                            {{customer.address[0].cityName}}, {{customer.address[0].stateName}}, 
                                            {{customer.address[0].countryName}}. {{customer.address[0].zipCode}}</td>
                                        <td *ngIf="!customer.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                   <a class="dropdown-item" href="javascript:;" (click)="editUser(customer.entityType, customer, i)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateCustomer(customer, customer.customerID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!customers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="driver" role="tabpanel" aria-labelledby="driver-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Driver Name" name="driverName"
                                            [(ngModel)]="filterVal.driverName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'driver')">
                                    </div>
                                    <div *ngIf="suggestedDriver?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedDriver" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.driverID, suggestedUser.name, 'driver')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('driver')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('driver')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="driverTable" datatable [dtOptions]="dtOptionsDriver" [dtTrigger]="dtTriggerDriver" 
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="drivers.length > 0">
                                    <tr *ngFor="let driver of drivers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Driver">DR</span></td>
                                        <td>{{driver.firstName}} {{driver.lastName}}</td>
                                        <td>{{driver.workEmail}}</td>
                                        <td>{{driver.workPhone}}</td>
                                        <td>100 street, King town,34E4R5,Canada</td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(driver.entityType, driver)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateDriver(driver, driver.driverID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!drivers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="broker" role="tabpanel" aria-labelledby="broker-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Broker Name" name="brokerName"
                                            [(ngModel)]="filterVal.brokerName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'broker')">
                                    </div>
                                    <div *ngIf="suggestedBrokers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedBrokers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.brokerID, suggestedUser.name, 'broker')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('broker')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('broker')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>

                            <table id="brokerTable" datatable [dtOptions]="dtOptionsBroker" [dtTrigger]="dtTriggerBroker"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="brokers.length > 0">
                                    <tr *ngFor="let broker of brokers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Broker">BR</span></td>
                                        <td (click)="openDetail(content, broker)">{{broker.firstName}} {{broker.lastName}}</td>
                                        <td>{{broker.workEmail}}</td>
                                        <td>{{broker.workPhone}}</td>
                                        <td *ngIf="broker.address[0]">{{broker.address[0].address1}} {{broker.address[0].address2}},
                                            {{broker.address[0].cityName}}, {{broker.address[0].stateName}}, 
                                            {{broker.address[0].countryName}}. {{broker.address[0].zipCode}}</td>
                                        <td *ngIf="!broker.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(broker.entityType, broker)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateBroker(broker, broker.brokerID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!brokers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="vendor" role="tabpanel" aria-labelledby="vendor-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Vendor Name" name="vendorName"
                                            [(ngModel)]="filterVal.vendorName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'vendor')">
                                    </div>
                                    <div *ngIf="suggestedVendors?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedVendors" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.vendorID, suggestedUser.name, 'vendor')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('vendor')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('vendor')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="vendorTable" datatable [dtOptions]="dtOptionsVendor" [dtTrigger]="dtTriggerVendor"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="vendors.length > 0">
                                    <tr *ngFor="let vendor of vendors;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Vendor">VN</span></td>
                                        <td (click)="openDetail(content, vendor)">{{vendor.firstName}} {{vendor.lastName}}</td>
                                        <td>{{vendor.workEmail}}</td>
                                        <td>{{vendor.workPhone}}</td>
                                        <td *ngIf="vendor.address[0]">{{vendor.address[0].address1}} {{vendor.address[0].address2}},
                                            {{vendor.address[0].cityName}}, {{vendor.address[0].stateName}}, 
                                            {{vendor.address[0].countryName}}. {{vendor.address[0].zipCode}}</td>
                                        <td *ngIf="!vendor.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(vendor.entityType, vendor)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateVendor(vendor, vendor.vendorID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!vendors.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="carrier" role="tabpanel" aria-labelledby="carrier-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Carrier Name" name="carrierName"
                                            [(ngModel)]="filterVal.carrierName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'carrier')">
                                    </div>
                                    <div *ngIf="suggestedCarriers?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCarriers" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.infoID, suggestedUser.name, 'carrier')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('carrier')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('carrier')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="carrierTable" datatable [dtOptions]="dtOptionsCarrier" [dtTrigger]="dtTriggerCarrier"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="carriers.length > 0">
                                    <tr *ngFor="let carrier of carriers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Carrier">CR</span></td>
                                        <td (click)="openDetail(content, carrier)">{{carrier.firstName}} {{carrier.lastName}}</td>
                                        <td>{{carrier.workEmail}}</td>
                                        <td>{{carrier.workPhone}}</td>
                                        <td *ngIf="carrier.address[0]">{{carrier.address[0].address1}} {{carrier.address[0].address2}},
                                            {{carrier.address[0].cityName}}, {{carrier.address[0].stateName}}, 
                                            {{carrier.address[0].countryName}}. {{carrier.address[0].zipCode}}</td>
                                        <td *ngIf="!carrier.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(carrier.entityType, carrier)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateCarrier(carrier, carrier.carrierID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!carriers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="ownerOperator" role="tabpanel" aria-labelledby="owner-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Owner Operator Name" name="operatorName"
                                            [(ngModel)]="filterVal.operatorName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'operator')">
                                    </div>
                                    <div *ngIf="suggestedOperators?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedOperators" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.operatorID, suggestedUser.name, 'operator')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('operator')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('operator')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="operatorTable" datatable [dtOptions]="dtOptionsOperator" [dtTrigger]="dtTriggerOperator"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="ownerOperatorss.length > 0">
                                    <tr *ngFor="let operator of ownerOperatorss;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Owner Operator">OP</span></td>
                                        <td (click)="openDetail(content, operator)">{{operator.firstName}} {{operator.lastName}}</td>
                                        <td>{{operator.workEmail}}</td>
                                        <td>{{operator.workPhone}}</td>
                                        <td *ngIf="operator.address[0]">{{operator.address[0].address1}} {{operator.address[0].address2}},
                                            {{operator.address[0].cityName}}, {{operator.address[0].stateName}}, 
                                            {{operator.address[0].countryName}}. {{operator.address[0].zipCode}}</td>
                                        <td *ngIf="!operator.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(operator.entityType, operator)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateOperator(operator, operator.operatorID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!ownerOperatorss.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="shipper" role="tabpanel" aria-labelledby="shipper-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Shipper Name" name="shipperName"
                                            [(ngModel)]="filterVal.shipperName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'shipper')">
                                    </div>
                                    <div *ngIf="suggestedShipper?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedShipper" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.shipperID, suggestedUser.name, 'shipper')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('shipper')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('shipper')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>

                            <table id="shipperTable" datatable [dtOptions]="dtOptionsShipper" [dtTrigger]="dtTriggerShipper"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="shippers.length > 0">
                                    <tr *ngFor="let shipper of shippers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Shipper">SH</span></td>
                                        <td (click)="openDetail(content, shipper)">{{shipper.firstName}} {{shipper.lastName}}</td>
                                        <td>{{shipper.workEmail}}</td>
                                        <td>{{shipper.workPhone}}</td>
                                        <td *ngIf="shipper.address[0]">{{shipper.address[0].address1}} {{shipper.address[0].address2}},
                                            {{shipper.address[0].cityName}}, {{shipper.address[0].stateName}}, 
                                            {{shipper.address[0].countryName}}. {{shipper.address[0].zipCode}}</td>
                                        <td *ngIf="!shipper.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(shipper.entityType, shipper)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateShipper(shipper, shipper.shipperID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!shippers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="consignee" role="tabpanel" aria-labelledby="consignee-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Consignee Name" name="consigneeName"
                                            [(ngModel)]="filterVal.consigneeName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'consignee')">
                                    </div>
                                    <div *ngIf="suggestedConsignees?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedConsignees" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.receiverID, suggestedUser.name, 'consignee')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('consignee')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('consignee')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="consigneeTable" datatable [dtOptions]="dtOptionsConsignee" [dtTrigger]="dtTriggerConsignee"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="10%">Type</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="20%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="45%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="receivers.length > 0">
                                    <tr *ngFor="let receiver of receivers;let i = index;">
                                        <td><span class="badge badge-dark badge-pill p-1" data-toggle="tooltip" data-placement="bottom" title="Consignee">CO</span></td>
                                        <td (click)="openDetail(content, receiver)">{{receiver.firstName}} {{receiver.lastName}}</td>
                                        <td>{{receiver.workEmail}}</td>
                                        <td>{{receiver.workPhone}}</td>
                                        <td *ngIf="receiver.address[0]">{{receiver.address[0].address1}} {{receiver.address[0].address2}},
                                            {{receiver.address[0].cityName}}, {{receiver.address[0].stateName}}, 
                                            {{receiver.address[0].countryName}}. {{receiver.address[0].zipCode}}</td>
                                        <td *ngIf="!receiver.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(receiver.entityType, receiver)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateReceiver(receiver, receiver.receiverID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!receivers.length > 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" id="staff" role="tabpanel" aria-labelledby="staff-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Staff Name" name="staffName"
                                            [(ngModel)]="filterVal.staffName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'staff')">
                                    </div>
                                    <div *ngIf="suggestedStaffs?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedStaffs" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.staffID, suggestedUser.name, 'staff')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('staff')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('staff')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="staffTable" datatable [dtOptions]="dtOptionsStaff" [dtTrigger]="dtTriggerStaff"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="5%">Type</th>
                                        <th width="15%">Staff Name</th>
                                        <th width="10%">Department</th>
                                        <th width="10%">Designation</th>
                                        <th width="15%">Email Address</th>
                                        <th width="10%">Phone Number</th>
                                        <th width="30%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="staffs.length > 0">
                                    <tr *ngFor="let staff of staffs;let i = index;">
                                        <td><span class="badge badge-pill badge-dark p-1" data-toggle="tooltip" data-placement="bottom" title="Staff">ST</span></td>
                                        <td (click)="openDetail(content, staff)">{{staff.firstName}} {{staff.lastName}}</td>
                                        <td>{{staff.userAccount.department}}</td>
                                        <td>{{staff.userAccount.designation}}</td>
                                        <td>{{staff.workEmail}}</td>
                                        <td>{{staff.workPhone}}</td>
                                        <td>{{staff.address[0].address1}} {{staff.address[0].address2}},
                                            {{staff.address[0].cityName}}, {{staff.address[0].stateName}}, 
                                            {{staff.address[0].countryName}}. {{staff.address[0].zipCode}}</td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button"
                                                   data-toggle="dropdown" aria-haspopup="true"
                                                   aria-expanded="false">
                                                   <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(staff.entityType, staff)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;" (click)="deactivateStaff(staff, staff.staffID)">Delete</a>
                                                </div>
                                             </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!staffs.length > 0">
                                    <tr>
                                        <td colspan="8" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- factoring Company Table -->
                        <div class="tab-pane fade" id="fc" role="tabpanel" aria-labelledby="fc-tab">
                            <div class="row pr-1 mr-1" style="padding-top:10px;">
                                <div class="col-md-5 col-lg-5">
                                    <div class="input-group input-group-md mb-3">
                                        <input type="text" autocomplete="off" placeholder="Search By Company Name" name="fcompanyName"
                                            [(ngModel)]="filterVal.fcompanyName" class="form-control"
                                            (input)="getSuggestions($event.target.value, 'company')">
                                    </div>
                                    <div *ngIf="suggestedCompany?.length > 0" class="result-suggestions">
                                        <ul>
                                            <li *ngFor="let suggestedUser of suggestedCompany" style="cursor: pointer;"
                                                (click)="setSearchValues(suggestedUser.factoringCompanyID, suggestedUser.name, 'company')"> {{
                                                suggestedUser.name }}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            
                                <div class="col-md-3 col-lg-3">
                                    <button type="submit" (click)="searchFilter('company')" class="btn btn-sm btn-success mr-3">Search</button>
                                    <button type="button" (click)="resetFilter('company')" class="btn btn-sm btn-success">Reset</button>
                                </div>
                            </div>
                            <table id="companyTable" datatable [dtOptions]="dtOptionsCompany" [dtTrigger]="dtTriggerCompany"
                                class="table table-responsive-lg table-bordered table-striped mb-0 simple-table">
                                <thead>
                                    <tr>
                                        <th width="5%">Type</th>
                                        <th width="15%">Company Name</th>
                                        <th width="15%">Contact Name</th>
                                        <th width="15%">Email Address</th>
                                        <th width="15%">Phone Number</th>
                                        <th width="20%">Address</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody *ngIf="fcCompanies.length > 0">
                                    <tr *ngFor="let company of fcCompanies;let i = index;">
                                        <td><span class="badge badge-pill badge-dark p-1" data-toggle="tooltip" data-placement="bottom"
                                                title="Factoring Company">FC</span></td>
                                        <td (click)="openDetail(content, company)">{{company.companyName}}</td>
                                        <td>{{company.firstName}} {{company.lastName}}</td>
                                        <td>{{company.workEmail}}</td>
                                        <td>{{company.workPhone}}</td>
                                        <td *ngIf="company.address[0]">{{company.address[0].address1}} {{company.address[0].address2}},
                                            {{company.address[0].cityName}}, {{company.address[0].stateName}},
                                            {{company.address[0].countryName}}. {{company.address[0].zipCode}}</td>
                                        <td *ngIf="!company.address[0]"></td>
                                        <td>
                                            <div class="dropdown dropright">
                                                <button class="bg-transparent border-0" type="button" data-toggle="dropdown" aria-haspopup="true"
                                                    aria-expanded="false">
                                                    <i class="fas fa-ellipsis-v"></i>
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="javascript:;" (click)="editUser(company.entityType, company)">Edit</a>
                                                    <a class="dropdown-item" href="javascript:;"
                                                        (click)="deactivateCompany(company, company.factoringCompanyID)">Delete</a>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="!fcCompanies.length > 0">
                                    <tr>
                                        <td colspan="7" class="no-data-available">No records found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" (click)="showMainModal()">Close</button>
        </div>
      </div>
    </div>
</div>

<!-- Add Vendor Modal -->
<div class="modal fade" id="addVendorModal" tabindex="-1" role="dialog" aria-labelledby="addVendorModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{{ modalTitle }} Vendor</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
            <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
          </button>
        </div>
        <div class="modal-body text-dark">
            <section class="card form-wizard" id="w1">
                <div class="card-body card-body-nopadding">
                    <div class="">
                        <ul class="nav top-tabs nav-tabs">
                            <li class="nav-item active"> <a href="javascript:;" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" class="nav-link text-center active">
                                    Basic Details
                                </a> </li>
                            <li class="nav-item"> <a href="javascript:;" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                    Address
                                </a> </li>
                        </ul>
                    </div>
                    <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="vendorForm">
                        <div class="tab-content">
                            <div id="basicDetails" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane p-3 active">
                                <div class="row pt-3">
                                    <div class="col-lg-5 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                    Name</label>
                                                <input [(ngModel)]="vendorData.companyName"
                                                name="companyName" type="text" class="form-control" placeholder="Enter Company Name"> </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Account
                                                    Number</label>
                                                <input [(ngModel)]="vendorData.accountNumber"
                                                name="accountNumber" type="text" class="form-control" placeholder="Enter Account Number"> </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Vendor
                                                    First Name</label>
                                                <input [(ngModel)]="vendorData.firstName"
                                                name="firstName"  type="text" class="form-control" placeholder="Enter Vendor First Name"> </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Vendor
                                                    Last Name</label>
                                                <input [(ngModel)]="vendorData.lastName"
                                                name="lastName"  type="text" class="form-control" placeholder="Enter Vendor Last Name"> </div>
                                            <div class="col-lg-12">
                                                <label
                                                    class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                <input [(ngModel)]="vendorData.workEmail"
                                                name="workEmail" type="text" class="form-control" placeholder="Enter Email"> </div>
                                            <div class="col-lg-12">
                                                <label
                                                    class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                <input [(ngModel)]="vendorData.workPhone"
                                                name="workPhone" type="text" class="form-control" placeholder="Enter Phone">
                                                
                                            </div>
                                            <div class="col-lg-12 pt-2">
                                                <div class="checkbox-custom">
                                                    <input [(ngModel)]="vendorData.preferedVendor"
                                                    name="preferedVendor"  type="checkbox" name="terms">
                                                    <label for="w1-terms">Prefered Vendor?</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row  mar-top-37">
                                            <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img
                                                    class="business_image_style" [src]="profilePath" />
                                                <div class="mt-3">
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> 
                                                    <button class="btn btn-dark">{{ imageText }}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="addressDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane p-3">
                                <div class="row pt-3"  *ngFor="let item of vendorData.address;let i = index;">
                                    <div class="col-lg-4 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address Type</label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type Your Location</label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                        <div class="bg-white">
                                            <ul class="p-0 m-0 text-left">
                                              <li *ngFor="let item of searchResults;">
                                                <a href="javascript:;" (click)="userAddress(vendorData, i, item)">{{item.address.label}}</a>
                                              </li>
                                            </ul>
                                          </div>
                                        <div class="checkbox-custom mt-2">
                                            <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                            <label for="w1-terms1">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-1 mar-top-37 text-right">
                                        <a href="javascript:;" class="btn btn-dark">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(vendorData);" class="btn btn-success mt-2" href="javascript:;"><i
                                                class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="remove(vendorData,  i)" class="btn btn-success mt-2" href="javascript:;"><i
                                                class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                    <div *ngIf="manualAddress1" class="row">
                                        <div class="col-lg-4 offset-lg-1 pt-4">
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                        name="countryID{{i}}" class="form-control populate address_country"
                                                            placeholder="Select Country">
                                                            <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        State</label>
                                                    <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select State">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID"
                                                    name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode"
                                                    name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="Enter Zip Code"> 
                                                </div>
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="col-lg-5 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1"
                                                    name="address1{{i}}" type="text" class="form-control address_one" placeholder="Enter Address 1"> 
                                                </div>
                                                <div class="col-lg-12">
                                                    <label
                                                        class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2"
                                                    name="address2{{i}}" type="text" class="form-control" placeholder="Enter Address 2"> 
                                                </div>  
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </section>
        </div>
        <div class="modal-footer">
            <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
            <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 2" class="btn btn-success btnNext">Next</a>

            <button type="button" class="btn btn-default" data-dismiss="modal" (click)="showMainModal()">Close</button>
            <a type="button" class="btn btn-success" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 1" (click)="addVendor()">Submit</a>
            <a href="javascript:;" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 1" (click)="updateVendor()">Update</a>
        </div>
      </div>
    </div>
</div>

<!-- Add CUSTOMER Modal -->
<div class="modal fade" id="addCustomerModal" tabindex="-1" role="dialog" aria-labelledby="addCustomerModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Customer</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <form id="customerForm" class="form-horizontal form-bordered bg-white" method="get" name="form" >
                                <ul class="nav nav-tabs top-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 1}" id="customerBasic-tab" (click)="tabChange(1)" role="tab" aria-controls="customerBasic" aria-selected="true">Basic details</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 2}" id="customerAddress-tab" (click)="tabChange(2)" role="tab" aria-controls="customerAddress" aria-selected="false">Address</a>
                                    </li>
                                    <li class="nav-item">
                                      <a class="nav-link" [ngClass]="{'active': custCurrentTab == 3}" id="customerContact-tab" (click)="tabChange(3)" role="tab" aria-controls="customerContact" aria-selected="false">Additional Contact</a>
                                    </li>
                                  </ul>
                                  <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 1}" id="customerBasic" role="tabpanel" aria-labelledby="customerBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name
                                                        </label>
                                                        <input [(ngModel)]="customerData.companyName"
                                                        name="companyName" type="text" class="form-control" placeholder="Enter Company Name" > 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name
                                                        </label>
                                                        <input [(ngModel)]="customerData.dbaName"
                                                        name="dbaName" type="text" class="form-control" placeholder="Enter DBA Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name
                                                        </label>
                                                        <input [(ngModel)]="customerData.firstName"
                                                        name="firstName" type="text" class="form-control" placeholder="Enter Contact First Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name
                                                        </label>
                                                        <input [(ngModel)]="customerData.lastName"
                                                        name="lastName" type="text" class="form-control" placeholder="Enter Contact Last Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">EIN</label>
                                                        <input [(ngModel)]="customerData.ein"
                                                        name="ein" type="text" class="form-control" placeholder="Enter EIN"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Account
                                                            Number</label>
                                                        <input [(ngModel)]="customerData.accountNumber"
                                                        name="accountNumber" type="text" class="form-control" placeholder="Enter Account Number"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Work
                                                            Phone</label>
                                                        <input [(ngModel)]="customerData.workPhone"
                                                        name="workPhone" type="text" class="form-control" placeholder="Enter Work Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Work
                                                            Email</label>
                                                        <input [(ngModel)]="customerData.workEmail"
                                                        name="workEmail" type="text" class="form-control" placeholder="Enter Work Email">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mb-5">
                                                    <div class="col-lg-7 offset-lg-4 text-center mb-4"> 
                                                        <img
                                                        [src]="profilePath" height="150px" width="150px"><br>
                                                        <div class="mt-3 btn btn-dark btn-sm">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> {{ imageText }}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right">MC</label>
                                                        <input [(ngModel)]="customerData.mc"
                                                        name="mc" type="text" class="form-control" placeholder="Enter MC"> 
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right">DOT</label>
                                                        <input [(ngModel)]="customerData.dot"
                                                        name="dot" type="text" class="form-control" placeholder="Enter DOT"> 
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Fast</label>
                                                        <input [(ngModel)]="customerData.fast"
                                                        name="fast" type="text" class="form-control" placeholder="Enter Fast"> 
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Fast
                                                            Expiry</label>
                                                        <input [(ngModel)]="customerData.fastExpiry" name="fastExpiry" 
                                                            type="text" placeholder="Enter Fast Expiry" (click)="custexp.toggle()" 
                                                            ngbDatepicker #custexp="ngbDatepicker" class="form-control" autocomplete="off"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Trailer
                                                            Preference</label>
                                                        <ng-select [(ngModel)]="customerData.trailerPreference" name="trailerPreference" class="form-control"
                                                            placeholder="Select Trailer Preference">
                                                            <ng-option value="20 ft. sea container (closed top)">20 ft. sea container (closed top)</ng-option>
                                                            <ng-option value="20 ft. sea container (open top)">20 ft. sea container (open top)</ng-option>
                                                            <ng-option value="40 ft. sea container (closed top)">40 ft. sea container (closed top)</ng-option>
                                                            <ng-option value="40 ft. sea container (open top)">40 ft. sea container (open top)</ng-option>
                                                            <ng-option value="Auto carrier trailer">Auto carrier trailer</ng-option>
                                                            <ng-option value="Beverage rack trailer">Beverage rack trailer</ng-option>
                                                            <ng-option value="Chassis">Chassis</ng-option>
                                                            <ng-option value="Container (closed top)">Container (closed top)</ng-option>
                                                            <ng-option value="Drop back trailer">Drop back trailer</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mar-top-37">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.csa"
                                                            name="csa" type="checkbox" >
                                                            <label for="csa">CSA</label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.ctpat"
                                                            name="ctpat" type="checkbox" >
                                                            <label for="ctpat">CTPAT</label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="customerData.pip"
                                                            name="pip" type="checkbox">
                                                            <label for="pip">PIP</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="customerAddress" role="tabpanel" aria-labelledby="customerAddress-tab">
                                        <div class="row pt-3" *ngFor="let item of customerData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address Type</label>

                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white" *ngIf="searchResults">
                                                    <ul class="p-0 m-0 text-left">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(customerData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress" type="checkbox" name="terms">
                                                    <label for="w1-terms">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37 ">
                                                <a class="btn btn-dark mr-2" href="javascript:;">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(customerData);" class="btn btn-success" href="javascript:;"
                                                ><i class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(customerData,  i)" class="btn btn-success" href="javascript:;"
                                                ><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <select (change)= "getStates($event.target.value)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" data-plugin-selectTwo class="form-control populate address_country">
                                                                <optgroup label="Select Country">
                                                                    <option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <select (change)= "getCities($event.target.value)"[(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" data-plugin-selectTwo class="form-control populate address_state">
                                                                <optgroup label="Select State">
                                                                    <option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" data-plugin-selectTwo class="form-control populate address_city">
                                                                <optgroup label="Select City">
                                                                    <option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="Enter Zip Code"> 
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            name="address1{{i}}" type="text" class="form-control address_one"> 
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            name="address2{{i}}" type="text" class="form-control"> 
                                                        </div>  
                                                        <div class="col-lg-12 pt-3">
                                                            <div class="checkbox-custom">
                                                                <input [(ngModel)]="item.saveAsLocation"
                                                                name="saveAsLocation{{i}}" type="checkbox" name="terms">
                                                                <label for="w1-terms">Also Save as Location?</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                
                                                
                                            </div>
                                            
                                            
                                        </div>
                                    </div>
                                    <div class="tab-pane fade"  [ngClass]="{'active show': custCurrentTab == 3}" id="customerContact" role="tabpanel" aria-labelledby="customerContact-tab">
                                        <div class="row">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name</label>
                                                        <input [(ngModel)]="customerData.additionalContact.firstName"
                                                        name="firstName1" type="text" class="form-control" placeholder="Enter First Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name</label>
                                                        <input [(ngModel)]="customerData.additionalContact.lastName"
                                                        name="lastName1" type="text" class="form-control" placeholder="Enter Last Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                        <input [(ngModel)]="customerData.additionalContact.phone"
                                                        name="phone" type="text" class="form-control" placeholder="Enter Designation"> 
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="customerData.additionalContact.email"
                                                        name="email" type="text" class="form-control" placeholder="Enter Phone"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="customerData.additionalContact.designation"
                                                        name="designation" type="text" class="form-control" placeholder="Enter Email"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                        <input [(ngModel)]="customerData.additionalContact.fax"
                                                        name="fax" type="text" class="form-control" placeholder="Enter Fax"> 
                                                    </div>
                                                </div>
                                            </div>
                                        </div> 
                                    </div>
                                    <div class="col-lg-12 text-right pb-4 pr-5 mt-3">
                                        <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                        <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                                        <button type="button" class="btn btn-default mr-2" *ngIf="custCurrentTab > 2" data-dismiss="modal" (click)="showMainModal()">Cancel</button>
                                        <a href="javascript:;" *ngIf="!updateButton && custCurrentTab > 2" (click)="addCustomer()" class="btn btn-success">Submit</a>
                                        <a href="javascript:;" *ngIf="updateButton && custCurrentTab > 2" (click)="updateCustomer()" class="btn btn-success">Update</a>
                                     </div>
                                  </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Driver MODAL -->
<div class="modal fade" id="addDriverModal" tabindex="-1" role="dialog" aria-labelledby="addDriverModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 98%;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Driver</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark address-book__driver">
                <app-add-driver *ngIf="showDriverModal"></app-add-driver>
            </div>
        </div>
    </div>
</div>

<!-- Add Broker MODAL -->
<div class="modal fade" id="addBrokerModal" tabindex="-1" role="dialog" aria-labelledby="addBrokerModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Broker</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="brokerBasic-tab" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="brokerBasic" aria-selected="true">Basic details</a>
                                      </li>
                                      <li class="nav-item">
                                        <a class="nav-link" id="brokerAddress-tab" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="brokerAddress" aria-selected="false">Address</a>
                                      </li>
                                      <li class="nav-item">
                                        <a class="nav-link" id="brokerContact-tab" [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="brokerContact" aria-selected="false">Additional Contact</a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="brokerForm">
                                <div class="tab-content">
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 1}"  id="brokerBasic" role="tabpanel" aria-labelledby="brokerBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12 pt-2">
                                                        <div class="row">
                                                            <div class="col-lg-4">
                                                                <label class="control-label font-weight-bold text-lg-right">Broker
                                                                    Type:</label>
                                                            </div>
                                                            <div class="col-lg-3 px-0">
                                                                <div class="radio">
                                                                    <label>
                                                                        <input [(ngModel)]="brokerData.brokerType" type="radio"
                                                                            name="brokerType" value="company" checked>
                                                                        Company </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-4  pr-0">
                                                                <div class="radio">
                                                                    <label>
                                                                        <input [(ngModel)]="brokerData.brokerType" type="radio"
                                                                            name="brokerType" value="individual">
                                                                        Individual </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name</label>
                                                        <input [(ngModel)]="brokerData.companyName" name="companyName" type="text" class="form-control" placeholder="Enter Company Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">DBA
                                                            Name</label>
                                                        <input [(ngModel)]="brokerData.dbaName" name="dbaName" type="text" class="form-control" placeholder="Enter DBA Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name</label>
                                                        <input [(ngModel)]="brokerData.firstName" name="firstName" type="text" class="form-control" placeholder="Enter Contact First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name</label>
                                                        <input [(ngModel)]="brokerData.lastName" name="lastName" type="text" class="form-control" placeholder="Enter Contact Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">EIN</label>
                                                        <input [(ngModel)]="brokerData.ein" name="ein" type="text" class="form-control" placeholder="Enter EIN">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">MC
                                                            Number</label>
                                                        <input [(ngModel)]="brokerData.mc" name="mc" type="text" class="form-control" placeholder="Enter MC Number">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">US DOT
                                                            Number</label>
                                                        <input [(ngModel)]="brokerData.dot" name="dot" type="text" class="form-control" placeholder="Enter US DOT Number">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="brokerData.workEmail" name="workEmail" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="business_image_style"
                                                            [src]="profilePath" />
                                                        <div class="mt-3">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> {{ imageText }}
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 mt-1">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Account
                                                            Number</label>
                                                        <input [(ngModel)]="brokerData.accountNumber" name="accountNumber" type="text" class="form-control" placeholder="Enter Account Number">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="brokerData.workPhone" name="workPhone" type="text" class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}"  id="brokerAddress" role="tabpanel" aria-labelledby="brokerAddress-tab">
                                        <div class="row pt-3"  *ngFor="let item of brokerData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type</label>
                                                        <!-- <select [(ngModel)]="item.addressType"
                                                        name="addressType" class="form-control populate">
                                                            <optgroup label="Select Address">
                                                                <option value="Billing Address">Billing Address</option>
                                                                <option value="Shipping Address">Shipping Address</option>
                                                                <option value="Office">Office</option>
                                                                <option value="Other">Other</option>
                                                            </optgroup>
                                                        </select> -->
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(brokerData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                                    <label for="w1-terms1">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(brokerData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(brokerData,  i)" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress1" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <!-- <select (change)= "getStates($event.target.value)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" data-plugin-selectTwo class="form-control populate address_country">
                                                                <optgroup label="Select Country">
                                                                    <option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</option>
                                                                    {{country}}
                                                                </optgroup>
                                                            </select> -->

                                                            <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <!-- <select (change)= "getCities($event.target.value)"[(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" data-plugin-selectTwo class="form-control populate address_state">
                                                                <optgroup label="Select State">
                                                                    <option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</option>
                                                                </optgroup>
                                                            </select> -->

                                                            <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select State">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <!-- <select [(ngModel)]="item.cityID" name="cityID{{i}}" data-plugin-selectTwo class="form-control populate address_city">
                                                                <optgroup label="Select City">
                                                                    <option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</option>
                                                                </optgroup>
                                                            </select> -->

                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="Enter Zip Code"> 
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            name="address1{{i}}" type="text" class="form-control address_one" placeholder="Enter Address 1"> 
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            name="address2{{i}}" type="text" class="form-control" placeholder="Enter Address 2"> 
                                                        </div>  
                                                        <!-- <div class="col-lg-12 pt-3">
                                                            <div class="checkbox-custom">
                                                                <input [(ngModel)]="item.saveAsLocation"
                                                                name="saveAsLocation{{i}}" type="checkbox" name="terms">
                                                                <label for="w1-terms">Also Save as Location?</label>
                                                            </div>
                                                        </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                    <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}"  id="brokerContact" role="tabpanel" aria-labelledby="brokerContact-tab">
                                        <div class="row">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.firstName" name="firstName1" type="text"
                                                            class="form-control" placeholder="Enter First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.lastName" name="lastName1" type="text"
                                                            class="form-control" placeholder="Enter Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.designation" name="designation" type="text"
                                                            class="form-control" placeholder="Enter Designation">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.phone" name="phone" type="text"
                                                            class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.email" name="email" type="text"
                                                            class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                        <input [(ngModel)]="brokerData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="Enter Fax">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-lg-12 text-right pr-5">
                                            <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                            <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                                            <button class="btn btn-default modal-dismiss mr-2" *ngIf="custCurrentTab > 2" (click)="showMainModal()" data-dismiss="modal" (click)="showMainModal()">Cancel</button>
                                            <a href="javascript:;" class="btn btn-success modal-dismiss" *ngIf="!updateButton && custCurrentTab > 2" (click)="addBroker()">Submit</a>
                                            <a href="javascript:;" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 2" (click)="updateBroker()">Update</a>
                                            
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ADD CARRIER MODAL -->
<div class="modal fade" id="addCarrierModal" tabindex="-1" role="dialog" aria-labelledby="addCarrierModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Carrier</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item active">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)"
                                            class="nav-link text-center active">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item active">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                            Payment
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" class="nav-link text-center">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 4}" role="tab" (click)="tabChange(4)" class="nav-link text-center">
                                            Additional Contact
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="carrierForm">
                                <div class="tab-content">
                                    <div id="carrierBasic" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane p-3 active">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row text-dark">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Carrier
                                                            Name</label>
                                                        <input [(ngModel)]="carrierData.companyName" name="companyName" type="text" class="form-control" placeholder="Enter Carrier Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name</label>
                                                        <input [(ngModel)]="carrierData.firstName" name="firstName" type="text" class="form-control" placeholder="Enter Contact First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name</label>
                                                        <input [(ngModel)]="carrierData.lastName" name="lastName" type="text" class="form-control" placeholder="Enter Contact Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="carrierData.workPhone" name="workPhone" type="text" class="form-control" placeholder="Enter Phone">
                                                        <!-- <span class="far fa-plus-square"></span>
                                                                       <i data-toggle="" class="far fa-plus-square text-dark h5 m-0" style="cursor: pointer;">
                                                                       </i> -->
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="carrierData.workEmail" name="workEmail" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mt-2">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.csa" name="csa" type="checkbox" name="csa">
                                                            <label for="csa">CSA</label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.ctpat" name="ctpat" type="checkbox" name="ctpat">
                                                            <label for="ctpat">CTPAT</label>
                                                        </div>
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.pip" name="pip" type="checkbox" name="pip">
                                                            <label for="pip">PIP</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="business_image_style"
                                                        [src]="profilePath" />
                                                        <div class="mt-3">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input">
                                                            <button class="btn btn-dark">{{ imageText }} </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierPaymentDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane p-3">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12 pl-0">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="carrierData.paymentDetails.inBonded" name="inBonded" type="checkbox"
                                                                name="in-bond-carrier">
                                                            <label for="in-bond-carrier">In-Bonded Carrier</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-10 offset-lg-1">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">MC</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.mc" name="mc" type="text" class="form-control" placeholder="Enter MC">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">DOT</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.dot" name="dot" type="text" class="form-control" placeholder="Enter DOT">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Fast</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.fast" name="fast" type="text"
                                                                class="form-control" placeholder="Enter Fast">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Fast
                                                                Expiry</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.fastExpiry" name="fastExpiry" 
                                                                type="text" placeholder="Enter Fast Expiry"
                                                                (click)="carrexp.toggle()" ngbDatepicker #carrexp="ngbDatepicker"
                                                                class="form-control" autocomplete="off"> 
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">CCC</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.ccc" name="ccc" type="text" class="form-control" placeholder="Enter CCC">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">SCAC</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.scac" name="scac" type="text"
                                                                class="form-control" placeholder="Enter SCAC">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">CVOR</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.cvor" name="cvor" type="text"
                                                                class="form-control" placeholder="Enter CVOR">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Payroll
                                                                Type</label>
                                                            <ng-select [(ngModel)]="carrierData.paymentDetails.payrollType" name="payrollType" class="form-control populate"
                                                            placeholder="Select Payroll Type">
                                                                <ng-option value="Hours">Hours</ng-option>
                                                                <ng-option value="Miles">Miles</ng-option>
                                                                <ng-option value="Flat">Flat</ng-option>
                                                                <ng-option value="Percentage">Percentage</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Payroll
                                                                Rate</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.payrollRate" name="payrollRate" type="text"
                                                                class="form-control" placeholder="Enter Payroll Rate">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Local
                                                                Tax (in Percentage)</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.localTax" name="localTax" type="text"
                                                                class="form-control" placeholder="Enter Local Tax (in Percentage)">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Federal
                                                                Tax (in Percentage)</label>
                                                            <input [(ngModel)]="carrierData.paymentDetails.federalTax" name="federalTax" type="text"
                                                                class="form-control" placeholder="Enter Federal Tax (in Percentage)">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <div class="checkbox-custom pt-2">
                                                                <input [(ngModel)]="carrierData.paymentDetails.applyTax" name="applyTax" type="checkbox"
                                                                    name="terms">
                                                                <label for="w1-terms">Apply Tax (on Settlement)</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <div class="checkbox-custom pt-2">
                                                                <input [(ngModel)]="carrierData.paymentDetails.wsib" name="wsib"
                                                                    (change)="carrierWSIB($event.target.value)" type="checkbox" id="wsib-fields">
                                                                <label for="wsib">WSIB</label>
                                                            </div>
                                                        </div>
                                                        <div class="row wsib-wrapper col-12 row m-0 p-0" *ngIf="carrierData.paymentDetails.wsib">
                                                            <div class="col-lg-6">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">WSIB
                                                                    Account Number</label>
                                                                <input [(ngModel)]="carrierData.paymentDetails.wsibAccountNumber" name="wsibAccountNumber"
                                                                    type="text" class="form-control" placeholder="Enter WSIB Account Number">
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">WSIB
                                                                    Expiry</label>
                                                                <input [(ngModel)]="carrierData.paymentDetails.wsibExpiry" name="wsibExpiry" type="text"
                                                                    data-plugin-datepicker="" class="form-control" placeholder="Enter WSIB Expiry">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierAddressDetails" [ngClass]="{'active show': custCurrentTab == 3}" class="tab-pane p-3">
                                        <div class="row pt-3"  *ngFor="let item of carrierData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type</label>
                                                        <ng-select [(ngModel)]="item.addressType" [attr.name]="'address['+i+'].addressType'" [ngModelOptions]="{standalone: true}" class="form-control"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" [attr.name]="'address['+i+'].userLocation'" [ngModelOptions]="{standalone: true}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(carrierData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                                    <label for="w1-terms1">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-3 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(carrierData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(carrierData,  i)" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress1" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                            [attr.name]="'address['+i+'].countryID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                            [attr.name]="'address['+i+'].stateID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_state"
                                                                placeholder="Select State">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            [attr.name]="'address['+i+'].cityID'" [ngModelOptions]="{standalone: true}" class="form-control populate address_city"
                                                                placeholder="Select City">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            [attr.name]="'address['+i+'].zipCode'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_zip" placeholder="Enter Zip Code"> 
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            [attr.name]="'address['+i+'].address1'" [ngModelOptions]="{standalone: true}" type="text" class="form-control address_one" placeholder="Enter Address 1"> 
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            [attr.name]="'address['+i+'].address2'" [ngModelOptions]="{standalone: true}" type="text" class="form-control" placeholder="Enter Address 2"> 
                                                        </div>  
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="carrierAdditionalDetails" [ngClass]="{'active show': custCurrentTab == 4}" class="tab-pane p-3">
                                        <div class="row">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.firstName" name="firstName1" type="text"
                                                            class="form-control" placeholder="Enter First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.lastName" name="lastName1" type="text"
                                                            class="form-control" placeholder="Enter Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.designation" name="designation" type="text"
                                                            class="form-control" placeholder="Enter Designation">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.phone" name="phone1" type="text"
                                                            class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.email" name="email1" type="text"
                                                            class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                        <input [(ngModel)]="carrierData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="Enter Fax">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-lg-12 text-right pr-5">
                                            <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                            <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 4" class="btn btn-success btnNext">Next</a>
                                            <button class="btn btn-default modal-dismiss" *ngIf="custCurrentTab > 3" (click)="showMainModal()" data-dismiss="modal">Cancel</button>
                                            <a href="javascript:;" class="btn btn-success modal-dismiss" *ngIf="!updateButton && custCurrentTab > 3" (click)="addCarrier()">Submit</a>
                                            <a href="javascript:;" class="btn btn-success modal-dismiss" *ngIf="updateButton && custCurrentTab > 3" (click)="updateCarrier()">Update</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ADD owner operator MODAL -->
<div class="modal fade" id="addOwnerOperatorModal" tabindex="-1" role="dialog" aria-labelledby="addOwnerOperatorModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Owner Operator</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item active"> 
                                        <a [ngClass]="{'active': custCurrentTab == 1}" (click)="tabChange(1)" href="javascript:;" data-toggle="tab" class="nav-link text-center active">
                                            Basic Details
                                        </a> 
                                    </li>
                                    <li class="nav-item active"> 
                                        <a [ngClass]="{'active': custCurrentTab == 2}" (click)="tabChange(2)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Payment
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 3}" (click)="tabChange(3)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Address
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 4}" (click)="tabChange(4)" href="javascript:;" data-toggle="tab" class="nav-link text-center">
                                            Additional Contact
                                        </a> 
                                    </li>
                            
                                </ul>
                            </div>
                            <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="operatorForm">
                                <div class="tab-content">
                                    <div id="ownerBasic" [ngClass]="{'active show': custCurrentTab == 1}" class="tab-pane p-3 active">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row text-dark">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Owner Operator Company Name</label>
                                                        <input [(ngModel)]="ownerData.companyName" name="companyName" type="text" class="form-control" placeholder="Enter Owner Operator Company Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name</label>
                                                        <input [(ngModel)]="ownerData.firstName" name="firstName" type="text" class="form-control" placeholder="Enter Contact First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name</label>
                                                        <input [(ngModel)]="ownerData.lastName" name="lastName" type="text" class="form-control" placeholder="Enter Contact Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="ownerData.workPhone" name="workPhone" type="text" class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="ownerData.workEmail" name="workEmail" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12 d-flex justify-content-between mt-2">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="ownerData.csa" name="csa" type="checkbox" name="csa">
                                                            <label for="csa">CSA</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="business_image_style"
                                                            [src]="profilePath" />
                                                        <div class="mt-3">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> 
                                                            <button class="btn btn-dark">{{ imageText }}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerPaymentDetails" [ngClass]="{'active show': custCurrentTab == 2}" class="tab-pane p-3">
                                        <div class="row">
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fast</label>
                                                        <input [(ngModel)]="ownerData.paymentDetails.fast" name="fast" type="text" class="form-control"
                                                            placeholder="Enter Fast">
                                                    </div>
                                    
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fast
                                                            Expiry</label>
                                                        <input 
                                                            [(ngModel)]="ownerData.paymentDetails.fastExpiry" name="fastExpiry" 
                                                            type="text" 
                                                            placeholder="Enter Fast Expiry"
                                                            (click)="fastexp.toggle()" ngbDatepicker #fastexp="ngbDatepicker"
                                                            class="form-control" autocomplete="off"> 
                                                    </div>
                                    
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">
                                                            Payroll Type</label>
                                                        <ng-select [(ngModel)]="ownerData.paymentDetails.payrollType" class="form-control" name="payrollType" placeholder="Select Payroll Type">
                                                            <ng-option value="Pay Per Mile" selected=true>Pay Per Mile</ng-option>
                                                            <ng-option value="Percentage">Percentage</ng-option>
                                                            <ng-option value="Pay Per Hour">Pay Per Hour</ng-option>
                                                        </ng-select>
                                                    </div>
                                    
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">SIN #</label>
                                                        <input [(ngModel)]="ownerData.paymentDetails.sin" name="sin" type="text" class="form-control"
                                                            placeholder="Enter SIN #">
                                                    </div>
                                    
                                                    <div class="col-lg-6">
                                                        <div class="row" id="payPerHourForm" *ngIf="ownerData.paymentDetails.payrollType == 'Pay Per Hour'">
                                                            <div class="col-lg-5">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Rate ($)</label>
                                                                <input type="number" class="form-control" [(ngModel)]="ownerData.paymentDetails.payrollRate" name="payrollRate">
                                                            </div>
                                                        </div>
                                                        <div class="row" id="payPercentageForm" *ngIf="ownerData.paymentDetails.payrollType == 'Percentage'">
                                                            <div class="col-lg-10">
                                                                <label class="control-label font-weight-bold text-lg-right pt-2">Load Pay Percent</label>
                                                                <div class="row">
                                                                    <div class="col-lg-2 pr-0">
                                                                        <input type="number" class="form-control" [(ngModel)]="ownerData.paymentDetails.payrollPercent" name="payrollPercent">
                                                                    </div>
                                                                    <div class="col-lg-2 px-0">
                                                                        <label class="font-weight-bold">% of</label>
                                                                    </div>
                                                                    <div class="col-lg-8 px-0">
                                                                        <ng-select [(ngModel)]="ownerData.paymentDetails.percentType" class="form-control" name="percentType" placeholder="Select Percent Type">
                                                                            <ng-option value="Freight Fees" selected=true>Freight Fees</ng-option>
                                                                            <ng-option value="Freight + Fuel Surcharge">Freight + Fuel Surcharge</ng-option>
                                                                            <ng-option value="Total Income">Total Income</ng-option>
                                                                        </ng-select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <div class="row" id="payPerMileForm" *ngIf="ownerData.paymentDetails.payrollType == 'Pay Per Mile'">
                                                                <div class="col-lg-5">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Loaded Miles
                                                                        ($)</label>
                                                                    <input type="number" [(ngModel)]="ownerData.paymentDetails.loadedMiles" name="loadedMiles"
                                                                        class="form-control" placeholder="Enter Loaded Miles ($)">
                                                                </div>
                                                                <div class="col-lg-5">
                                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Empty Miles ($)</label>
                                                                    <input type="number" [(ngModel)]="ownerData.paymentDetails.emptyMiles" name="emptyMiles"
                                                                        class="form-control" placeholder="Enter Empty Miles ($)">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerAddressDetails" [ngClass]="{'active show': custCurrentTab == 3}" class="tab-pane p-3">
                                        <div class="row pt-3"  *ngFor="let item of ownerData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type</label>
                                                        <ng-select [(ngModel)]="item.addressType" class="form-control" name="addressType{{i}}" placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}" (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left" *ngIf="searchResults">
                                                      <li *ngFor="let item of searchResults;">
                                                        <a href="javascript:;" (click)="userAddress(ownerData, i, item)">{{item.address.label}}</a>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                                    <label for="w1-terms1">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark mr-2">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(ownerData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(ownerData,  i)" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress1" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <select (change)= "getStates($event.target.value)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" data-plugin-selectTwo class="form-control populate address_country">
                                                                <optgroup label="Select Country">
                                                                    <option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</option>
                                                                    {{country}}
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <select (change)= "getCities($event.target.value)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" data-plugin-selectTwo class="form-control populate address_state">
                                                                <optgroup label="Select State">
                                                                    <option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" data-plugin-selectTwo class="form-control populate address_city">
                                                                <optgroup label="Select City">
                                                                    <option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</option>
                                                                </optgroup>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode"
                                                            name="zipCode{{i}}" type="text" class="form-control address_zip" placeholder="Enter Zip Code"> 
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                                
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1"
                                                            name="address1{{i}}" type="text" class="form-control address_one" placeholder="Enter Address 1"> 
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label
                                                                class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2"
                                                            name="address2{{i}}" type="text" class="form-control" placeholder="Enter Address 2"> 
                                                        </div>  
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ownerAdditionalDetails" [ngClass]="{'active show': custCurrentTab == 4}" class="tab-pane p-3">
                                        <div class="row">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.firstName"
                                                        name="firstName1" type="text" class="form-control" placeholder="Enter First Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.lastName"
                                                        name="lastName1" type="text" class="form-control" placeholder="Enter Last Name"> 
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.designation"
                                                        name="designation" type="text" class="form-control" placeholder="Enter Designation">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.phone" name="phone1" type="text" class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.email" name="email1" type="text" class="form-control" placeholder="Enter Email">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                        <input [(ngModel)]="ownerData.additionalContact.fax" name="fax" type="text" class="form-control" placeholder="Enter Fax">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-lg-12 text-right pr-5">
                                            <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                            <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 4" class="btn btn-success btnNext">Next</a>

                                            <button class="btn btn-default modal-dismiss mr-2" *ngIf="custCurrentTab > 3" data-dismiss="modal" (click)="showMainModal()">Cancel</button>
                                            <a class="btn btn-success modal-dismiss" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 3" (click)="addOwnerOperator()">Submit</a>
                                            <a class="btn btn-success modal-dismiss" href="javascript:;" *ngIf="updateButton && custCurrentTab > 3" (click)="updateOwnerOperator()">Update</a>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ADD SHIPPER MODAL -->
<div class="modal fade" id="addShipperModal" tabindex="-1" role="dialog" aria-labelledby="addShipperModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Shipper</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark">
                    <div class="my-1">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item"> <a class="nav-link active" id="shipperBasicDetails-tab" data-toggle="tab"
                                [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="shipperBasicDetails"
                                    aria-selected="true">Basic</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="shipperAddress-tab" data-toggle="tab"
                                [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="shipperAddress"
                                    aria-selected="false">Address</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="shipperAdditionalContact-tab" data-toggle="tab"
                                [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="shipperAdditionalContact"
                                    aria-selected="false">Additional
                                    Contact</a> </li>
                            <!-- <li class="nav-item"> <a class="nav-link" id="shipperAdditionalDetails-tab" data-toggle="tab" href="#shipperAdditionalDetails" role="tab" aria-controls="shipperAdditionalDetails" aria-selected="false">Additional Information</a> </li> -->
                        </ul>
                    </div>
                    <form class="form-horizontal" novalidate="novalidate">
                        <div class="tab-content p-0" style="box-shadow:none;border:none;">
                            <div class="tab-pane" [ngClass]="{'active show': custCurrentTab == 1}" id="shipperBasicDetails" role="tabpanel"
                                aria-labelledby="shipperBasicDetails-tab">
                                <div class="row pt-3">
                                    <div class="col-lg-12">
                                        <label class="control-label  font-weight-bold text-lg-right text-5 pt-2">Basic
                                            Details</label>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Shipper
                                                    Name</label>
                                                <input [(ngModel)]="shipperData.companyName" name="companyName" type="text"
                                                    class="form-control" placeholder="Enter Shipper Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    First Name</label>
                                                <input [(ngModel)]="shipperData.firstName" name="firstName" type="text"
                                                    class="form-control" placeholder="Enter Contact First Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    Last Name</label>
                                                <input [(ngModel)]="shipperData.lastName" name="lastName" type="text"
                                                    class="form-control" placeholder="Enter Contact Last Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">MC
                                                    Number</label>
                                                <input [(ngModel)]="shipperData.mc" name="mc" type="text" class="form-control" placeholder="Enter MC Number">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">US DOT
                                                    Number</label>
                                                <input [(ngModel)]="shipperData.dot" name="dot" type="text" class="form-control" placeholder="Enter US DOT Number">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row ">
                                            <div class="col-lg-12 text-center"> <img height="150px" width="150px"
                                                [src]="profilePath" /></div>
                                            <div class="col-lg-12 text-center">
                                                <div class="mt-3 btn btn-dark btn-sm" style="position:relative;">
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input">{{ imageText }}
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-1 mt-2">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                <input [(ngModel)]="shipperData.workPhone" name="workPhone" type="text"
                                                    class="form-control" placeholder="Enter Phone">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                <input [(ngModel)]="shipperData.workEmail" name="workEmail" type="text"
                                                    class="form-control" placeholder="Enter Email">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="shipperAddress" role="tabpanel" aria-labelledby="shipperAddress-tab">
                                <div class="row pt-3" *ngFor="let item of shipperData.address;let i = index;">
                                    <div class="col-lg-3 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                    Type</label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 offset-lg-1">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                            Your Location</label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                            (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                        <div class="map-search__results bg-white">
                                            <ul class="p-0 m-0 text-left">
                                                <li *ngFor="let item of searchResults;">
                                                    <a href="javascript:;"
                                                        (click)="userAddress(shipperData, i, item)">{{item.address.label}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="checkbox-custom pt-2">
                                            <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                            <label for="w1-terms1">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 mar-top-37">
                                        <a href="javascript:;" class="btn btn-dark">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(shipperData);" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="remove(shipperData,  i)" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                    <div *ngIf="manualAddress1" class="row">
                                        <div class="col-lg-4 offset-lg-1 pt-4">
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                    name="countryID{{i}}" class="form-control populate address_country"
                                                        placeholder="Select Country">
                                                        <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        State</label>
                                                    <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select State">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID"
                                                    name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                        class="form-control address_zip" placeholder="Enter Zip Code">
                                                </div>
                                            </div>
            
                                        </div>
            
                                        <div class="col-lg-5 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                        class="form-control address_one" placeholder="Enter Address 1">
                                                </div>
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                        class="form-control" placeholder="Enter Address 2">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}" id="shipperAdditionalContact" role="tabpanel"
                                aria-labelledby="shipperAdditionalContact-tab">
                                <div class="row">
                                    <div class="col-lg-5 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                    Name</label>
                                                <input [(ngModel)]="shipperData.additionalContact.firstName" name="firstName1"
                                                    type="text" class="form-control" placeholder="Enter First Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                    Name</label>
                                                <input [(ngModel)]="shipperData.additionalContact.lastName" name="lastName1"
                                                    type="text" class="form-control" placeholder="Enter Last Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                <input [(ngModel)]="shipperData.additionalContact.designation" name="designation"
                                                    type="text" class="form-control" placeholder="Enter Designation">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                <input [(ngModel)]="shipperData.additionalContact.phone" name="phone1" type="text"
                                                    class="form-control" placeholder="Enter Phone">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                <input [(ngModel)]="shipperData.additionalContact.email" name="email1" type="text"
                                                    class="form-control" placeholder="Enter Email">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                <input [(ngModel)]="shipperData.additionalContact.fax" name="fax" type="text"
                                                    class="form-control" placeholder="Enter Fax">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-lg-12 text-right pr-5">
                                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext mr-2">Next</a>

                                <button class="btn btn-default modal-dismiss mr-2" data-dismiss="modal" (click)="showMainModal()">Cancel</button>
                                <a class="btn btn-success" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 2" (click)="addShipper()">Submit</a>
                                <a href="javascript:;" class="btn btn-success" *ngIf="updateButton && custCurrentTab > 2" (click)="updateShipper()">Update</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ADD CONSIGNEE MODAL -->
<div class="modal fade" id="addConsigneeModal" tabindex="-1" role="dialog" aria-labelledby="addConsigneeModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Consignee</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body text-dark">
                    <div class="my-1">
                        <ul class="nav nav-tabs top-tabs" id="top-tabs" role="tablist">
                            <li class="nav-item"> <a class="nav-link active" id="consigneeBasicDetails-tab" [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" aria-controls="consigneeBasicDetails"
                                    aria-selected="true">Basic</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="consigneeAddress-tab" [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" aria-controls="consigneeAddress"
                                    aria-selected="false">Address</a> </li>
                            <li class="nav-item"> <a class="nav-link" id="consigneeAdditionalContact-tab" [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" aria-controls="consigneeAdditionalContact"
                                    aria-selected="false">Additional
                                    Contact</a> </li>
                            <!-- <li class="nav-item"> <a class="nav-link" id="consigneeAdditionalDetails-tab" data-toggle="tab" href="#consigneeAdditionalDetails" role="tab" aria-controls="consigneeAdditionalDetails" aria-selected="false">Additional Information</a> </li> -->
                        </ul>
                    </div>
                    <form class="form-horizontal form-bordered bg-white" method="get" name="form" id="consigneeForm">
                        <div class="tab-content p-0" style="box-shadow:none;border:none;">
                            <div class="tab-pane" [ngClass]="{'active show': custCurrentTab == 1}" id="consigneeBasicDetails" role="tabpanel"
                                aria-labelledby="consigneeBasicDetails-tab">
                                <div class="row pt-3">
                                    <div class="col-lg-12">
                                        <label class="control-label  font-weight-bold text-lg-right text-5 pt-2">Basic
                                            Details</label>
                                    </div>
                                    <div class="col-lg-5 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Consignee
                                                    Name</label>
                                                <input [(ngModel)]="consigneeData.companyName" name="companyName" type="text"
                                                    class="form-control" placeholder="Enter Consignee Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    First Name</label>
                                                <input [(ngModel)]="consigneeData.firstName" name="firstName" type="text"
                                                    class="form-control" placeholder="Enter Contact First Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                    Last Name</label>
                                                <input [(ngModel)]="consigneeData.lastName" name="lastName" type="text"
                                                    class="form-control" placeholder="Enter Contact Last Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">MC
                                                    Number</label>
                                                <input [(ngModel)]="consigneeData.mc" name="mc" type="text" class="form-control" placeholder="Enter MC Number">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">US DOT
                                                    Number</label>
                                                <input [(ngModel)]="consigneeData.dot" name="dot" type="text" class="form-control" placeholder="Enter US DOT Number">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row ">
                                            <div class="col-lg-12 text-center"> <img height="150px" width="150px"
                                                [src]="profilePath" /></div>
                                            <div class="col-lg-12 text-center">
                                                <div class="mt-3 btn btn-dark btn-sm" style="position:relative;">
                                                    <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> {{ imageText }}
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-1 mt-2">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                <input [(ngModel)]="consigneeData.workPhone" name="workPhone" type="text"
                                                    class="form-control" placeholder="Enter Phone">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                <input [(ngModel)]="consigneeData.workEmail" name="workEmail" type="text"
                                                    class="form-control" placeholder="Enter Email">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 2}" id="consigneeAddress" role="tabpanel" aria-labelledby="consigneeAddress-tab">
                                <div class="row pt-3" *ngFor="let item of consigneeData.address;let i = index;">
                                    <div class="col-lg-3 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                    Type</label>
                                                <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                    placeholder="Select Address Type">
                                                    <ng-option value="Billing Address">Billing Address</ng-option>
                                                    <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                    <ng-option value="Office">Office</ng-option>
                                                    <ng-option value="Other">Other</ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 offset-lg-1">
                                        <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                            Your Location</label>
                                        <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                            (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                        <div class="map-search__results bg-white">
                                            <ul class="p-0 m-0 text-left">
                                                <li *ngFor="let item of searchResults;">
                                                    <a href="javascript:;"
                                                        (click)="userAddress(consigneeData, i, item)">{{item.address.label}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="checkbox-custom pt-2">
                                            <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                            <label for="w1-terms1">Type Manually</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 mar-top-37">
                                        <a href="javascript:;" class="btn btn-dark">Clear</a>
                                        <a *ngIf="i == 0;" (click)="addAddress(consigneeData);" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                        <a *ngIf="i != 0;" (click)="remove(consigneeData,  i)" class="btn btn-success"
                                            href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                    </div>
                                    <div *ngIf="manualAddress1" class="row">
                                        <div class="col-lg-4 offset-lg-1 pt-4">
                                            <div class="row">
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        Country</label>
                                                    <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                    name="countryID{{i}}" class="form-control populate address_country"
                                                        placeholder="Select Country">
                                                        <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        State</label>
                                                    <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                    name="stateID{{i}}" class="form-control populate address_state"
                                                        placeholder="Select State">
                                                        <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                        City</label>
                                                    <ng-select [(ngModel)]="item.cityID"
                                                    name="cityID{{i}}" class="form-control populate address_city"
                                                        placeholder="Select City">
                                                        <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                    </ng-select>
                                                </div>
                                                <div class="col-lg-5">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                        Code</label>
                                                    <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                        class="form-control address_zip" placeholder="Enter Zip Code">
                                                </div>
                                            </div>
    
                                        </div>
            
                                        <div class="col-lg-5 pt-4">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        1</label>
                                                    <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                        class="form-control address_one" placeholder="Enter Address 1">
                                                </div>
                                                <div class="col-lg-12">
                                                    <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                        2</label>
                                                    <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                        class="form-control" placeholder="Enter Address 2">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" [ngClass]="{'active show': custCurrentTab == 3}" id="consigneeAdditionalContact" role="tabpanel"
                                aria-labelledby="consigneeAdditionalContact-tab">
                                <div class="row">
                                    <div class="col-lg-5 offset-lg-1">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                    Name</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.firstName" name="firstName1"
                                                    type="text" class="form-control" placeholder="Enter First Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                    Name</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.lastName" name="lastName1"
                                                    type="text" class="form-control" placeholder="Enter Last Name">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.designation" name="designation"
                                                    type="text" class="form-control" placeholder="Enter Designation">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.phone" name="phone1" type="text"
                                                    class="form-control" placeholder="Enter Phone">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.email" name="email1" type="text"
                                                    class="form-control" placeholder="Enter Email">
                                            </div>
                                            <div class="col-lg-12">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Fax</label>
                                                <input [(ngModel)]="consigneeData.additionalContact.fax" name="fax" type="text"
                                                    class="form-control" placeholder="Enter Fax">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-lg-12 text-right pr-5">
                                <button type="button"  *ngIf="custCurrentTab > 1"  (click)="prevStep()" class="btn btn-default btnPrevious mr-2">Prev</button>
                                <a href="javascript:;" (click)="nextStep()"  *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>

                                <button class="btn btn-default modal-dismiss">Cancel</button>
                                <a class="btn btn-success" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 2"
                                    (click)="addConsignee()">Submit</a>
                                <a href="javascript:;" class="btn btn-success" *ngIf="updateButton && custCurrentTab > 2"
                                    (click)="updateConsignee()">Update</a>
                            </div>
                        </div>
            
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ADD Factoring Company MODAL -->
<div class="modal fade" id="addFCModal" tabindex="-1" role="dialog" aria-labelledby="addFCModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Factoring Company</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item active">
                                        <a [ngClass]="{'active': custCurrentTab == 1}" role="tab" (click)="tabChange(1)" class="nav-link text-center active">
                                            Basic Details
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 2}" role="tab" (click)="tabChange(2)" class="nav-link text-center">
                                            Address
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a [ngClass]="{'active': custCurrentTab == 3}" role="tab" (click)="tabChange(3)" class="nav-link text-center">
                                            Factoring Details
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal" novalidate="novalidate">
                                <div class="tab-content">
                                    <div id="FCBasicDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 1}">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Company
                                                            Name</label>
                                                        <input [(ngModel)]="fcCompanyData.companyName" name="companyName"
                                                            type="text" class="form-control" placeholder="Enter Company Name">
                                                        <div class="checkbox-custom pt-2">
                                                            <input [(ngModel)]="fcCompanyData.isDefault" name="isDefault"
                                                                type="checkbox" name="terms">
                                                            <label for="w1-terms">Make this Factoring Company as
                                                                Default</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            First Name</label>
                                                        <input [(ngModel)]="fcCompanyData.firstName" name="firstName" type="text"
                                                            class="form-control" placeholder="Enter Contact First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contact
                                                            Last Name</label>
                                                        <input [(ngModel)]="fcCompanyData.lastName" name="lastName" type="text"
                                                            class="form-control" placeholder="Enter Contact Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Phone</label>
                                                        <input [(ngModel)]="fcCompanyData.workPhone" name="workPhone" type="text"
                                                            class="form-control" placeholder="Enter Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label
                                                            class="control-label font-weight-bold text-lg-right pt-2">Email</label>
                                                        <input [(ngModel)]="fcCompanyData.workEmail" name="workEmail" type="text"
                                                            class="form-control" placeholder="Enter Email">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> 
                                                        <img class="business_image_style" [src]="profilePath"/>
                                                        <div class="mt-3">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input"> 
                                                            <button class="btn btn-dark">{{ imageText }}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="fcAddressDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 2}">
                                        <div class="row pt-3" *ngFor="let item of fcCompanyData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type</label>
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Main">Main</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                                    (keyup)="searchTerm.next($event);" class="form-control"
                                                    placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;"
                                                                (click)="userAddress(fcCompanyData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                                    <label for="w1-terms1">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(fcCompanyData);" class="btn btn-success"
                                                    href="javascript:;"><i class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(fcCompanyData,  i)" class="btn btn-success"
                                                    href="javascript:;"><i class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress1" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select State">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                                class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>
            
                                                </div>
            
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                                class="form-control address_one" placeholder="Enter Address 1">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                                class="form-control" placeholder="Enter Address 2">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="factoringDetails" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 3}">
                                        <div class="row">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Account
                                                            Number</label>
                                                        <input [(ngModel)]="fcCompanyData.fcDetails.accountNumber"
                                                            name="accountNumber" type="text" class="form-control" placeholder="Enter Account Number">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Factoring
                                                            Rate</label>
                                                        <div class="row">
                                                            <div class="col-lg-4">
                                                                <input [(ngModel)]="fcCompanyData.fcDetails.factoringRate"
                                                                    name="factoringRate" type="text" class="form-control" placeholder="Enter Factoring Rate">
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <ng-select [(ngModel)]="fcCompanyData.fcDetails.factoringUnit"
                                                                name="factoringUnit" class="form-control populate address_city"
                                                                    placeholder="Select Factoring Unit">
                                                                    <ng-option value="%">%</ng-option>
                                                                    <ng-option value="$">$</ng-option>
                                                                </ng-select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-lg-12 text-right pr-5">
                                        <button type="button" *ngIf="custCurrentTab > 1" (click)="prevStep()"
                                            class="btn btn-default btnPrevious mr-2">Prev</button>
                                        <a href="javascript:;" (click)="nextStep()" *ngIf="custCurrentTab < 3" class="btn btn-success btnNext">Next</a>
                                
                                        <button class="btn btn-default modal-dismiss mr-2" *ngIf="custCurrentTab > 2"
                                            (click)="showMainModal()">Cancel</button>
                                        <a class="btn btn-success" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 2" (click)="addFCompany()">Submit</a>
                                        <a class="btn btn-success" href="javascript:;" *ngIf="updateButton && custCurrentTab > 2" (click)="updateFCompany()">Update</a>
                                
                                    </div>
                                </div>
                            </form>
                        </div>
            
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="addStaffModal" tabindex="-1" role="dialog" aria-labelledby="addStaffModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 1200px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }} Staff</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="showMainModal()">
                    <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
                </button>
            </div>
            <div class="modal-body text-dark">
                <div class="card-body p-0">
                    <section class="card form-wizard" id="w1">
                        <div class="card-body card-body-nopadding">
                            <div class="">
                                <ul class="nav top-tabs nav-tabs">
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 1}" (click)="tabChange(1)" role="tab" class="nav-link text-center" aria-controls="staffBasic-tab" aria-selected="true">
                                            Basic Details
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 2}" (click)="tabChange(2)" role="tab" class="nav-link text-center" aria-controls="staffAddres-tab" id="staffAddres-tab" aria-selected="false">
                                            Address
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 3}" (click)="tabChange(3)" role="tab" class="nav-link text-center" aria-controls="staffAccount-tab" id="staffAccount-tab" aria-selected="false">
                                            User Account
                                        </a> 
                                    </li>
                                    <li class="nav-item"> 
                                        <a [ngClass]="{'active': custCurrentTab == 4}" (click)="tabChange(4)" role="tab" class="nav-link text-center" aria-controls="staffPayment-tab" id="staffPayment-tab" aria-selected="false">
                                            Payment Details
                                        </a> 
                                    </li>
                                </ul>
                            </div>
                            <form class="form-horizontal" novalidate="novalidate">
                                <div class="tab-content">
                                    <div id="staffBasic-tab" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 1}" role="tabpanel" aria-labelledby="staffBasic-tab">
                                        <div class="row pt-3">
                                            <div class="col-lg-5 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">First
                                                            Name</label>
                                                        <input [(ngModel)]="staffData.firstName" name="firstName" type="text" class="form-control" placeholder="Enter First Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Last
                                                            Name</label>
                                                        <input [(ngModel)]="staffData.lastName" name="lastName" type="text" class="form-control" placeholder="Enter Last Name">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Employee
                                                            ID</label>
                                                        <input [(ngModel)]="staffData.employeeID" name="employeeID" type="text"
                                                            class="form-control" placeholder="Enter Employee ID">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Date
                                                            of
                                                            Birth</label>
                                                        <input [(ngModel)]="staffData.dateOfBirth" name="dateOfBirth" type="text"
                                                            placeholder="Enter Date Of Birth" (click)="staffdob.toggle()" ngbDatepicker #staffdob="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Work
                                                            Phone</label>
                                                        <input [(ngModel)]="staffData.workPhone" name="workPhone" type="text" class="form-control" placeholder="Enter Work Phone">
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Work
                                                            Email</label>
                                                        <input [(ngModel)]="staffData.workEmail" name="workEmail" type="text" class="form-control" placeholder="Enter Work Email">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="row  mar-top-37">
                                                    <div class="col-lg-7 offset-lg-4 margin_50 text-center"> <img class="business_image_style"
                                                        [src]="profilePath" />
                                                        <div class="mt-3">
                                                            <input (change)="uploadDriverImg($event)" type="file" class="hidden_input">
                                                            <button class="btn btn-dark">{{ imageText }}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffAddres-tab" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 2}" role="tabpanel" aria-labelledby="staffAddres-tab">
                                        <div class="row pt-3" *ngFor="let item of staffData.address;let i = index;">
                                            <div class="col-lg-3 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                            Type</label>
                                                        <ng-select [(ngModel)]="item.addressType" name="addressType{{i}}" class="form-control populate"
                                                            placeholder="Select Address Type">
                                                            <ng-option value="Billing Address">Billing Address</ng-option>
                                                            <ng-option value="Shipping Address">Shipping Address</ng-option>
                                                            <ng-option value="Office">Office</ng-option>
                                                            <ng-option value="Other">Other</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 offset-lg-1">
                                                <label class="control-label font-weight-bold text-lg-right pt-2">Type
                                                    Your Location</label>
                                                <input type="text" [(ngModel)]="item.userLocation" name="userLocation{{i}}"
                                                    (keyup)="searchTerm.next($event);" class="form-control" placeholder="Type Address">
                                                <div class="map-search__results bg-white">
                                                    <ul class="p-0 m-0 text-left">
                                                        <li *ngFor="let item of searchResults;">
                                                            <a href="javascript:;"
                                                                (click)="userAddress(staffData, i, item)">{{item.address.label}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="checkbox-custom pt-2">
                                                    <input [(ngModel)]="manualAddress1" type="checkbox" name="terms1">
                                                    <label for="w1-terms1">Type Manually</label>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 mar-top-37">
                                                <a href="javascript:;" class="btn btn-dark">Clear</a>
                                                <a *ngIf="i == 0;" (click)="addAddress(staffData);" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-plus fa-fw"></i></a>
                                                <a *ngIf="i != 0;" (click)="remove(staffData,  i)" class="btn btn-success" href="javascript:;"><i
                                                        class="fa fa-minus fa-fw"></i></a>
                                            </div>
                                            <div *ngIf="manualAddress1" class="row">
                                                <div class="col-lg-4 offset-lg-1 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                Country</label>
                                                            <ng-select (change)= "getStates($event)" [(ngModel)]="item.countryID"
                                                            name="countryID{{i}}" class="form-control populate address_country"
                                                                placeholder="Select Country">
                                                                <ng-option *ngFor="let country of countries" value="{{country.countryID}}">{{country.countryName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                State</label>
                                                            <ng-select (change)= "getCities($event)" [(ngModel)]="item.stateID"
                                                            name="stateID{{i}}" class="form-control populate address_state"
                                                                placeholder="Select State">
                                                                <ng-option *ngFor="let state of states" value="{{state.stateID}}">{{state.stateName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                                                City</label>
                                                            <ng-select [(ngModel)]="item.cityID"
                                                            name="cityID{{i}}" class="form-control populate address_city"
                                                                placeholder="Select City">
                                                                <ng-option *ngFor="let city of cities" value="{{city.cityID}}">{{city.cityName}}</ng-option>
                                                            </ng-select>
                                                        </div>
                                                        <div class="col-lg-5">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Zip
                                                                Code</label>
                                                            <input [(ngModel)]="item.zipCode" name="zipCode{{i}}" type="text"
                                                                class="form-control address_zip" placeholder="Enter Zip Code">
                                                        </div>
                                                    </div>
                            
                                                </div>
                            
                                                <div class="col-lg-5 pt-4">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                1</label>
                                                            <input [(ngModel)]="item.address1" name="address1{{i}}" type="text"
                                                                class="form-control address_one" placeholder="Enter Address 1">
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                                                2</label>
                                                            <input [(ngModel)]="item.address2" name="address2{{i}}" type="text"
                                                                class="form-control" placeholder="Enter Address 2">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffAccount-tab" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 3}" role="tabpanel" aria-labelledby="staffAccount-tab">
                                        <div class="row">
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contract
                                                            Start Date</label>
                                                        <input [(ngModel)]="staffData.userAccount.contractStartDate" name="contractStartDate" type="text"
                                                            placeholder="Enter Contract Start Date" (click)="contStart.toggle()" ngbDatepicker #contStart="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Contract
                                                            End Date</label>
                                                        <input [(ngModel)]="staffData.userAccount.contractEndDate" name="contractEndDate" type="text"
                                                            placeholder="Enter Contract End Date" (click)="contEnd.toggle()" ngbDatepicker #contEnd="ngbDatepicker"
                                                            class="form-control" autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Designation</label>
                                                        <ng-select [(ngModel)]="staffData.userAccount.designation"
                                                            name="designation" class="form-control"
                                                                placeholder="Select Designation">
                                                                <ng-option value="Executive">Executive</ng-option>
                                                                <ng-option value="Manager">Manager</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Department</label>
                                                        <ng-select [(ngModel)]="staffData.userAccount.department"
                                                            name="department" class="form-control"
                                                                placeholder="Select Department">
                                                                <ng-option value="Account">Account</ng-option>
                                                                <ng-option value="Dispatch">Dispatch</ng-option>
                                                                <ng-option value="Sales & Operations">Sales & Operations</ng-option>
                                                        </ng-select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="staffPayment-tab" class="tab-pane p-3" [ngClass]="{'active show': custCurrentTab == 4}" role="tabpanel" aria-labelledby="staffPayment-tab">
                                        <div class="row">
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Payroll
                                                            Type</label>
                                                        <ng-select [(ngModel)]="staffData.paymentDetails.payrollType"
                                                            name="payrollType" class="form-control"
                                                                placeholder="Select Payroll Type">
                                                                <ng-option value="Hours">Hours</ng-option>
                                                                <ng-option value="Flat">Flat</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Rate</label>
                                                        <input [(ngModel)]="staffData.paymentDetails.payrollRate" name="payrollRate" type="text"
                                                            class="form-control" placeholder="Enter Payroll Rate">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Pay
                                                            Period</label>
                                                        <ng-select [(ngModel)]="staffData.paymentDetails.payPeriod"
                                                            name="payPeriod" class="form-control"
                                                                placeholder="Select Pay Period">
                                                                <ng-option value="Weekly (52 pay periods a year)">Weekly (52 pay periods a year)</ng-option>
                                                                <ng-option value="Weekly (53 pay periods a year)">Weekly (53 pay periods a year)</ng-option>
                                                                <ng-option value="Biweekly (26 pay periods a year)">Biweekly (26 pay periods a year)</ng-option>
                                                                <ng-option value="Biweekly (27 pay periods a year)">Biweekly (27 pay periods a year)</ng-option>
                                                                <ng-option value="Semi-monthly (24 pay periods a year)">Semi-monthly (24 pay periods a year)</ng-option>
                                                                <ng-option value="Monthly (12 pay periods a year)">Monthly (12 pay periods a year)</ng-option>
                                                                <ng-option value="Quaterly (4 pay periods a year)">Quaterly (4 pay periods a year)</ng-option>
                                                                <ng-option value="Semiannually (2 pay periods a year)">Semiannually (2 pay periods a year)</ng-option>
                                                                <ng-option value="Annually (1 pay periods a year)">Annually (1 pay periods a year)</ng-option>
                                                        </ng-select>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">SIN#</label>
                                                        <input [(ngModel)]="staffData.paymentDetails.SIN" name="SIN" type="text"
                                                            class="form-control" placeholder="Enter SIN#">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-10 offset-lg-1">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">WCB#</label>
                                                        <input [(ngModel)]="staffData.paymentDetails.WCB" name="WCB" type="text"
                                                            class="form-control" placeholder="Enter WCB#">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label class="control-label font-weight-bold text-lg-right pt-2">Health
                                                            Care#</label>
                                                        <input [(ngModel)]="staffData.paymentDetails.healthCare" name="healthCare" type="text"
                                                            class="form-control" placeholder="Enter Health Care#">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-lg-12 text-right pr-5">
                                        <button type="button" *ngIf="custCurrentTab > 1" (click)="prevStep()"
                                            class="btn btn-default btnPrevious mr-2">Prev</button>
                                        <a href="javascript:;" (click)="nextStep()" *ngIf="custCurrentTab < 4"
                                            class="btn btn-success btnNext">Next</a>
                            
                                        <button class="btn btn-default modal-dismiss mr-2 ml-2" (click)="showMainModal()">Cancel</button>
                                        <a class="btn btn-success" href="javascript:;" *ngIf="!updateButton && custCurrentTab > 3"
                                            (click)="addStaff()">Submit</a>
                                        <a href="javascript:;" *ngIf="updateButton && custCurrentTab > 3" (click)="updateStaff()"
                                            class="btn btn-success">Update</a>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </section>
                </div>
            </div>
        </div>
    </div>
</div>



<ng-template #content let-modal>
    <div class="modal-header">
        <h5 class="modal-title">{{userDetailTitle}}'s Details</h5>
        <button type="button" (click)="modal.dismiss()" class="close" data-dismiss="modal" aria-label="Close"
            (click)="showMainModal()">
            <i class="far fa-window-close modal-dismiss" style="font-size:25px;"> </i>
        </button>
    </div>
    <div class="modal-body text-dark">
        <div class="card-body text-dark">
            <ul class="nav top-tabs nav-tabs wizard-steps">
                <li class="nav-item active"> <a href="#customerBasicDetails" data-toggle="tab"
                        class="nav-link text-center active">
                        Basic Details
                    </a>
                </li>
                <li class="nav-item"> <a href="#customerAddressDetails" data-toggle="tab" class="nav-link text-center">
                        Address
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.userAccount"> <a href="#customerUserAccount"
                        data-toggle="tab" class="nav-link text-center">
                        User Account
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.paymentDetails"> <a href="#customPaymentDetails"
                        data-toggle="tab" class="nav-link text-center">
                        Payment
                    </a>
                </li>
                <li class="nav-item" *ngIf="userDetailData.additionalContact"> <a href="#customerAdditionalContact"
                        data-toggle="tab" class="nav-link text-center">
                        Additional Contact
                    </a>
                </li>


            </ul>
            <div class="tab-content">
                <div id="customerBasicDetails" class="tab-pane active">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="thumb-info text-center mb-3"> <img [src]="detailImgPath" class="rounded img-fluid"
                                    alt="John Doe" style="max-width: 200px;"> </div>
                        </div>
                        <div class="col-lg-6">
                            <table class="table table-bordered m-0">
                                <tbody>
                                    <tr *ngIf="userDetailData.brokerType">
                                        <th width="40%" class="back-color-gray">Broker Type:</th>
                                        <td>{{userDetailData.brokerType}}</td>
                                    </tr>

                                    <tr *ngIf="userDetailData.dbaName">
                                        <th width="40%" class="back-color-gray">DBA Name:</th>
                                        <td>{{userDetailData.dbaName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.dateOfBirth">
                                        <th width="40%" class="back-color-gray">Date of Birth:</th>
                                        <td>{{userDetailData.dateOfBirth}}</td>
                                    </tr>

                                    <tr>
                                        <th width="40%" class="back-color-gray">Contact Name:</th>
                                        <td>{{userDetailData.firstName}} {{userDetailData.lastName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.companyName">
                                        <th width="40%" class="back-color-gray">Company Name:</th>
                                        <td>{{userDetailData.companyName}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.mc">
                                        <th width="40%" class="back-color-gray">MC:</th>
                                        <td>{{userDetailData.mc}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.dot">
                                        <th width="40%" class="back-color-gray">DOT:</th>
                                        <td>{{userDetailData.dot}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.ein">
                                        <th width="40%" class="back-color-gray">EIN:</th>
                                        <td>{{userDetailData.ein}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.fast">
                                        <th width="40%" class="back-color-gray">Fast:</th>
                                        <td>{{userDetailData.fast}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.fastExpiry">
                                        <th width="40%" class="back-color-gray">Fast Expiry:</th>
                                        <td>{{userDetailData.fastExpiry}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-lg-6">
                            <table class="table table-bordered m-0">
                                <tbody>
                                    <tr *ngIf="userDetailData.fastExpiry">
                                        <th width="40%" class="back-color-gray">Account Number:</th>
                                        <td>{{userDetailData.accountNumber}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.trailerPreference">
                                        <th width="40%" class="back-color-gray">Trailer Preference:</th>
                                        <td>{{userDetailData.trailerPreference}}</td>
                                    </tr>
                                    <tr>
                                        <th width="40%" class="back-color-gray">Work Phone:</th>
                                        <td>{{userDetailData.workPhone}}</td>
                                    </tr>
                                    <tr>
                                        <th width="40%" class="back-color-gray">Work Email:</th>
                                        <td>{{userDetailData.workEmail}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.csa">
                                        <th width="40%" class="back-color-gray">CSA:</th>
                                        <td>{{userDetailData.csa}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.ctpat">
                                        <th width="40%" class="back-color-gray">CTPAT:</th>
                                        <td>{{userDetailData.ctpat}}</td>
                                    </tr>
                                    <tr *ngIf="userDetailData.pip">
                                        <th width="40%" class="back-color-gray">PIP:</th>
                                        <td>{{userDetailData.pip}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div id="customerAddressDetails" class="tab-pane ">
                    <table style="float: left;" [style.width]="userDetailData.address.length > 1 ? '50%' : '100%'"
                        class="table table-bordered mb-2" *ngFor="let item of userDetailData.address">
                        <tbody>
                            <tr>
                                <th width="40%" class="back-color-gray">Address Type:</th>
                                <td>{{item.addressType}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray"> Country:</th>
                                <td>{{item.countryName}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">State:</th>
                                <td>{{item.stateName}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray"> City:</th>
                                <td>{{item.cityName}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Zip Code:</th>
                                <td>{{item.zipCode}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Address:</th>
                                <td>{{item.address1}} {{item.address2}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="customerAdditionalContact" class="tab-pane" *ngIf="userDetailData.additionalContact">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr>
                                <th width="40%" class="back-color-gray">Name:</th>
                                <td>
                                    {{userDetailData.additionalContact.firstName ?
                                    userDetailData.additionalContact.firstName : '-'}}
                                    {{userDetailData.additionalContact.lastName ?
                                    userDetailData.additionalContact.lastName : ''}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Designation:</th>
                                <td>{{userDetailData.additionalContact.designation ?
                                    userDetailData.additionalContact.designation : '-'}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Phone:</th>
                                <td>{{userDetailData.additionalContact.phone ? userDetailData.additionalContact.phone :
                                    '-'}}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Email:</th>
                                <td>{{userDetailData.additionalContact.email ? userDetailData.additionalContact.email :
                                    '-' }}</td>
                            </tr>
                            <tr>
                                <th width="40%" class="back-color-gray">Fax:</th>
                                <td>{{userDetailData.additionalContact.fax ? userDetailData.additionalContact.fax :
                                    '-'}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="customPaymentDetails" class="tab-pane" *ngIf="userDetailData.paymentDetails">

                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr *ngIf="userDetailData.paymentDetails.inBonded">
                                <th width="40%" class="back-color-gray">In-Bonded Carrier:</th>
                                <td>{{userDetailData.paymentDetails.inBonded}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.mc">
                                <th width="40%" class="back-color-gray">MC:</th>
                                <td>{{userDetailData.paymentDetails.mc}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.dot">
                                <th width="40%" class="back-color-gray">DOT:</th>
                                <td>{{userDetailData.paymentDetails.dot}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.fast">
                                <th width="40%" class="back-color-gray">Fast:</th>
                                <td>{{userDetailData.paymentDetails.fast}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.fastExpiry">
                                <th width="40%" class="back-color-gray">Fast Expiry:</th>
                                <td>{{userDetailData.paymentDetails.fastExpiry}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.ccc">
                                <th width="40%" class="back-color-gray">CCC:</th>
                                <td>{{userDetailData.paymentDetails.ccc}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.scac">
                                <th width="40%" class="back-color-gray">SCAC:</th>
                                <td>{{userDetailData.paymentDetails.scac}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.cvor">
                                <th width="40%" class="back-color-gray">CVOR:</th>
                                <td>{{userDetailData.paymentDetails.cvor}}</td>
                            </tr>

                            <tr *ngIf="userDetailData.paymentDetails.payrollType">
                                <th width="40%" class="back-color-gray">Payroll Type:</th>
                                <td>{{userDetailData.paymentDetails.payrollType}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.payrollRate">
                                <th width="40%" class="back-color-gray">Payroll Rate:</th>
                                <td>{{userDetailData.paymentDetails.payrollRate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.localTax">
                                <th width="40%" class="back-color-gray">Local Tax (in Percentage):</th>
                                <td>{{userDetailData.paymentDetails.localTax}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.federalTax">
                                <th width="40%" class="back-color-gray">Federal Tax (in Percentage):</th>
                                <td>{{userDetailData.paymentDetails.federalTax}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.applyTax">
                                <th width="40%" class="back-color-gray">Apply Tax (on Settlement):</th>
                                <td>{{userDetailData.paymentDetails.applyTax}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.wsibAccountNumber">
                                <th width="40%" class="back-color-gray">WSIB:</th>
                                <td>{{userDetailData.paymentDetails.wsibAccountNumber}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.wsibExpiry">
                                <th width="40%" class="back-color-gray">WSIB Expiry:</th>
                                <td>{{userDetailData.paymentDetails.wsibExpiry}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.SIN">
                                <th width="40%" class="back-color-gray">SIN:</th>
                                <td>{{userDetailData.paymentDetails.SIN}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.WCB">
                                <th width="40%" class="back-color-gray">WCB:</th>
                                <td>{{userDetailData.paymentDetails.WCB}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.healthCare">
                                <th width="40%" class="back-color-gray">Health Care:</th>
                                <td>{{userDetailData.paymentDetails.healthCare}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.paymentDetails.payPeriod">
                                <th width="40%" class="back-color-gray">Pay Period:</th>
                                <td>{{userDetailData.paymentDetails.payPeriod}}</td>
                            </tr>

                        </tbody>
                    </table>

                </div>
                <div id="customerUserAccount" class="tab-pane" *ngIf="userDetailData.userAccount">
                    <table class="table table-bordered m-0">
                        <tbody>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Contract Start-Date:</th>
                                <td>{{userDetailData.userAccount.contractStartDate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Contract End-Date:</th>
                                <td>{{userDetailData.userAccount.contractEndDate}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Department:</th>
                                <td>{{userDetailData.userAccount.department}}</td>
                            </tr>
                            <tr *ngIf="userDetailData.userAccount.contractEndDate">
                                <th width="40%" class="back-color-gray">Designation:</th>
                                <td>{{userDetailData.userAccount.designation}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</ng-template>

