<ng-template #allUnitModal let-modal>
  <div class="cus-modal-content">
    <div class="modal-header pr-0">
      <div class="row w-100 align-items-center">
        <div class="col-2">
          <h5 class="modal-title">Address Book</h5>
        </div>



        <div class="col-10 text-right pr-0">
          <div class="row w-100 m-0">
            <div class="col-4 ml-auto">
              <div class="input-group input-group-md mb-0">
                <input
                  type="text"
                  autocomplete="off"
                  placeholder="Search By Company Name"
                  name="cName"
                  [(ngModel)]="filterVal.cName"
                  class="form-control"
                  (input)="
                    getSuggestions(
                      $event.target.value)
                  "
                />
              </div>
              <div
                *ngIf="suggestions?.length > 0"
                class="result-suggestions text-capitalize"
              >
                <ul class="m-0">
                  <li
                    *ngFor="
                      let suggestedUser of suggestions
                    "
                    style="cursor: pointer"
                    (click)="
                      setSearchValues(
                        suggestedUser.cName
                      )
                    "
                  >
                    {{ suggestedUser.cName }}
                  </li>
                </ul>
              </div>
            </div>


            <div class="col-2 p-0">
              <button
                type="submit"
                [disabled]="isSearched"
                (click)="searchFilter()"
                class="btn cus-btn-padd btn-success mr-3"
              >
                Search
              </button>
              <button
                type="button"
                (click)="resetFilter()"
                class="btn cus-btn-padd btn-success"
              >
                Reset
              </button>
            </div>

            <div
              class="btn-group flex-wrap pull-right mr-2"
              *ngIf="!environment"
            >
              <button
                type="button"
                class="mb-1 btn btn-success btn-sm dropdown-toggle"
                data-toggle="dropdown"
              >
                Actions<span class="caret"></span>
              </button>
              <div class="dropdown-menu" role="menu">
                <a
                  class="modal-with-form dropdown-item text-1"
                  href="#importExcelForm"
                  >Import from Excel</a
                >
                <a href="" class="dropdown-item text-1 pull-right" id="excelbtn"
                  >Export to Excel</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-body">

      <div class="card-body p-0">
        <form class="form-horizontal form-bordered" method="get">
          <div class="mb-0">
            <ul class="nav border-0 nav-tabs top-tabs align-items-center" id="addressbook-tabs" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="all-tab" data-toggle="tab" href="#all"
                  role="tab" aria-controls="all" aria-selected="false"
                  (click)="setActiveDiv('all')"
                  >All</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="broker-tab" data-toggle="tab" href="#broker"
                  role="tab" aria-controls="broker" aria-selected="false"
                  (click)="setActiveDiv('broker')"
                  >Broker</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="carrier-tab" data-toggle="tab" href="#carrier"
                  role="tab" aria-controls="carrier" aria-selected="false"
                  (click)="setActiveDiv('carrier')"
                  >Carrier</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="receiver-tab" data-toggle="tab"
                  href="#consignee" role="tab" aria-controls="consignee"
                  aria-selected="false"  (click)="setActiveDiv('receiver')"
                  >Receiver</a>
              </li>
              <li class="nav-item">
                <a class="nav-link"  id="shipper-tab" data-toggle="tab" href="#shipper" role="tab"
                  aria-controls="shipper" aria-selected="false" (click)="setActiveDiv('shipper')"
                  >Shipper</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="customer-tab" data-toggle="tab"
                  href="#customer" role="tab" aria-controls="customer"
                  aria-selected="false" (click)="setActiveDiv('customer')"
                  >Customer</a>
              </li>
              <!-- <li class="nav-item"> <a class="nav-link" id="staff-tab" data-toggle="tab" href="#staff" role="tab" aria-controls="staff" aria-selected="false" (click)="setActiveDiv('staff')">Employee</a> </li> -->
              <li class="nav-item">
                <a class="nav-link" id="fc-tab" data-toggle="tab"
                  href="#fc" role="tab" aria-controls="fc" aria-selected="false"
                  (click)="setActiveDiv('fc')" >Factoring Company</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="ownerOperator-tab" data-toggle="tab" href="#ownerOperator"
                  role="tab" aria-controls="ownerOperator" aria-selected="false"
                  (click)="setActiveDiv('op')" >Owner Operator</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="vendor-tab" data-toggle="tab" href="#vendor" role="tab"
                  aria-controls="vendor" aria-selected="false" (click)="setActiveDiv('vendor')"
                  >Vendor</a>
              </li>
              <a href="javascript:;" class="btn btn-success ml-auto btn-sm"
                id="broker-tab"
                (click)="openModal('form');"
                >Add new entry</a>
            </ul>
          </div>
          <div class="tab-content shadow-none border-0 p-0" id="addressbook-content">
            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="customer"
              role="tabpanel"
              aria-labelledby="customer-tab"
            >

            <div style="max-height: 480px;overflow: auto;">
              <table
                id="customerTable"
                class="
                  table table-responsive-lg text-capitalize table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Customer Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="customers.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let customer of customers; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, customer)">
                      {{ customer.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, customer, 'Customer')">{{customer.firstName}} {{customer.lastName}}</td> -->
                    <td  class="text-lowercase">{{ customer.workEmail }}</td>
                    <td>{{ customer.workPhone }}</td>
                    <td *ngIf="customer.address[0]">
                      <span *ngIf="customer.address[0].manual">
                        {{ customer.address[0].add1 }}
                        {{ customer.address[0].add }},
                        {{ customer.address[0].ctyName }},
                        {{ customer.address[0].sName }},
                        {{ customer.address[0].cName }},
                        {{ customer.address[0].zip }}
                      </span>
                      <span *ngIf="!customer.address[0].manual">
                        {{ customer.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="!customer.address[0]"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(customer)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                              deactivate(customer.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              

            </div>

            <!-- All -->
            <div
              class="tab-pane fade active show px-2 py-3 shadow-none"
              id="all"
              role="tabpanel"
              aria-labelledby="all-tab"
              style="height: 100%;"
            >

              <div
              infinite-scroll
              [infiniteScrollDistance]="2"
              [infiniteScrollThrottle]="50"
              [scrollWindow]="false"
              (scrolled)="onModalScrollDown()"
              style="max-height: 480px;
              overflow: auto;"
            >
              <div>
                <table
                id="brokerTable"

                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
                >
                <thead>
                  <tr>
                    <th width="20%">Company Name</th>
                    <!-- <th width="15%">Broker Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="35%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="units.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let item of units; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, item)" class="text-capitalize">
                      {{
                        item.cName != ""
                          ? item.cName
                          : item.fn + item.ln
                      }}
                    </td>
                    <td  class="text-lowercase">{{ item.workEmail }}</td>
                    <td>{{ item.workPhone }}</td>
                    <td *ngIf="item.address[0] != undefined"  class="text-capitalize">
                      <span *ngIf="item.address[0].manual">
                        {{ item.address[0].add1 }}
                        {{ item.address[0].add2 }},
                        {{ item.address[0].ctyName }},
                        {{ item.address[0].sName }},
                        {{ item.address[0].cName }},
                        {{ item.address[0].zip }}
                      </span>
                      <span *ngIf="!item.address[0].manual">
                        {{ item.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="item.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(item)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(item.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
                </table>
              </div>

            </div>
            </div>

            <!-- Broker -->
            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="broker"
              role="tabpanel"
              aria-labelledby="broker-tab"
            >
            <div style="max-height: 480px;
            overflow: auto;">
                <table
                id="brokerTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="20%">Company/Broker Name</th>
                    <!-- <th width="15%">Broker Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="35%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="brokers.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let broker of brokers; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, broker)"  class="text-capitalize">
                      {{
                        broker.cName != ""
                          ? broker.cName
                          : broker.firstName + broker.lastName
                      }}
                    </td>
                    <!-- <td (click)="openDetail(content, broker,'Broker')">{{broker.firstName}} {{broker.lastName}}</td> -->
                    <td  class="text-lowercase">{{ broker.workEmail }}</td>
                    <td>{{ broker.workPhone }}</td>
                    <td *ngIf="broker.address[0] != undefined"  class="text-capitalize">
                      <span *ngIf="broker.address[0].manual">
                        {{ broker.address[0].add1 }}
                        {{ broker.address[0].add2 }},
                        {{ broker.address[0].ctyName }},
                        {{ broker.address[0].sName }},
                        {{ broker.address[0].cName }},
                        {{ broker.address[0].zip }}
                      </span>
                      <span *ngIf="!broker.address[0].manual">
                        {{ broker.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="broker.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(broker)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(broker.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="vendor"
              role="tabpanel"
              aria-labelledby="vendor-tab"
            >
              <div style="max-height: 480px;overflow: auto;">
              <table
                id="vendorTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Vendor Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="vendors.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let vendor of vendors; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, vendor)"   class="text-capitalize">
                      {{ vendor.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, vendor, 'Vendor')">{{vendor.firstName}} {{vendor.lastName}}</td> -->
                    <td  class="text-lowercase">{{ vendor.workEmail }}</td>
                    <td>{{ vendor.workPhone }}</td>
                    <td *ngIf="vendor.address[0] != undefined"  class="text-capitalize">
                      <span *ngIf="vendor.address[0].manual">
                        {{ vendor.address[0].add1 }}
                        {{ vendor.address[0].add2 }},
                        {{ vendor.address[0].ctyName }},
                        {{ vendor.address[0].sName }},
                        {{ vendor.address[0].cName }},
                        {{ vendor.address[0].zip }}
                      </span>
                      <span *ngIf="!vendor.address[0].manual">
                        {{ vendor.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="vendor.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(vendor)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(vendor.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
              </div>
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="carrier"
              role="tabpanel"
              aria-labelledby="carrier-tab"
            >
            <div style="max-height: 480px;overflow: auto;">
              <table
                id="carrierTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Carrier Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="carriers.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let carrier of carriers; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, carrier)"  class="text-capitalize">
                      {{ carrier.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, carrier, 'Carrier')">{{carrier.firstName}} {{carrier.lastName}}</td> -->
                    <td  class="text-lowercase">{{ carrier.workEmail }}</td>
                    <td>{{ carrier.workPhone }}</td>
                    <td *ngIf="carrier.address[0] != undefined"  class="text-capitalize">
                      <span *ngIf="carrier.address[0].manual">
                        {{ carrier.address[0].add1 }}
                        {{ carrier.address[0].add2 }},
                        {{ carrier.address[0].ctyName }},
                        {{ carrier.address[0].sName }},
                        {{ carrier.address[0].cName }},
                        {{ carrier.address[0].zip }}
                      </span>
                      <span *ngIf="!carrier.address[0].manual">
                        {{ carrier.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="carrier.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(carrier)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(carrier.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="ownerOperator"
              role="tabpanel"
              aria-labelledby="owner-tab"
            >
            <div style="max-height: 480px;overflow: auto;">
              <table
                id="operatorTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Owner Operator Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="owners.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let operator of owners; let i = index"
                    class="cursorpoint"
                  >
                    <td  class="text-capitalize"
                      (click)="
                        openDetail(unitDetailModal, operator)
                      "
                    >
                      {{ operator.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, operator, 'Owner operator')">{{operator.firstName}} {{operator.lastName}}</td> -->
                    <td  class="text-lowercase">{{ operator.workEmail }}</td>
                    <td>{{ operator.workPhone }}</td>
                    <td *ngIf="operator.address[0] != undefined"  class="text-capitalize">
                      <span *ngIf="operator.address[0].manual">
                        {{ operator.address[0].add1 }}
                        {{ operator.address[0].add2 }},
                        {{ operator.address[0].ctyName }},
                        {{ operator.address[0].sName }},
                        {{ operator.address[0].cName }},
                        {{ operator.address[0].zip }}
                      </span>
                      <span *ngIf="!operator.address[0].manual">
                        {{ operator.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="operator.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(operator)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(operator.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="shipper"
              role="tabpanel"
              aria-labelledby="shipper-tab"
            >
              <div style="max-height: 480px;overflow: auto;">
                <table
                id="shipperTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Consignor Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="shippers.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let shipper of shippers; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, shipper)"  class="text-capitalize">
                      {{ shipper.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, shipper, 'Consignor')">{{shipper.firstName}} {{shipper.lastName}}</td> -->
                    <td  class="text-lowercase">{{ shipper.workEmail }}</td>
                    <td>{{ shipper.workPhone }}</td>
                    <td *ngIf="shipper.address[0] != undefined">
                      <span *ngIf="shipper.address[0].manual">
                        {{ shipper.address[0].add1 }}
                        {{ shipper.address[0].add2 }},
                        {{ shipper.address[0].ctyName }},
                        {{ shipper.address[0].sName }},
                        {{ shipper.address[0].cName }},
                        {{ shipper.address[0].zip }}
                      </span>
                      <span *ngIf="!shipper.address[0].manual">
                        {{ shipper.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="shipper.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(shipper)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(shipper.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
                </table>
              </div>
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="consignee"
              role="tabpanel"
              aria-labelledby="consignee-tab"
            >
            <div style="max-height: 480px;overflow: auto;">
              <table
                id="consigneeTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Consignee Name</th> -->
                    <th width="20%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="45%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="receivers.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let receiver of receivers; let i = index"
                    class="cursorpoint"
                  >
                    <td (click)="openDetail(unitDetailModal, receiver)"  class="text-capitalize">
                      {{ receiver.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, receiver, 'Consignee')">{{receiver.firstName}} {{receiver.lastName}}</td> -->
                    <td  class="text-lowercase">{{ receiver.workEmail }}</td>
                    <td>{{ receiver.workPhone }}</td>
                    <td *ngIf="receiver.address[0] != undefined">
                      <span *ngIf="receiver.address[0].manual">
                        {{ receiver.address[0].add1 }}
                        {{ receiver.address[0].add2 }},
                        {{ receiver.address[0].ctyName }},
                        {{ receiver.address[0].sName }},
                        {{ receiver.address[0].cName }},
                        {{ receiver.address[0].zip }}
                      </span>
                      <span *ngIf="!receiver.address[0].manual">
                        {{ receiver.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="receiver.address[0] == undefined"></td>

                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(receiver)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(receiver.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>

            </div>
              
            </div>

            <div
              class="tab-pane fade px-2 py-3 shadow-none"
              id="fc"
              role="tabpanel"
              aria-labelledby="fc-tab"
            >
            <div style="max-height: 480px;overflow: auto;">
              <table
                id="companyTable"
                class="
                  table table-responsive-lg table-bordered table-striped
                  mb-0
                  simple-table
                "
              >
                <thead>
                  <tr>
                    <th width="15%">Company Name</th>
                    <!-- <th width="15%">Factoring Company Name</th> -->
                    <th width="15%">Email</th>
                    <th width="15%">Phone</th>
                    <th width="20%">Address</th>
                    <th width="5%">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngIf="fcCompanies.length == 0" class="text-center">
                    <td colspan="6">{{ dataMessage }}</td>
                  </tr>
                  <tr
                    *ngFor="let company of fcCompanies; let i = index"
                    class="cursorpoint"
                  >
                    <td  class="text-capitalize"
                      (click)="
                        openDetail(unitDetailModal, company)
                      "
                    >
                      {{ company.cName }}
                    </td>
                    <!-- <td (click)="openDetail(content, company, 'Factoring Company')">{{company.firstName}} {{company.lastName}}</td> -->
                    <td class="text-lowercase">{{ company.workEmail }}</td>
                    <td>{{ company.workPhone }}</td>
                    <td *ngIf="company.address[0] != undefined">
                      <span *ngIf="company.address[0].manual">
                        {{ company.address[0].add1 }}
                        {{ company.address[0].add2 }},
                        {{ company.address[0].ctyName }},
                        {{ company.address[0].sName }},
                        {{ company.address[0].cName }},
                        {{ company.address[0].zip }}
                      </span>
                      <span *ngIf="!company.address[0].manual">
                        {{ company.address[0].userLoc }}
                      </span>
                    </td>
                    <td *ngIf="company.address[0] == undefined"></td>
                    <td>
                      <div class="dropdown dropright">
                        <button
                          class="bg-transparent border-0"
                          type="button"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="editUser(company)"
                            >Edit</a
                          >
                          <a
                            class="dropdown-item"
                            href="javascript:;"
                            (click)="
                            deactivate(company.contactID)
                            "
                            >Delete</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
              

            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default" (click)="modal.dismiss('Cross click')">
        Close
      </button>
    </div>
  </div>
</ng-template>

<!-- Add entry Modal -->

<ng-template #newUnitModal let-modal>
  <div class="cus-modal-content">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title" *ngIf="!updateButton">Add Entry</h4>
      <h4 class="modal-title" id="modal-basic-title" *ngIf="updateButton">Update Entry</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <form
        id="customerForm"
        class="form-horizontal form-bordered bg-white"
        method="get"
        name="form"
        novalidate #contactForm="ngForm" ngNativeValidate
        (ngSubmit)="updateButton ? contactForm.form.valid && updateEntry() : contactForm.form.valid && addEntry()"
      >
      <div class="modal-body text-dark" style="max-height: 650px; overflow-y: auto;">
        
          <div class="">
            <!-- Basic Details start -->
            <div class="row mb-3">
              <div class="col-lg-8">
                <label
                  class="control-label font-weight-bold text-lg-right text-5 m-0"
                  >Basic Details</label
                >
              </div>
    
              <!-- <div class="col-lg-4 text-right">
                <div
                  class="
                    btn btn-sm btn-success
                    overflow-hidden
                    mt-3
                    position-relative
                  "
                  style="cursor: pointer"
                >
                  <em class="fas fa-plus"></em> {{ imageText }}
                  <input
                    (change)="uploadDriverImg($event)"
                    type="file"
                    class="hidden_input1 w-100 imgField"
                  />
                </div>
              </div> -->
            </div>
            <div class="row">
              <div class="col-6">
                <label class="control-label font-weight-bold text-lg-right pt-2"
                  >Do you want this entry to act as
                  <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                </label>
                <!-- [disabled]="updateButton" -->
                <ng-select
                  [(ngModel)]="unitData.eTypes"
                  name="eTypes"
                  [multiple]="true"
                  (change)="unitChange($event)"
                  [clearOnBackspace]="false"
                  [hideSelected]="true"
                  #eType="ngModel"
                  class="form-control text-capitalize populate h-auto"
                  placeholder="Do you want this entry to act as"
                  required
                  id="etype"
                  [ngClass]="{ 'error' : contactForm.submitted && eType.invalid }"
                >
                  <ng-option *ngFor="let item of unitTypes" value="{{item.value}}" [disabled]="item.disabled">{{item.label}}</ng-option>
                  
                </ng-select>
                <div
                  *ngIf="eType.invalid && contactForm.submitted"
                  class="text-danger"
                >
                  <div *ngIf="eType.errors.required">This field is required.</div>
                </div>
              </div>
              <div class="col-lg-3">
                <label class="control-label font-weight-bold text-lg-right pt-2"
                  >
                   Company Name
                  <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                </label>
                <input
                  [(ngModel)]="unitData.cName"
                  name="cName"
                  type="text"
                  class="form-control"
                  placeholder="eg. Carroll Group"
                  #customerName="ngModel"
                  pattern="^[a-zA-Z0-9\s\.]{4,120}$"
                  [ngClass]="{ 'error' : contactForm.submitted && customerName.invalid }"
                  required
                />
                <div
                  *ngIf="
                    customerName.invalid && contactForm.submitted
                  "
                  class="text-danger"
                >
                  <div *ngIf="customerName.errors.required">
                    Company name is required.
                  </div>
                  <div *ngIf="customerName.errors.pattern">
                    Company name can only contain alphanumeric characters.
                  </div>
                </div>
              </div>
              <div class="col-3">
                <label class="control-label font-weight-bold text-lg-right pt-2"
                  >DBA Name</label
                >
                <input
                  [(ngModel)]="unitData.dba"
                  name="dbaName"
                  type="text"
                  class="form-control"
                  placeholder="eg. Bookstore"
                />
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-6">
                <div class="row">
                  <div class="col-lg-6">
                    <label
                      class="control-label font-weight-bold text-lg-right pt-2"
                    >
                      Phone
                    </label>
                    <input
                      [(ngModel)]="unitData.workPhone"
                      name="workPhone"
                      type="text"
                      class="form-control"
                      placeholder="eg. 2234567891"
                    />
                  </div>
    
                  <div class="col-lg-6">
                    <label
                      class="control-label font-weight-bold text-lg-right pt-2"
                    >
                      Email
                      <span class="mandfield text-2 ml-1"><sup>*</sup></span>
                    </label>
                    <input
                      [(ngModel)]="unitData.workEmail"
                      name="workEmail"
                      type="text"
                      class="form-control text-lowercase"
                      placeholder="eg. johnsmith@gmail.com "
                      #customerem="ngModel"
                      [ngClass]="{ 'error' : contactForm.submitted && customerem.invalid }"
                      required
                      pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9]+$"
                    />
                    <div
                      *ngIf="
                      customerem.invalid && contactForm.submitted
                      "
                      class="text-danger"
                    >
                      <div *ngIf="customerem.errors.required">
                        Email is required.
                      </div>
                      <div *ngIf="customerem.errors.pattern">
                        Enter valid email eg. johnsmith@gmail.com .
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Basic Details end -->
            <div
              class="pb-4 addressbook-item"
              *ngFor="let unit of unitData.data; let y = index"
            >
                <!-- Broker Data -->
              <div *ngIf="unit.brokerData">
                <label
                  class="control-label font-weight-bold text-lg-right text-5 pt-3"
                  >Broker Details</label
                >
    
                <div class="row">
                  <div class="col-2">
                    <label class="control-label font-weight-bold text-lg-right"
                      >Broker Type:</label
                    >
                  </div>
                  <div class="col-lg-8">
                    <div class="btn-group-toggle" data-toggle="buttons">
                      <label
                        class="btn btn-outline btn-fleet mr-2"
                        [class.active]="unit.brokerData.type === 'company'"
                        style="width: 110px; background-color: #d4d4d4;"
                        (click)="brokerType('company')"
                      >
                        <input
                          type="radio"
                          [(ngModel)]="unit.brokerData.type"
                          name="brokerType"
                          checked
                          value="company"
                        />
                        Company
                      </label>
    
                      <label
                        class="btn btn-outline btn-fleet mr-2"
                        [class.active]="unit.brokerData.type === 'individual'"
                        style="width: 110px; background-color: #d4d4d4;"
                        (click)="brokerType('individual')"
                      >
                        <input
                          type="radio"
                          [(ngModel)]="unit.brokerData.type"
                          name="brokerType"
                          value="individual"
                        />
                        Individual
                      </label>
                    </div>
                  </div>
                </div>
                <div class="row mt-2">
                  <div class="col-3" *ngIf="unit.brokerData.type === 'individual'">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Contact First Name<span class="mandfield text-2 ml-1"
                        ><sup>*</sup></span
                      >
                    </label>
                    <input
                      [(ngModel)]="unit.brokerData.fn"
                      name="unit.brokerData.fn"
                      type="text"
                      class="form-control"
                      placeholder="eg. John"
                      #bfName="ngModel"
                      [ngClass]="{ 'error' : contactForm.submitted && bfName.invalid }"
                      [attr.required]="isBroker" 
                    />
                    
                    <!-- <div
                      *ngIf="bfName.invalid && contactForm.submitted" 
                      class="text-danger"
                    >
                      <div *ngIf="bfName.errors.required">
                        Contact First name is required.
                      </div>
                      <div *ngIf="bfName.errors.pattern">
                        Contact First name can only contains letters.
                      </div>
                    </div> -->
                  </div>
                  <div class="col-3" *ngIf="unit.brokerData.type === 'individual'">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Contact Last Name
                    </label>
                    <input
                      [(ngModel)]="unit.brokerData.ln"
                      name="unit.brokerData.ln"
                      type="text"
                      class="form-control"
                      placeholder="eg. Smith"
                    />
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >EIN &nbsp;<i
                        class="fas fa-exclamation-circle"
                        data-toggle="tooltip"
                        data-placement="top"
                        title="Employer Identification Number (EIN) is a unique identification number that is assigned to a business entity so that it can easily be identified by the Internal Revenue Service (IRS).It is commonly used by employers for the purpose of reporting taxes.The EIN is also known as a Federal Tax Identification Number. "
                      ></i>
                    </label>
    
                    <input
                      [(ngModel)]="unit.brokerData.ein"
                      name="ein"
                      type="text"
                      class="form-control"
                      placeholder="Employer identification number used for internal revenue"
                    />
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >MC# &nbsp;<i
                        class="fas fa-exclamation-circle"
                        data-toggle="tooltip"
                        data-placement="top"
                        title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                  in other words hauling cargo across state lines."
                      ></i>
                    </label>
    
                    <input
                      [(ngModel)]="unit.brokerData.mc"
                      name="mc"
                      type="text"
                      class="form-control"
                      placeholder="6 digits , eg. 123456"
                    />
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >DOT# &nbsp;<i
                        class="fas fa-exclamation-circle"
                        data-toggle="tooltip"
                        data-placement="top"
                        title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."
                      ></i>
                    </label>
    
                    <input
                      [(ngModel)]="unit.brokerData.dot"
                      name="unit.brokerData.dot"
                      type="text"
                      class="form-control"
                      placeholder="Carriers US DOT number"
                    />
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Account#
                    </label>
    
                    <input
                      [(ngModel)]="unit.brokerData.acc"
                      name="unit.brokerData.acc"
                      type="text"
                      class="form-control"
                      placeholder="7-12 digits , eg. 897567567456"
                    />
    
                  </div>
                </div>
              </div>
    
              <!-- Carrier Data -->
              <div *ngIf="unit.carrierData">
                <label
                    class="control-label font-weight-bold text-lg-right text-5 pt-3"
                    >Carrier Details</label
                >
                <div class="row">
                    <div class="col-6 d-flex mt-2">
                        <div class="checkbox-custom pt-1 mr-3">
                          <input
                            [(ngModel)]="unit.carrierData.csa"
                            name="csa"
                            type="checkbox"
                            name="csa"
                          />
                          <label for="csa"
                            >CSA&nbsp;<i
                              class="fas fa-exclamation-circle"
                              data-toggle="tooltip"
                              data-placement="top"
                              title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"
                            ></i
                          ></label>
                        </div>
                        <div class="checkbox-custom pt-1 mr-3">
                          <input
                            [(ngModel)]="unit.carrierData.ctpat"
                            name="ctpat"
                            type="checkbox"
                            name="ctpat"
                          />
                          <label for="ctpat"
                            >CTPAT&nbsp;<i
                              class="fas fa-exclamation-circle"
                              data-toggle="tooltip"
                              data-placement="top"
                              title="Customs Trade Partnership Against Terrorism (CTPAT) is but one layer in U.S. Customs and Border Protections (CBP) multi-layered cargo enforcement strategy.CBP works with the trade community to strengthen international supply chains and improve United States border security."
                            ></i
                          ></label>
                        </div>
                        <div class="checkbox-custom pt-1 mr-3">
                          <input
                            [(ngModel)]="unit.carrierData.pip"
                            name="pip"
                            type="checkbox"
                            name="pip"
                          />
                          <label for="pip"
                            >PIP&nbsp;<i
                              class="fas fa-exclamation-circle"
                              data-toggle="tooltip"
                              data-placement="top"
                              title="PIP stands for Partners in Protection,its in partnership with the Canada Border Service Agency (CBSA).The goal of the PIP program is to strengthen security of both the Canadian-American border and the trade chain."
                            ></i
                          ></label>
                        </div>
                    </div>
                    <div class="col-3 mt-2">
                        <div class="checkbox-custom pt-1">
                          <input
                            [(ngModel)]="unit.carrierData.bond"
                            name="inBonded"
                            type="checkbox"
                            name="in-bond-carrier"
                          />
                          <label for="in-bond-carrier">In-Bonded Carrier</label>
                        </div>
                      </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <label class="control-label font-weight-bold text-lg-right pt-2">MC# &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,in other words hauling cargo across state lines."
                          ></i>
                        </label>
    
                        <input
                          [(ngModel)]="unit.carrierData.mc"
                          name="mc"
                          type="text"
                          class="form-control"
                          placeholder="6 digits , eg. 123456"
                        />
                        
                      </div>
                      <div class="col-3">
                        <label
                          class="
                            control-label
                            font-weight-bold
                            text-lg-right
                            pt-2
                          "
                          >DOT# &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."
                          ></i>
                        </label>
    
                        <input
                          [(ngModel)]="unit.carrierData.dot"
                          name="dot"
                          type="text"
                          class="form-control"
                          placeholder="Carriers US DOT number"
                        />
    
                      </div>
                      <div class="col-3">
                        <label
                          class="
                            control-label
                            font-weight-bold
                            text-lg-right
                            pt-2
                          "
                          >FAST Card# &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"
                          ></i>
                        </label>
                        <input
                          [(ngModel)]="unit.carrierData.fast"
                          name="fast"
                          type="text"
                          class="form-control"
                          placeholder="14 digits, beginning with 4270/4110 and ending with 00/01/02 (42700012345601)"
                          #fastcardcarrier="ngModel"
                            maxlength="14"
                        />
                        
                      </div>
    
                      <!-- fast expiry -->
                      <div class="col-3">
                        <label
                          class="
                            control-label
                            font-weight-bold
                            text-lg-right
                            pt-2
                          "
                          >FAST Expiry
                        </label>
                        <input
                          [(ngModel)]="unit.carrierData.fastExp"
                          name="fastExp"
                          placement="bottom-right"
                          readonly (click)="d2.toggle()" ngbDatepicker #d2="ngbDatepicker"
                            type="text" class="form-control" placeholder="yyyy/mm/dd" [minDate]="dateMinLimit" [maxDate]="futureDatesLimit"
                        />
                      </div>
    
                      <!-- CCC -->
                      <div class="col-3">
                        <label
                          class="
                            control-label
                            font-weight-bold
                            text-lg-right
                            pt-2
                          "
                          >CCC &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="Canadian Carrier Code is a four-character unique identifier that is assigned by the CBSA to identify a carrier. Only one carrier code is issued to each legal entity (corporation, partnership or sole proprietorship) per mode of transport (highway, marine, air or rail"
                          ></i
                        ></label>
                        <input
                          [(ngModel)]="unit.carrierData.ccc"
                          name="ccc"
                          type="text"
                          class="form-control"
                          placeholder="4 digits , eg. AB7Y"
                        />
    
                      </div>
    
                      <!-- SCAC -->
                      <div class="col-3">
                        <label class="control-label font-weight-bold text-lg-right pt-2">SCAC &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="SCAC (Standard Carrier Alpha Code) is a unique 4 letter code used to identify transportation companies. A SCAC is required for all carriers doing business with a U.S. Goverment agency. As such, all carriers crossing the border into the United States are required to have a SCAC in order to identify themselves to CBP(Customs and Border Protection"
                          ></i
                        ></label>
                        <input
                          [(ngModel)]="unit.carrierData.scac"
                          name="scac"
                          type="text"
                          class="form-control"
                          placeholder="2-4 alphabets , eg. ABFS"
                        />
    
                      </div>
    
                      <!-- CVOR -->
                      <div class="col-3">
                        <label class="control-label font-weight-bold text-lg-right pt-2">CVOR &nbsp;<i
                            class="fas fa-exclamation-circle"
                            data-toggle="tooltip"
                            data-placement="top"
                            title="Commercial vehicle operator's registration ( CVOR ) mandatory for commercial vehicle operators in Ontario"
                          >
                          </i>
                        </label>
                        <input
                          [(ngModel)]="unit.carrierData.cvor"
                          name="cvor"
                          type="text"
                          class="form-control"
                          placeholder="9 digits , eg. 123456789"
                        />
    
    
                      </div>
    
                        <div class="col-3">
                            <label
                            class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                            "
                            >Local Tax (in Percentage)
                            </label>
                            <input
                            [(ngModel)]="unit.carrierData.lTax"
                            name="localTax"
                            type="text"
                            class="form-control"
                            placeholder="eg. 5 "
                            />
                        </div>
                        <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Federal Tax (in Percentage)
                            </label>
                            <input
                              [(ngModel)]="unit.carrierData.fTax"
                              name="federalTax"
                              type="text"
                              class="form-control"
                              placeholder="eg. 5"
                            />
    
    
                        </div>
                        <div class="col-3">
                            <label class="control-label font-weight-bold text-lg-right pt-2">Payroll Type</label>
                            <ng-select
                              [(ngModel)]="unit.carrierData.pType"
                              class="form-control"
                              name="unit.carrierData.pType"
                              placeholder="Select payroll type">
                              <ng-option value="Pay Per Mile" selected="true"
                                >Pay Per Mile</ng-option
                              >
                              <ng-option value="Percentage">Percentage</ng-option>
                              <ng-option value="Pay Per Hour"
                                >Pay Per Hour</ng-option
                              >
                              <ng-option value="Pay Per Delivery"
                                >Pay Per Delivery</ng-option
                              >
                            </ng-select>
    
                        </div>
                        <div class="col-3">
                            <div class="checkbox-custom mt-5">
                              <input
                                [(ngModel)]="unit.carrierData.aTax"
                                name="aTax"
                                type="checkbox"
                                name="terms"
                              />
                              <label for="w1-terms"
                                >Apply Tax (on Settlement)</label
                              >
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="checkbox-custom mt-5">
                                <input
                                [(ngModel)]="unit.carrierData.wsib"
                                name="wsib"
                                (change)="carrierWSIB($event.target.value)"
                                type="checkbox"
                                id="wsib-fields"
                                />
                                <label for="wsib">WSIB</label>
                            </div>
                        </div>
                        <div class="row ng-star-inserted w-100 m-0"
                              id="payPerDeliveryForm"
                              *ngIf="
                                unit.carrierData.pType ==
                                'Pay Per Delivery'
                              "
                            >
                              <div class="col-3">
                                <label
                                  class="
                                    control-label
                                    font-weight-bold
                                    text-lg-right
                                    pt-2
                                  "
                                  >Delivery Rate</label
                                >
                                <input
                                  [(ngModel)]="
                                    unit.carrierData.dr
                                  "
                                  name="unit.carrierData.dr"
                                  type="text"
                                  class="form-control"
                                  placeholder="eg. 30 "
                                />
    
                              </div>
                              <div class="col-3 pt-2
                              mt-1">
                                <label
                                  class="
                                    control-label
                                    font-weight-bold
                                    text-lg-right
    
                                  "
                                ></label>
                                <ng-select
                                  class=""
                                  [(ngModel)]="
                                    unit.carrierData
                                      .drCur
                                  "
                                  (change)="updateCurrency($event)"
                                  name="unit.carrierData.drCur"
                                  placeholder="Select Currency"
                                >
                                  <ng-option value="CAD">CAD</ng-option>
                                  <ng-option value="USD">USD</ng-option>
                                </ng-select>
                              </div>
                            </div>
                        <div class="col-lg-12">
                            <div class="row" id="payPerHourForm" *ngIf="
                                unit.carrierData.pType ==
                                'Pay Per Hour'
                              "
                            >
                              <div class="col-3">
                                <label class="control-label font-weight-bold text-lg-right pt-2"
                                  >Rate</label
                                >
                                <input
                                  type="number"
                                  min="0"
                                  class="form-control"
                                  [(ngModel)]="
                                    unit.carrierData.pRate
                                  "
                                  name="paymentDetails.pRate"
                                  placeholder="eg. 5 "
                                />
                                
                              </div>
                              <div class="col-3">
                                <label class="
                                    control-label
                                    font-weight-bold
                                    text-lg-right
                                    pt-4
                                  "
                                ></label>
                                <ng-select
                                  [(ngModel)]="
                                    unit.carrierData.pRCurr
                                  "
                                  (change)="updateCurrency($event)"
                                  class="form-control"
                                  name="unit.carrierData.pRCurr"
                                  placeholder="Select Currency"
                                >
                                  <ng-option value="CAD">CAD</ng-option>
                                  <ng-option value="USD">USD</ng-option>
                                </ng-select>
                              </div>
                            </div>
    
                            <div class="row align-items-center"
                              id="payPercentageForm" *ngIf="
                                unit.carrierData.pType ==
                                'Percentage'">
                              <div class="col-lg-12">
                                <label class="control-label font-weight-bold text-lg-right pt-2">Load Pay Percent</label>
                                <div class="row">
                                  <div class="col-3">
                                    <input
                                      type="number"
                                      min="0"
                                      class="form-control"
                                      [(ngModel)]="
                                        unit.carrierData.pPnt
                                      "
                                      name="unit.carrierData.pPnt"
                                    />
    
                                  </div>
                                  <div class="col-1">
                                    <label class="font-weight-bold">% of</label>
                                  </div>
                                  <div class="col-5">
                                    <ng-select
                                      [(ngModel)]="
                                        unit.carrierData.perType
                                      "
                                      class="form-control"
                                      name="unit.carrierData.perType"
                                      placeholder="Select Percent Type"
                                    >
                                      <ng-option
                                        value="Freight Fees"
                                        selected="true"
                                        >Freight Fees</ng-option
                                      >
                                      <ng-option value="Freight + Fuel Surcharge"
                                        >Freight + Fuel Surcharge</ng-option
                                      >
                                      <ng-option value="Total Income"
                                        >Total Income</ng-option
                                      >
                                    </ng-select>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row" id="payPerMileForm"
                                *ngIf="
                                  unit.carrierData.pType ==
                                  'Pay Per Mile'
                                ">
                                <div class="col-3">
                                  <label class="control-label font-weight-bold text-lg-right pt-2">Loaded Miles</label>
                                  <input type="number"
                                    min="0"
                                    [(ngModel)]="
                                      unit.carrierData.lm
                                    "
                                    name="unit.carrierData.lm"
                                    class="form-control"
                                    placeholder="eg. 5 "
                                  />
                                  
                                </div>
    
                                <div class="col-3">
                                  <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                  <ng-select
                                    [(ngModel)]="
                                      unit.carrierData
                                        .lmCur
                                    "
                                    (change)="updateCurrency($event)"
                                    class="form-control"
                                    name="unit.carrierData.lmCur"
                                    placeholder="Select Currency"
                                  >
                                    <ng-option value="CAD">CAD</ng-option>
                                    <ng-option value="USD">USD</ng-option>
                                  </ng-select>
                                </div>
                                <div class="col-3">
                                    <label
                                      class="
                                        control-label
                                        font-weight-bold
                                        text-lg-right
                                        pt-2
                                      "
                                      >Empty Miles</label
                                    >
                                    <input
                                      type="number"
                                      [(ngModel)]="
                                      unit.carrierData.em
                                      "
                                      name="unit.carrierData.em"
                                      class="form-control"
                                      placeholder="eg. 5"
                                    />
    
                                  </div>
                                  <div class="col-3">
                                    <label class="control-label font-weight-bold text-lg-right pt-4"></label>
                                    <ng-select
                                      [(ngModel)]="
                                      unit.carrierData.emCur
                                      "
                                      (change)="updateCurrency($event)"
                                      class="form-control"
                                      name="unit.carrierData.emCur"
                                      placeholder="Select Currency"
                                    >
                                      <ng-option value="CAD">CAD</ng-option>
                                      <ng-option value="USD">USD</ng-option>
                                    </ng-select>
                                  </div>
                              </div>
    
    
    
                              <div class="row wsib-wrapper"
                                *ngIf="unit.carrierData.wsib">
                                <div class="col-3">
                                  <label
                                    class="
                                      control-label
                                      font-weight-bold
                                      text-lg-right
                                      pt-2
                                    "
                                    >WSIB Account#
                                    <span class="text-1 optional-label-color"
                                      >(optional)</span
                                    ></label
                                  >
                                  <input
                                    [(ngModel)]="
                                      unit.carrierData.wsibAcc
                                    "
                                    name="unit.carrierData.wsibAcc"
                                    type="text"
                                    class="form-control"
                                    placeholder=" Work safety insurance board no."
                                  />
    
                                </div>
                                <div class="col-3">
                                  <label
                                    class="
                                      control-label
                                      font-weight-bold
                                      text-lg-right
                                      pt-2
                                    "
                                    >WSIB Expiry
                                    <span class="text-1 optional-label-color"
                                      >(optional)</span
                                    ></label
                                  >
                                  <input
                                    [(ngModel)]="
                                      unit.carrierData.wsibExp
                                    "
                                    name="unit.carrierData"
                                    type="text"
                                    placeholder="yyyy/mm/dd"
                                    (click)="wsibexp.toggle()"
                                    ngbDatepicker
                                    readonly
                                    #wsibexp="ngbDatepicker"
                                    class="form-control"
                                    autocomplete="off"
                                    [minDate]="dateMinLimit"
                                    [maxDate]="futureDatesLimit"
                                  />
    
                                </div>
                              </div>
                        </div>
                </div>
                <div class="row">
                  <div class="col-lg-12">
                    <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Bank
                      Detail</label>
                  </div>
                </div>
                <div class="row" *ngFor="let bank of unit.carrierData.banks;let b = index;">
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2">Bank Name&nbsp;
                    </label>
                    <input type="text" class="form-control" [(ngModel)]="bank.bName"
                      [attr.name]="'banks['+b+'].bName'" [ngModelOptions]="{standalone: true}" #bName="ngModel"
                      pattern="^[a-zA-Z0-9\s]{2,30}$" placeholder="eg. Bank of Nova Scotia">
    
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2">Account#&nbsp;
                      </label>
                    <input type="number" min="0" class="form-control" [(ngModel)]="bank.acc"
                      [ngModelOptions]="{standalone: true}" placeholder="eg. 12123456701"
                      [attr.name]="'banks['+b+'].acc'" #ac="ngModel">
    
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2">Routing#&nbsp;<i
                        class="fas fa-exclamation-circle" data-toggle="tooltip" data-placement="top"
                        title="Routing Number is a 9 digit code used for electronic fund transfers (EFT) such as direct deposits, electronic payments, etc.Routing number (EFT Code) is comprising of a leading zero (0), the institution number (YYY), then the branch number (XXXXX). "></i>&nbsp;
                    </label>
                    <input type="number" min="0" class="form-control" [(ngModel)]="bank.rNo"
                      [ngModelOptions]="{standalone: true}" [attr.name]="'banks['+b+'].rNo'"
                      #route="ngModel" pattern="^[0-9]{9}$" placeholder="eg. 023456789">
    
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2">Transit#&nbsp;<i
                        class="fas fa-exclamation-circle" data-toggle="tooltip" data-placement="top"
                        title="Transit Number is a 9 character code used for routing of cheques (checks) and paper instruments in the banking industry.
                          This code identifies the branch (and bank/credit union) on which the cheque is drawn.The format of check transit number  XXXXXYYY
                        The first 5 digit is called branch transit number and identifies the exact branch of the bank. YYY is the institution code which identifies the bank or credit union."></i>&nbsp;
                      </label>
                    <input type="text" class="form-control" [(ngModel)]="bank.trnNo"
                      [attr.name]="'banks['+b+'].trnNo'" [ngModelOptions]="{standalone: true}"
                      placeholder="eg. 12345789">
    
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2">Institution#&nbsp;<i
                        class="fas fa-exclamation-circle" data-toggle="tooltip" data-placement="top"
                        title="The institution number (three digits) identifies which bank you use (i.e., TD, RBC, Scotiabank, etc)"></i>&nbsp;
                      </label>
                    <input type="number" min="0" class="form-control" [(ngModel)]="bank.insNo"
                      [ngModelOptions]="{standalone: true}" #ins="ngModel" placeholder="eg. 219"
                      [attr.name]="'banks['+b+'].insNo'">
    
                  </div>
    
                  <div class="col-lg-12">
                    <div class="row">
                      <div class="col-lg-12">
                        <label class="control-label font-weight-bold text-lg-right text-5 pt-2">Bank Address</label>
                      </div>
                      <div class="col-lg-12">
                        <div *ngFor="let item of bank.adrs; let i = index;" class="address-item p-0">
                          <div class="row">
                            <div class="col-6">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Address
                                Type<span *ngIf="item.aType==='yard'"
                                  class="mandfield text-2 ml-1"><sup>*</sup></span></label>
                              <ng-select [(ngModel)]="item.aType" name="bank.addressDetails[{{i}}].aType"
                                placeholder="Select address type">
                                <ng-option value="branch">Branch</ng-option>
                              </ng-select>
    
                            </div>
                            <div class="col-4">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Start
                                typing
                                your
                                location <i class="fas fa-exclamation-circle"
                                  data-toggle="tooltip" data-placement="top"
                                  title="we'll pull address automatically from Map"></i></label>
                              <input type="text" class="form-control" placeholder="Type address"
                                [(ngModel)]="item.userLoc" name="bank.addressDetails[{{i}}].userLoc" [disabled]="item.manual"
                                (keyup)="searchTerm.next($event);">
                              <div class="checkbox-custom pt-2">
                                <input [(ngModel)]="item.manual" name="bank.addressDetails[{{i}}].manual" (change)="manAddress(bank, 'bank', $event, i)"
                                  type="checkbox">
                                <label>Type Manually</label>
                              </div>
                              <div class="map-search__results bg-white" style="width: 96.5%; margin-top: 5px;">
                                <ul class="p-0 m-0 text-left">
                                  <li *ngFor="let item of searchResults;">
                                    <a href="javascript:;" (click)="userAddress('bank', bank, i, item)">{{item.address}}</a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            <div class="col-lg-1 mar-top-37 text-right">
                              <button class="btn btn-dark ml-2 mr-2" type="button" (click)="clearBankLocation(bank, i,b);">Clear</button>
                            </div>
                          </div>
                          <div class="form-group row" *ngIf="item.manual">
                            <div class="col-3">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                Country</label>
                              <ng-select [(ngModel)]="item.cCode" name="bank.addressDetails[{{i}}].cCode"
                                (change)="getStates($event, 'bank', i, bank)"
                                class="form-control populate" placeholder="Select country">
                                <ng-option value="CA">Canada</ng-option>
                                <ng-option value="US">United States</ng-option>
                              </ng-select>
                            </div>
                            <div class="col-3">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                Province/State</label>
                              <ng-select (change)="getCities($event, 'bank', i, bank)" [(ngModel)]="item.sCode"
                              name="bank.addressDetails[{{i}}].sCode" 
                                placeholder="Select province/state">
                                <ng-option class="text-capitalize" *ngFor="let state of item.states"
                                  value="{{state.stateCode}}">{{state.stateName}}</ng-option>
                              </ng-select>
                            </div>
                            <div class="col-4">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Address 1</label>
                              <input [(ngModel)]="item.add1" name="bank.addressDetails[{{i}}].add1" type="text" class="form-control"
                                placeholder="eg. 71, Edson drive,Alberta,Canada" #adLine1="ngModel"
                                >
                            </div>
    
                            <div class="col-3">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Select
                                City</label>
                              <ng-select [(ngModel)]="item.ctyName"  name="bank.addressDetails[{{i}}].ctyName"
                                placeholder="Select city">
    
                                <ng-option class="text-capitalize" *ngFor="let city of item.cities"
                                  value="{{city.cityName}}">
                                  {{city.cityName}}</ng-option>
    
                              </ng-select>
                            </div>
                            <div class="col-3">
    
                              <label class="control-label font-weight-bold text-lg-right pt-2">Zip Code</label>
                              <input [(ngModel)]="item.zip"  name="bank.addressDetails[{{i}}].zip" type="text" class="form-control"
                                placeholder="eg. 7V2 3R4"
                                #zip="ngModel">
                            </div>
                            <div class="col-4">
                              <label class="control-label font-weight-bold text-lg-right pt-2">Address 2</label>
                              <input [(ngModel)]="item.add2" name="bank.addressDetails[{{i}}].add2" type="text" class="form-control"
                                placeholder="eg. 71, Edson drive,Alberta,Canada" #adLine2="ngModel"
                                >
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
    
                </div>
              </div>
    
                <!-- Shipper Data -->
                <div *ngIf="unit.shipperData">
                    <label
                    class="control-label font-weight-bold text-lg-right text-5"
                    >Shipper Details</label>
                    <div class="row">
                        <div class="col-3">
                            <label class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                            "
                            >MC#&nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                    in other words hauling cargo across state lines."
                            ></i>
                            </label>
    
                            <input
                            [(ngModel)]="unit.shipperData.mc"
                            name="unit.shipperData.mc"
                            type="text"
                            class="form-control"
                            placeholder="6 digits , eg. 123456"
                            />
                            <!-- <div *ngIf="consignormc.invalid && (consignormc.dirty || consignormc.touched)" class="text-danger">
                                                    <div *ngIf="consignormc.errors.pattern">
                                                        MC number must contain 6 digits.
                                                    </div>
                                                    </div> -->
                        </div>
                        <div class="col-3">
                            <label class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                            "
                            >DOT# &nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."
                            ></i>
                            </label>
    
                            <input
                            [(ngModel)]="unit.shipperData.dot"
                            name="unit.shipperData.dot"
                            type="text"
                            class="form-control"
                            placeholder="Carriers US DOT number"
                            />
                            <!-- <div *ngIf="consignordot.invalid && (consignordot.dirty || consignordot.touched)" class="text-danger">
                                                    <div *ngIf="consignordot.errors.pattern">
                                                        DOT number must contain 8 digits.
                                                    </div>
                                                    </div> -->
                        </div>
                    </div>
                </div>
    
                <!-- Receiver Data -->
                <div *ngIf="unit.receiverData">
                    <label
                    class="control-label font-weight-bold text-lg-right text-5"
                    >Receiver Details</label
                >
                    <div class="row">
                        <div class="col-3">
                            <label class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                            "
                            >MC#&nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                    in other words hauling cargo across state lines."
                            ></i>
                            </label>
    
                            <input
                            [(ngModel)]="unit.receiverData.mc"
                            name="unit.receiverData.mc"
                            type="text"
                            class="form-control"
                            placeholder="6 digits , eg. 123456"
                            />
    
                        </div>
                        <div class="col-3">
                            <label class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                            "
                            >DOT# &nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."
                            ></i>
                            </label>
    
                            <input
                            [(ngModel)]="unit.receiverData.dot"
                            name="unit.receiverData.dot"
                            type="text"
                            class="form-control"
                            placeholder="Carriers US DOT number"
                            />
    
                        </div>
                    </div>
                </div>
    
                <!-- Customer Data -->
                <div *ngIf="unit.customerData">
                    <label
                        class="control-label font-weight-bold text-lg-right text-5"
                        >Customer Details</label
                    >
                    <div class="row">
                        <div class="col-lg-12 d-flex">
                            <div class="checkbox-custom pt-1 mr-3 mt-2">
                              <input
                                [(ngModel)]="unit.customerData.csa"
                                name="csa"
                                type="checkbox"
                              />
                              <label for="csa"
                                >CSA&nbsp;<i
                                  class="fas fa-exclamation-circle"
                                  data-toggle="tooltip"
                                  data-placement="top"
                                  title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"
                                ></i
                              ></label>
                            </div>
                            <div class="checkbox-custom pt-1 mr-3 mt-2">
                              <input
                                [(ngModel)]="unit.customerData.ctpat"
                                name="ctpat"
                                type="checkbox"
                              />
                              <label for="ctpat"
                                >CTPAT&nbsp;<i
                                  class="fas fa-exclamation-circle"
                                  data-toggle="tooltip"
                                  data-placement="top"
                                  title="Customs Trade Partnership Against Terrorism (CTPAT) is but one layer in U.S. Customs and Border Protections (CBP) multi-layered cargo enforcement strategy.CBP works with the trade community to strengthen international supply chains and improve United States border security."
                                ></i
                              ></label>
                            </div>
                            <div class="checkbox-custom pt-1 mr-3 mt-2">
                              <input
                                [(ngModel)]="unit.customerData.pip"
                                name="pip"
                                type="checkbox"
                              />
                              <label for="pip"
                                >PIP&nbsp;<i
                                  class="fas fa-exclamation-circle"
                                  data-toggle="tooltip"
                                  data-placement="top"
                                  title="PIP stands for Partners in Protection,its in partnership with the Canada Border Service Agency (CBSA).The goal of the PIP program is to strengthen security of both the Canadian-American border and the trade chain."
                                ></i
                              ></label>
                            </div>
                          </div>
                        <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >EIN &nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="Employer Identification Number (EIN) is a unique identification number that is assigned to a business entity so that it can easily be identified by the Internal Revenue Service (IRS).It is commonly used by employers for the purpose of reporting taxes.The EIN is also known as a Federal Tax Identification Number. "
                              ></i>
                            </label>
                            <input
                              [(ngModel)]="unit.customerData.ein"
                              name="unit.customerData.ein"
                              type="text"
                              class="form-control"
                              placeholder="Employer identification number  used for internal revenue"
                            />
    
                            <!-- <div *ngIf="customerein.invalid && (customerein.dirty || customerein.touched)" class="text-danger">
                                                          <div *ngIf="customerein.errors.pattern">
                                                            EIN must contain 9 digits.
                                                          </div>
                                                        </div> -->
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Account#
                            </label>
                            <input
                              [(ngModel)]="unit.customerData.acc"
                              name="unit.customerData.acc"
                              type="text"
                              class="form-control"
                              placeholder="7-12 digits , eg. 897567567456"
                            />
    
                          </div>
                          <div class="col-3">
                                <label class="control-label font-weight-bold text-lg-right pt-2"
                                  >MC#&nbsp;<i
                                    class="fas fa-exclamation-circle"
                                    data-toggle="tooltip"
                                    data-placement="top"
                                    title="MC number (Motor Carrier number) is also an interstate operating authority and unique identifier assigned by the FMCSA to moving companies operating in interstate commerce,
                                                                in other words hauling cargo across state lines."
                                  ></i>
                                </label>
                                <input
                                  [(ngModel)]="unit.customerData.mc"
                                  name="mc"
                                  type="text"
                                  class="form-control"
                                  placeholder="6 digits , eg. 123456"
                                />
    
                              </div>
                              <div class="col-3">
                                <label class="control-label font-weight-bold text-lg-right pt-2"
                                  >DOT# &nbsp;<i
                                    class="fas fa-exclamation-circle"
                                    data-toggle="tooltip"
                                    data-placement="top"
                                    title="Department of Transportation(DOT) number is an identification number that allows FMCSA (the Federal Motor Carrier Safety Administration) to monitor a company's safety record and other information acquired during inspections and audits."
                                  ></i>
                                </label>
                                <input
                                  [(ngModel)]="unit.customerData.dot"
                                  name="dot"
                                  type="text"
                                  class="form-control"
                                  placeholder="Carriers US DOT number"
                                />
    
                              </div>
                              <div class="col-3">
                                <label
                                  class="
                                    control-label
                                    font-weight-bold
                                    text-lg-right
                                    pt-2
                                  "
                                  >FAST Card# &nbsp;<i
                                    class="fas fa-exclamation-circle"
                                    data-toggle="tooltip"
                                    data-placement="top"
                                    title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"
                                  ></i>
                                </label>
                                <input
                                  [(ngModel)]="unit.customerData.fast"
                                  name="fast"
                                  type="text"
                                  class="form-control"
                                  placeholder="14 digits,beginning with 4270 or 4110 and ending with 00 or 01 or 02 (42700012345601)"
                                  #customerfastcard="ngModel"
                                  maxlength="14"
                                />
                                
                              </div>
                              <div class="col-3">
                                <label
                                  class="
                                    control-label
                                    font-weight-bold
                                    text-lg-right
                                    pt-2
                                  "
                                  >FAST Card Expiry
                                </label>
                                <input
                                  [(ngModel)]="unit.customerData.fastExp"
                                  name="fastExpiry"
                                  type="text"
                                  placeholder="yyyy/mm/dd"
                                  (click)="custexp.toggle()"
                                  ngbDatepicker
                                  readonly
                                  #custexp="ngbDatepicker"
                                  class="form-control"
                                  autocomplete="off"
                                  [minDate]="dateMinLimit"
                                  [maxDate]="futureDatesLimit"
                                />
                              </div>
    
                    </div>
                </div>
    
                <!-- Factoring Company -->
                <div *ngIf="unit.fcData">
                    <label
                    class="control-label font-weight-bold text-lg-right text-5"
                    >Factoring Company Details</label>
                    <div class="row">
                        <div class="col-lg-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Account#
                            </label>
                            <input
                              [(ngModel)]="
                              unit.fcData.acc
                              "
                              name="unit.fcData.acc"
                              type="text"
                              class="form-control"
                              placeholder="7-12 digits , eg. 897567567456"
                            />
                        </div>
                        <div class="col-6">
                            <label class="control-label
                                font-weight-bold text-lg-right pt-2"
                              >Factoring Rate
                            </label>
                            <div class="row">
                              <div class="col-lg-6">
                                <input
                                  [(ngModel)]="
                                  unit.fcData.fcRate
                                  "
                                  name="factoringRate"
                                  type="text"
                                  class="form-control"
                                  placeholder="eg. 5 "
                                />
                                <!-- <div *ngIf="fcrate.invalid && (fcrate.dirty || fcrate.touched)" class="text-danger" >
                                                                        <div *ngIf="fcac.errors.pattern">
                                                                        Rate must contain digits and only one special character (dot) only .
                                                                        </div>
    
                                                                    </div> -->
                              </div>
                              <div class="col-lg-6">
                                <ng-select
                                  [(ngModel)]="
                                  unit.fcData.fcUnit
                                  "
                                  name="factoringUnit"
                                  class="form-control populate address_city"
                                  placeholder="Select factoring unit"
                                >
                                  <ng-option value="%">%</ng-option>
                                  <ng-option value="$">$</ng-option>
                                </ng-select>
                              </div>
                            </div>
                          </div>
                    </div>
                </div>
    
                <!-- Owner Operator -->
                <div *ngIf="unit.opData">
                    <label
                    class="control-label font-weight-bold text-lg-right text-5"
                    >Owner Operator Details</label>
                    <div class="row">
                        <div class="col-lg-12 d-flex mt-2">
                            <div class="checkbox-custom pt-2">
                                <input
                                [(ngModel)]="unit.opData.csa"
                                name="unit.opData.csa"
                                type="checkbox"
                                />
                                <label for="csa"
                                >CSA&nbsp;<i
                                    class="fas fa-exclamation-circle"
                                    data-toggle="tooltip"
                                    data-placement="top"
                                    title="The Canadian Standards Association(CSA) is accredited by the SCC as a standards development organization"
                                ></i
                                ></label>
                            </div>
                        </div>
                        <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >FAST Card#&nbsp;<i
                                class="fas fa-exclamation-circle"
                                data-toggle="tooltip"
                                data-placement="top"
                                title="FAST - Free and Secure Trade,14 digits number,beginning with 4270 or 4110 and ending with 00 or 01 or 02"
                              ></i>
                            </label>
                            <input
                              [(ngModel)]="unit.opData.fast"
                              name="fast"
                              type="text"
                              class="form-control"
                              placeholder="14 digits, beginning with 4270/4110 and ending with 00/01/02 (42700012345601)"
                              #fastcardowner="ngModel"
                              maxlength="14"
                            />
                            
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >FAST Expiry
                            </label>
                            <input
                              [(ngModel)]="unit.opData.fastExp"
                              name="fastExpiry"
                              type="text"
                              placeholder="yyyy/mm/dd"
                              (click)="fastexp.toggle()"
                              ngbDatepicker
                              readonly
                              #fastexp="ngbDatepicker"
                              class="form-control"
                              autocomplete="off"
                              [minDate]="dateMinLimit"
                              [maxDate]="futureDatesLimit"
                            />
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >SIN
                            </label>
                            <input
                              [(ngModel)]="unit.opData.sin"
                              name="sin"
                              type="text"
                              class="form-control"
                              placeholder="9 digits , eg. 123456789"
                            />
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                            >
                              Payroll Type
                            </label>
                            <ng-select
                              [(ngModel)]="unit.opData.pType"
                              class="form-control"
                              name="unit.opData.pType"
                              placeholder="Select payroll type"
                            >
                              <ng-option value="Pay Per Mile"
                                >Pay Per Mile</ng-option
                              >
                              <ng-option value="Percentage"
                                >Percentage</ng-option
                              >
                              <ng-option value="Pay Per Hour"
                                >Pay Per Hour</ng-option
                              >
                              <ng-option value="Pay Per Delivery"
                                >Pay Per Delivery</ng-option
                              >
                            </ng-select>
                          </div>
                          <div class="row m-0 w-100"
                          id="payPerHourForm" *ngIf="
                          unit.opData.pType ==
                            'Pay Per Hour'">
                          <div class="col-3">
                            <label class="control-label
                                font-weight-bold
                                text-lg-right
                                pt-2">Rate</label>
                            <input
                              type="number"
                              min="0"
                              class="form-control"
                              [(ngModel)]="
                              unit.opData.pRate
                              "
                              name="unit.opData.pRate"
                              placeholder="eg. 5"
                            />
    
                            <!-- <div *ngIf="ownerrate.invalid && (ownerrate.dirty || ownerrate.touched)" class="text-danger">
                                                              <div *ngIf="ownerrate.errors.pattern">
                                                                Rate must contain digits and only one special character (dot) only .
                                                              </div>
                                                            </div> -->
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-4
                              "
                            ></label>
                            <ng-select
                              [(ngModel)]="
                              unit.opData.pRCur
                              "
                              class="form-control"
                              (change)="
                                updateCurrency($event)
                              "
                              placeholder="eg. 1,2,3 "
                              name="unit.opData.pRCur"
                              placeholder="Select Currency"
                            >
                              <ng-option value="CAD">CAD</ng-option>
                              <ng-option value="USD">USD</ng-option>
                            </ng-select>
                          </div>
                        </div>
                        <div
                          class="row m-0 w-100"
                          id="payPercentageForm"
                          *ngIf="
                            unit.opData.pType ==
                            'Percentage'
                          "
                        >
                          <div class="col-12">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Load Pay Percent</label
                            >
                            <div class="row">
                              <div class="col-3">
                                <input
                                  type="number"
                                  min="0"
                                  class="form-control"
                                  placeholder="eg. 5 "
                                  [(ngModel)]="
                                  unit.opData.pPnt
                                  "
                                  name="paymentDetails.pPnt"
                                />
    
                                <!-- <div *ngIf="ownerloadpaypercent.invalid && (ownerloadpaypercent.dirty || ownerloadpaypercent.touched)" class="text-danger">
                                                                      <div *ngIf="ownerloadpaypercent.errors.pattern">
                                                                        Load Pay Percent must contain digits and only one special character (dot) only .
                                                                      </div>
                                                                    </div> -->
                              </div>
                              <div class="col-1">
                                <label class="font-weight-bold">% of</label>
                              </div>
                              <div class="col-5">
                                <ng-select
                                  [(ngModel)]="
                                  unit.opData.perType
                                  "
                                  class="form-control"
                                  name="paymentDetails.perType"
                                  placeholder="Select Percent Type"
                                >
                                  <ng-option
                                    value="Freight Fees"
                                    selected="true"
                                    >Freight Fees</ng-option
                                  >
                                  <ng-option
                                    value="Freight + Fuel Surcharge"
                                    >Freight + Fuel Surcharge</ng-option
                                  >
                                  <ng-option value="Total Income"
                                    >Total Income</ng-option
                                  >
                                </ng-select>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                            class="row m-0 w-100"
                            id="payPerMileForm"
                            *ngIf="
                            unit.opData.pType ==
                              'Pay Per Mile'
                            "
                          >
                            <div class="col-3">
                              <label
                                class="
                                  control-label
                                  font-weight-bold
                                  text-lg-right
                                  pt-2
                                "
                                >Loaded Miles</label
                              >
                              <input
                                type="number"
                                min="0"
                                [(ngModel)]="
                                unit.opData.lm
                                "
                                name="unit.opData.lm"
                                class="form-control"
                                placeholder="eg. 5"
                              />
    
                              <!-- <div *ngIf="ownerloadedmiles.invalid && (ownerloadedmiles.dirty || ownerloadedmiles.touched)" class="text-danger">
                                                                      <div *ngIf="ownerloadedmiles.errors.pattern">
                                                                        Loaded Miles must contain digits and only one special character (dot) only .
                                                                      </div>
                                                                    </div> -->
                            </div>
                            <div class="col-3">
                              <label
                                class="
                                  control-label
                                  font-weight-bold
                                  text-lg-right
                                  pt-4
                                "
                              ></label>
                              <ng-select
                                [(ngModel)]="
                                unit.opData.lmCur
                                "
                                class="form-control"
                                (change)="
                                  updateCurrency($event)
                                "
                                name="unit.opData.lmCur"
                                placeholder="Select Currency"
                              >
                                <ng-option value="CAD">CAD</ng-option>
                                <ng-option value="USD">USD</ng-option>
                              </ng-select>
                            </div>
                            <div class="col-3">
                              <label
                                class="
                                  control-label
                                  font-weight-bold
                                  text-lg-right
                                  pt-2
                                "
                                >Empty Miles</label
                              >
                              <input
                                type="number"
                                min="0"
                                [(ngModel)]="
                                unit.opData.em
                                "
                                name="unit.opData.em"
                                class="form-control"
                                placeholder="eg. 5"
                              />
    
                              <!-- <div *ngIf="ownerempty.invalid && (ownerempty.dirty || ownerempty.touched)" class="text-danger">
                                                                      <div *ngIf="ownerempty.errors.pattern">
                                                                        Empty Miles must contain digits and only one special character (dot) only .
                                                                      </div>
                                                                    </div> -->
                            </div>
                            <div class="col-3">
                              <label
                                class="
                                  control-label
                                  font-weight-bold
                                  text-lg-right
                                  pt-4
                                "
                              ></label>
                              <ng-select
                                [(ngModel)]="
                                unit.opData.emCur
                                "
                                class="form-control"
                                (change)="
                                  updateCurrency($event)
                                "
                                name="unit.opData.emCur"
                                placeholder="Select Currency"
                              >
                                <ng-option value="CAD">CAD</ng-option>
                                <ng-option value="USD">USD</ng-option>
                              </ng-select>
                            </div>
                          </div>
                        <div
                          class="row m-0 w-100"
                          id="payPerDeliveryForm"
                          *ngIf="
                          unit.opData.pType ==
                            'Pay Per Delivery'
                          "
                        >
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Delivery Rate</label
                            >
                            <input
                              [(ngModel)]="
                              unit.opData.dr
                              "
                              name="unit.opData.dr"
                              type="text"
                              class="form-control"
                              placeholder="eg. 30"
                            />
    
                          </div>
                          <div class="col-3">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                                mt-1
                              "
                            ></label>
                            <ng-select
                              class="mt-2"
                              [(ngModel)]="
                              unit.opData
                                  .drCur
                              "
                              (change)="
                                updateCurrency($event)
                              "
                              name="unit.opData.drCur"
                              placeholder="Select Currency"
                            >
                              <ng-option value="CAD">CAD</ng-option>
                              <ng-option value="USD">USD</ng-option>
                            </ng-select>
                          </div>
                        </div>
                    </div>
                </div>
    
                <!-- Vendor -->
                <div *ngIf="unit.vendorData">
                    <label
                    class="control-label font-weight-bold text-lg-right text-5"
                    >Vendor Details</label>
                    <div class="row">
                        <div class="col-lg-6">
                            <label
                              class="
                                control-label
                                font-weight-bold
                                text-lg-right
                                pt-2
                              "
                              >Account#
                            </label>
                            <input
                              [(ngModel)]="unit.vendorData.acc"
                              name="unit.vendorData.acc"
                              type="text"
                              class="form-control"
                              placeholder="7-12 digits , eg. 897567567456"
                            />
                            <!-- <div *ngIf="vendorAc.invalid && (vendorAc.dirty || vendorAc.touched)" class="text-danger">
                                                      <div *ngIf="vendorAc.errors.pattern">
                                                          Account number must be between 7-12 numbers.
    
                                                      </div>
    
                                                  </div> -->
                          </div>
                    </div>
                </div>
            </div>
            <!-- Address start -->
            <div
              class="py-4 border-bottom"
              *ngFor="let item of unitData.adrs; let i = index"
            >
            <div>
              <label
              class="control-label font-weight-bold text-lg-right text-5 m-0"
              >Address </label
            >
            </div>
    
              <div class="row">
                <div class="col-6">
                  <div class="row">
                    <div class="col-lg-12">
                      <label class="control-label font-weight-bold text-lg-right pt-2"
                        >Address Type</label
                      >
    
                      <ng-select
                        [(ngModel)]="item.aType"
                        name="aType{{ i }}"
                        class="form-control populate"
                        placeholder="Select address type"
                      >
                        <ng-option value="Billing Address">Billing Address</ng-option>
                        <ng-option value="Shipping Address"
                          >Shipping Address</ng-option
                        >
                        <ng-option value="Office">Office</ng-option>
                        <ng-option value="Other">Other</ng-option>
                      </ng-select>
                    </div>
                  </div>
                </div>
    
                <div class="col-4">
                  <label class="control-label font-weight-bold text-lg-right pt-2"
                    >Type Your Location</label
                  >
                  <input
                    type="text"
                    [(ngModel)]="item.userLoc"
                    name="userLoc{{ i }}"
                    (keyup)="searchTerm.next($event)"
                    class="form-control"
                    placeholder="eg. 1107 Port washington road"
                    [disabled]="item.manual"
                  />
                  <div class="map-search__results bg-white" *ngIf="searchResults">
                    <ul class="p-0 m-0 text-left">
                      <li *ngFor="let item of searchResults">
                        <a
                          href="javascript:;"
                          (click)="userAddress('unit', unitData, i, item)"
                          >{{ item.address }}</a
                        >
                      </li>
                    </ul>
                  </div>
                  <div class="checkbox-custom pt-2">
                    <input
                      [(ngModel)]="item.manual"
                      name="manual{{ i }}"
                      (change)="manAddress('', 'unit', $event, i)"
                      type="checkbox"
                    />
                    <label for="man_address">Type Manually</label>
                  </div>
                </div>
                <div class="col-lg-2 mar-top-37 text-right">
                  <a
                    class="btn btn-dark mr-2"
                    href="javascript:;"
                    (click)="clearAddress(i)"
                    >Clear</a
                  >
                  <a
                    *ngIf="i == 0"
                    (click)="addAddress(unitData)"
                    class="btn btn-success"
                    href="javascript:;"
                    ><i class="fa fa-plus fa-fw"></i
                  ></a>
                  <a
                    *ngIf="i != 0"
                    (click)="removeAddress(i)"
                    class="btn btn-danger"
                    href="javascript:;"
                    ><i class="fa fa-minus fa-fw"></i
                  ></a>
                </div>
                <div *ngIf="item.manual" class="row pl-3 w100">
                  <div class="col-6 pt-4">
                    <div class="row">
                      <div class="col-lg-6">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Select Country</label
                        >
                        <ng-select
                          (change)="getStates($event, 'unit', i, ''); item.sCode = ''"
                          [(ngModel)]="item.cCode"
                          name="cCode{{ i }}"
                          class="form-control populate address_country"
                          placeholder="Select country"
                        > 
                        <ng-option value="CA">Canada</ng-option>
                        <ng-option value="US">United States</ng-option>
                          <!-- <ng-option
                            *ngFor="let country of countries"
                            value="{{ country.countryCode }}"
                          >
                            {{ country.countryName }}</ng-option
                          > -->
                        </ng-select>
                      </div>
                      <div class="col-lg-6">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Select Province/State</label
                        >
                        <ng-select
                          (change)="getCities($event, 'unit', i, '')"
                          [(ngModel)]="item.sCode"
                          name="sCode{{ i }}"
                          class="form-control populate address_state"
                          placeholder="Select province/state"
                        >
                          <ng-option
                            *ngFor="let state of item.states"
                            value="{{ state.stateCode }}"
                            >{{ state.stateName }}</ng-option
                          >
                        </ng-select>
                      </div>
                      <div class="col-lg-6">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Select City</label
                        >
                        <ng-select
                          [(ngModel)]="item.ctyName"
                          name="ctyName{{ i }}"
                          class="form-control populate address_city"
                          placeholder="Select city"
                        >
                          <ng-option
                            *ngFor="let city of item.cities"
                            value="{{ city.cityName }}"
                            >{{ city.cityName }}</ng-option
                          >
                        </ng-select>
                      </div>
                      <div class="col-lg-6">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Zip Code</label
                        >
                        <input
                          [(ngModel)]="item.zip"
                          name="zip{{ i }}"
                          type="text"
                          class="form-control address_zip"
                          placeholder="T2C 5J4"
                        />
    
                        <!-- <div *ngIf="customerzip.invalid && (customerzip.dirty || customerzip.touched)" class="text-danger">
                                                            <div *ngIf="customerzip.errors.pattern">
                                                              Zip code  must contain atleast 3 uppercase letters,numbers and no special characters except (space) only.
                                                          </div>
                                                          </div> -->
                      </div>
                    </div>
                  </div>
    
                  <div class="col-4 pr-0 pt-4">
                    <div class="row">
                      <div class="col-lg-12">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Address 1</label
                        >
                        <input
                          [(ngModel)]="item.add1"
                          name="add1{{ i }}"
                          type="text"
                          class="form-control address_one"
                          placeholder=" eg. 1107 Port washington road"
                        />
                      </div>
                      <div class="col-lg-12">
                        <label
                          class="control-label font-weight-bold text-lg-right pt-2"
                          >Address 2</label
                        >
                        <input
                          [(ngModel)]="item.add2"
                          name="add2{{ i }}"
                          type="text"
                          class="form-control"
                          placeholder=" eg. 1107 Port washington road"
                        />
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <label style="display: none;" class="error mt-2" id="addErr{{i}}">Your address or zip code is not valid</label>
                </div>
                
              </div>
            </div>
            <!-- Address end -->
    
            <!-- Additional Contact Details start -->
            <div
              class="row pt-3"
              *ngFor="
                let additionData of unitData.addlCnt;
                let ad = index
              "
            >
              <div class="col-12">
                <label
                  class="control-label font-weight-bold text-lg-right text-5 m-0"
                  >Additional Contact Details</label
                >
              </div>
    
              <div class="col-12">
                <div class="row">
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >First Name
                    </label>
                    <input
                      [(ngModel)]="additionData.fName"
                      name="fName_{{ ad }}"
                      type="text"
                      class="form-control"
                      placeholder="eg. John"
                    />
    
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Last Name
                    </label>
                    <input
                      [(ngModel)]="additionData.lName"
                      name="lName_{{ ad }}"
                      type="text"
                      class="form-control"
                      placeholder="eg. Smith"
                    />
    
                  </div>
                  <div class="col-4">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Designation
                    </label>
                    <input
                      [(ngModel)]="additionData.des"
                      name="des_{{ ad }}"
                      type="text"
                      class="form-control"
                      placeholder="eg. Manager "
                    />
    
                  </div>
                  <div class="col-2 text-right mt-2">
                    <button
                      [disabled]="additionalDisabled"
                      *ngIf="ad == 0"
                      id="add-document"
                      class="btn btn-success mt-4"
                      (click)="addAdditionalContact(unitData)"
                    >
                      <i class="fa fa-plus"></i> Add More
                    </button>
                    <a
                      href="javascript:;"
                      *ngIf="ad > 0"
                      class="btn btn-danger mt-4"
                      (click)="delAdditionalContact(ad)"
                      ><i class="fa fa-minus"></i> Delete</a
                    >
                  </div>
    
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Phone
                    </label>
                    <input
                      [(ngModel)]="additionData.phone"
                      name="phone_{{ ad }}"
                      type="text"
                      class="form-control"
                      placeholder="eg. 2234567891"
                    />
                  </div>
                  <div class="col-3">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Email
                    </label>
                    <input
                      [(ngModel)]="additionData.email"
                      name="email_{{ ad }}"
                      type="text"
                      class="form-control text-lowercase"
                      placeholder="eg. johnsmith@gmail.com "
                      #customerem1="ngModel"
                    />

                  </div>
                  <div class="col-4">
                    <label class="control-label font-weight-bold text-lg-right pt-2"
                      >Fax
                    </label>
                    <input
                      [(ngModel)]="additionData.fax"
                      name="fax_{{ ad }}"
                      type="text"
                      class="form-control"
                      placeholder="Enter FAX number"
                    />
                  </div>
                </div>
              </div>
    
            </div>
            <!-- Additional Contact Details end -->
    
          </div>
          <div class="border-top mt-3 pt-3 text-right">
            
          </div>
      </div>
      <div class="modal-footer">
        <button
              type="button"
              class="btn btn-default mr-2"
              (click)="modal.dismiss('Cross click')"
            >
              Close
            </button>
            <button
              type="submit"
              *ngIf="!updateButton"
              class="btn btn-success"
              [disabled]="unitDisabled"
            >
              Submit
            </button>
            <button
              type="submit"
              *ngIf="updateButton"
              class="btn btn-success"
              [disabled]="unitDisabled"
            >
              Update
            </button>
      </div>
    </form>

  </div>
  
</ng-template>



<!-- Detail Page Coding Starting from here -->

<ng-template #unitDetailModal let-modal class="abc">
  <div class="cus-modal-content">
    <div class="modal-header">
      <h5 class="modal-title text-capitalize" *ngIf="unitData.cName">{{unitData.cName}}'s Details</h5>
      <button type="button"
        (click)="modal.dismiss()"
        class="close" data-dismiss="modal" aria-label="Close">
        <i class="far fa-window-close modal-dismiss" style="font-size: 25px"> </i>
      </button>
    </div>
    <div class="modal-body text-dark text-capitalize" style="max-height: 750px;
    overflow: auto;">
      <!-- Basic Details Start -->
      <div class="row">
        <div class="col-lg-10 mb-2">
          <label class="control-label font-weight-bold text-lg-right text-5 m-0">Basic Details</label>
       </div>
       <!-- <div class="col-lg-2 pt-1 text-right">
          <a (click)="showPhoto()" href="javascript:;" class="btn btn-sm btn-success"><i class="fas fa-eye text-light"></i> View Photo</a>
        </div> -->
        <div class="col-12 mb-3">
          <table class="table table-bordered m-0">
            <tbody>
              <tr *ngIf="unitData.eTypes">
                <th style="    width: 166px;" class="back-color-gray">Type:</th>
                <td class="text-capitalize">
                  <span *ngFor="let type of unitData.eTypes; last as isLast">
                    <span *ngIf="type === 'fc'">Factoring Company</span>
                    <span *ngIf="type === 'owner_operator'">Owner Operator</span>
                    <span *ngIf="type === 'shipper'">Shipper</span>
                    <span *ngIf="type === 'receiver'">Receiver</span>
                    <span *ngIf="type === 'vendor'">Vendor</span>
                    <span *ngIf="type === 'broker'">Broker</span>
                    <span *ngIf="type === 'customer'">Customer</span>
                    <span *ngIf="type === 'carrier'">Carrier</span>
                    <span *ngIf="!isLast">, </span>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-lg-6">
          <table class="table table-bordered m-0">
            <tbody>
              <tr *ngIf="unitData.cName">
                <th width="40%" class="back-color-gray">Company Name:</th>
                <td class="text-capitalize">{{ unitData.cName }}</td>
              </tr>
  
              <tr *ngIf="unitData.workPhone">
                <th width="40%" class="back-color-gray">Phone:</th>
                <td>{{ unitData.workPhone }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-lg-6">
          <table class="table table-bordered m-0">
            <tbody>
              <tr *ngIf="unitData.workEmail">
                <th width="40%" class="back-color-gray">Email:</th>
                <td  class="text-lowercase"> {{ unitData.workEmail }}</td>
              </tr>
              <tr *ngIf="unitData.dba">
                <th width="40%" class="back-color-gray">DBA:</th>
                <td class="text-capitalize">{{ unitData.dba }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div *ngFor="let item of unitData.data">
            <div *ngIf="item.brokerData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Broker Details</label
              >
             <div class="row">
              <div class="col-6">
                <table style="float: left" class="table table-bordered mb-2" >
                  <tbody>
                    <tr>
                      <th width="40%" class="back-color-gray">Account#:</th>
                      <td>{{ item.brokerData.acc ? item.brokerData.acc : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">DOT#:</th>
                      <td>{{ item.brokerData.dot ? item.brokerData.dot : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">EIN:</th>
                      <td>{{ item.brokerData.ein ? item.brokerData.ein : "-" }}</td>
                    </tr>
  
                  </tbody>
                </table>
               </div>
               <div class="col-6">
                <table style="float: left" class="table table-bordered mb-2" >
                  <tbody>
                    <tr *ngIf="item.brokerData.type">
                      <th width="40%" class="back-color-gray">Name:</th>
                      <td>{{ item.brokerData.fn ? item.brokerData.fn : "-" }} {{ item.brokerData.ln }}</td>
                    </tr>
  
                    <tr>
                      <th width="40%" class="back-color-gray">MC:</th>
                      <td>{{ item.brokerData.mc ? item.brokerData.mc : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">Broker Type:</th>
                      <td>{{ item.brokerData.type ? item.brokerData.type : "-" }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
             </div>
            </div>
  
            <div *ngIf="item.carrierData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Carrier Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">CSA:</th>
                        <td>{{ item.carrierData.csa ? "Yes" : "No"}}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">CTPAT:</th>
                        <td>{{ item.carrierData.ctpat ? "Yes" : "No" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">PIP:</th>
                        <td>{{ item.carrierData.pip ? "Yes" : "No" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">In-Bonded Carrier:</th>
                        <td>{{ item.carrierData.bond ? "Yes" : "No"}}</td>
                      </tr>
  
                      <tr>
                        <th width="40%" class="back-color-gray">MC#:</th>
                        <td>{{ item.carrierData.mc ? item.carrierData.mc : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">DOT#:</th>
                        <td>{{ item.carrierData.dot ? item.carrierData.dot : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Card#:</th>
                        <td>{{ item.carrierData.fast ? item.carrierData.fast : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Expiry:</th>
                        <td>{{ item.carrierData.fastExp ? (item.carrierData.fastExp | date:"yyyy/MM/dd" ) : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">CCC:</th>
                        <td>{{ item.carrierData.ccc ? item.carrierData.ccc : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">SCAC:</th>
                        <td>{{ item.carrierData.scac ? item.carrierData.scac : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">CVOR:</th>
                        <td>{{ item.carrierData.cvor ? item.carrierData.cvor : "-" }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                     
                      <tr>
                        <th width="40%" class="back-color-gray">Payroll Type:</th>
                        <td>{{ item.carrierData.pType ? item.carrierData.pType : "-" }}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.pType === 'Pay Per Mile'">
                        <th width="40%" class="back-color-gray">Loaded Miles:</th>
                        <td>{{ item.carrierData.lm ? item.carrierData.lm : "-" }} {{item.carrierData.lm ? item.carrierData.lmCur : ''}}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.pType === 'Pay Per Mile'">
                        <th width="40%" class="back-color-gray">Empty Miles:</th>
                        <td>{{ item.carrierData.em ? item.carrierData.em : "-" }} {{item.carrierData.em ? item.carrierData.emCur : ''}}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.pType === 'Percentage'">
                        <th width="40%" class="back-color-gray">Load Pay Percent:</th>
                        <td>{{ item.carrierData.pPnt ? item.carrierData.pPnt : "-" }} {{item.carrierData.pPnt ? item.carrierData.perType : ''}}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.pType === 'Pay Per Hour'">
                        <th width="40%" class="back-color-gray">Rate:</th>
                        <td>{{ item.carrierData.pRate ? item.carrierData.pRate : "-" }} {{item.carrierData.pRate ? item.carrierData.pRCurr : ''}}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.pType === 'Pay Per Delivery'">
                        <th width="40%" class="back-color-gray">Delivery Rate:</th>
                        <td>{{ item.carrierData.dr ? item.carrierData.dr : "-" }} {{item.carrierData.drCur}}</td>
                      </tr>
  
                      <tr>
                        <th width="40%" class="back-color-gray">Local Tax (in Percentage):</th>
                        <td>{{ item.carrierData.lTax ? item.carrierData.lTax : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">Federal Tax (in Percentage):</th>
                        <td>{{ item.carrierData.fTax ? item.carrierData.fTax : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">Apply Tax (on Settlement)::</th>
                        <td>{{ item.carrierData.aTax ? "Yes" : "No"}}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">WSIB:</th>
                        <td>{{ item.carrierData.wsib ? "Yes" : "No"}}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.wsib">
                        <th width="40%" class="back-color-gray">WSIB Account#:</th>
                        <td>{{ item.carrierData.wsibAcc ? item.carrierData.wsibAcc : "-" }}</td>
                      </tr>
                      <tr *ngIf="item.carrierData.wsib">
                        <th width="40%" class="back-color-gray">WSIB Expiry:</th>
                        <td>{{ item.carrierData.wsibExp ? (item.carrierData.wsibExp | date:"yyyy/MM/dd" ) : "-" }}</td>
                      </tr>
  
  
                    </tbody>
                  </table>
                </div>
              </div>
  
              <div class="row">
                <div class="col-6 mb-2 mt-2">
                  <label class="control-label  font-weight-bold text-lg-right text-5 pt-2"> Carrier Bank Details</label>
               </div>
               <div class="col-6 w-100">
                <table style="float: left" class="table table-bordered" *ngFor="let bank of item.carrierData.banks">
                  <tbody>
                    <tr>
                      <th width="40%" class="back-color-gray">Bank Name:</th>
                      <td>{{ bank.bName ? bank.bName : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">Account#:</th>
                      <td>{{ bank.acc ? bank.acc : "-" }}</td>
                    </tr>
                    
                    <tr>
                      <th width="40%" class="back-color-gray">Routing#:</th>
                      <td>{{ bank.insNo ? bank.insNo : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">Transit#:</th>
                      <td>{{ bank.trnNo ? bank.trnNo : "-" }}</td>
                    </tr>
                    <tr>
                      <th width="40%" class="back-color-gray">Institution#:</th>
                      <td>{{ bank.insNo ? bank.insNo : "-" }}</td>
                    </tr>
                    <tr>
                      <td colspan="2" class="p-0 border-none">
                        <table style="float: left" class="table table-bordered mb-0" *ngFor="let bitem of bank.adrs">
                          <tbody>
                            <tr>
                              <th width="40%" class="back-color-gray">Address Type:</th>
                              <td>{{ bitem.aType ? bitem.aType : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">Country:</th>
                              <td>{{ bitem.cName ? bitem.cName : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">Province/State:</th>
                              <td>{{ bitem.sName ? bitem.sName : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">City:</th>
                              <td>{{ bitem.ctyName ? bitem.ctyName : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">Zip Code:</th>
                              <td>{{ bitem.zip ? bitem.zip : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">Address1:</th>
                              <td>{{ bitem.add1 ? bitem.add1 : "-" }}</td>
                            </tr>
                            <tr *ngIf="bitem.manual">
                              <th width="40%" class="back-color-gray">Address2:</th>
                              <td>{{ bitem.add2 ? bitem.add2 : "-" }}</td>
                            </tr>
                            <tr *ngIf="!bitem.manual">
                              <th width="40%" class="back-color-gray">Address:</th>
                              <td>{{ bitem.userLoc ? bitem.userLoc : "-" }}</td>
                            </tr>
                          </tbody>
                        </table>
                      </td>
                    </tr>
                    
                  </tbody>
                </table>
               </div>
               
              </div>
            </div>
  
            <div *ngIf="item.shipperData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Shipper Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                      <tr>
                        <th width="40%" class="back-color-gray">DOT#:</th>
                        <td>{{ item.shipperData.dot ? item.shipperData.dot : "-" }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">MC#:</th>
                        <td>{{ item.shipperData.mc ? item.shipperData.mc : "-" }}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
  
            <div *ngIf="item.receiverData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Receiver Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                      <tr>
                        <th width="40%" class="back-color-gray">DOT#:</th>
                        <td>{{ item.receiverData.dot ? item.receiverData.dot : "-" }}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">MC#:</th>
                        <td>{{ item.receiverData.mc ? item.receiverData.mc : "-" }}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
              </div>
  
            </div>
  
            <div *ngIf="item.customerData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Customer Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">CSA:</th>
                        <td>{{ item.customerData.csa ? "Yes" : "No"}}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">CTPAT:</th>
                        <td>{{ item.customerData.ctpat ? "Yes" : "No" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">PIP:</th>
                        <td>{{ item.customerData.pip ? "Yes" : "No" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">Account#:</th>
                        <td>{{ item.customerData.acc ? item.customerData.acc : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">DOT#:</th>
                        <td>{{ item.customerData.dot ? item.customerData.dot : "-" }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">EIN:</th>
                        <td>{{ item.customerData.ein ? item.customerData.ein : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">MC#:</th>
                        <td>{{ item.customerData.mc ? item.customerData.mc : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Card#:</th>
                        <td>{{ item.customerData.fast ? item.customerData.fast : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Card Expiry:</th>
                        <td>{{ item.customerData.fastExp ? ( item.customerData.fastExp | date:"yyyy/MM/dd" ) : "-" }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
  
            </div>
  
            <div *ngIf="item.fcData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Factoring Company Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                      <tr>
                        <th width="40%" class="back-color-gray">Account#:</th>
                        <td>{{ item.fcData.acc ? item.fcData.acc : "-" }}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                      <tr>
                        <th width="40%" class="back-color-gray">Factoring Rate:</th>
                        <td>{{ item.fcData.fcRate ? item.fcData.fcRate : "-" }} {{item.fcData.fcRate ? item.fcData.fcUnit : ''}}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
              </div>
  
            </div>
  
            <div *ngIf="item.opData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Owner Operator Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">CSA:</th>
                        <td>{{ item.opData.csa ? "Yes" : "No"}}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Card#:</th>
                        <td>{{ item.opData.fast ? item.opData.fast : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">FAST Expiry:</th>
                        <td>{{ item.opData.fastExp ? ( item.opData.fastExp | date:"yyyy/MM/dd" ) : "-" }}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">Payroll Type:</th>
                        <td>{{ item.opData.pType ? item.opData.pType : "-" }}</td>
                      </tr>
                      <tr *ngIf="item.opData.pType === 'Pay Per Mile'">
                        <th width="40%" class="back-color-gray">Loaded Miles:</th>
                        <td>{{ item.opData.lm ? item.opData.lm : "-" }} {{item.opData.lm ? item.opData.lmCur : ''}}</td>
                      </tr>
                      <tr *ngIf="item.opData.pType === 'Pay Per Mile'">
                        <th width="40%" class="back-color-gray">Empty Miles:</th>
                        <td>{{ item.opData.em ? item.opData.em : "-" }} {{item.opData.em ? item.opData.emCur : ''}}</td>
                      </tr>
  
                    </tbody>
                  </table>
                </div>
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
  
                      <tr *ngIf="item.opData.pType === 'Percentage'">
                        <th width="40%" class="back-color-gray">Load Pay Percent:</th>
                        <td>{{ item.opData.pPnt ? item.opData.pPnt : "-" }} {{item.opData.pPnt ? item.opData.perType : ''}}</td>
                      </tr>
                      <tr *ngIf="item.opData.pType === 'Pay Per Hour'">
                        <th width="40%" class="back-color-gray">Rate:</th>
                        <td>{{ item.opData.pRate ? item.opData.pRate : "-" }} {{item.opData.pRate ? item.opData.pRCurr : ''}}</td>
                      </tr>
                      <tr *ngIf="item.opData.pType === 'Pay Per Delivery'">
                        <th width="40%" class="back-color-gray">Delivery Rate:</th>
                        <td>{{ item.opData.dr ? item.opData.dr : "-" }} {{item.opData.drCur}}</td>
                      </tr>
                      <tr>
                        <th width="40%" class="back-color-gray">SIN:</th>
                        <td>{{ item.opData.sin ? item.opData.sin : "-" }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
  
            </div>
  
            <div *ngIf="item.vendorData">
              <label
                class="control-label font-weight-bold text-lg-right text-5 pt-3"
                >Vendor Details</label
              >
              <div class="row">
                <div class="col-6">
                  <table style="float: left" class="table table-bordered mb-2" >
                    <tbody>
                      <tr>
                        <th width="40%" class="back-color-gray">Account#:</th>
                        <td>{{ item.vendorData.acc ? item.vendorData.acc : "-"}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
  
            </div>
  
  
          </div>
  
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 mb-2 mt-2">
          <label class="control-label  font-weight-bold text-lg-right text-5 pt-2">Address</label>
       </div>
       <div class="col-lg-6">
        <table style="float: left" class="table table-bordered mb-2" *ngFor="let item of unitData.adrs">
          <tbody>
            <tr>
              <th width="40%" class="back-color-gray">Address Type:</th>
              <td>{{ item.aType ? item.aType : "-" }}</td>
            </tr>
            <tr *ngIf="item.manual">
              <th width="40%" class="back-color-gray">Country:</th>
              <td>{{ item.cName ? item.cName : "-" }}</td>
            </tr>
            <tr *ngIf="item.manual">
              <th width="40%" class="back-color-gray">Province/State:</th>
              <td>{{ item.sName ? item.sName : "-" }}</td>
            </tr>
            <tr *ngIf="item.manual">
              <th width="40%" class="back-color-gray">City:</th>
              <td>{{ item.ctyName ? item.ctyName : "-" }}</td>
            </tr>
  
          </tbody>
        </table>
       </div>
       <div class="col-lg-6">
        <table style="float: left"
        class="table table-bordered mb-2"
        *ngFor="let item of unitData.adrs"
      >
        <tbody>
  
          <tr *ngIf="item.manual">
            <th width="40%" class="back-color-gray">Zip Code:</th>
            <td>{{ item.zip ? item.zip : "-" }}</td>
          </tr>
          <tr *ngIf="item.manual">
            <th width="40%" class="back-color-gray">Address1:</th>
            <td>{{ item.add1 ? item.add1 : "-" }}</td>
          </tr>
          <tr *ngIf="item.manual">
            <th width="40%" class="back-color-gray">Address2:</th>
            <td>{{ item.add2 ? item.add2 : "-" }}</td>
          </tr>
          <tr *ngIf="!item.manual">
            <th width="40%" class="back-color-gray">Address:</th>
            <td>{{ item.userLoc ? item.userLoc : "-" }}</td>
          </tr>
        </tbody>
      </table>
      </div>
      </div>
  
  
        <!-- Additional Start -->
  
        <div class="row">
          <div class="col-lg-12 mb-2">
            <label class="control-label  font-weight-bold text-lg-right text-5 pt-2">Additional Contact</label>
          </div>
  
          <div class="col-lg-6">
          <table class="table table-bordered m-0"  *ngFor="let addCont of unitData.addlCnt">
            <tbody>
              <tr>
                <th width="40%" class="back-color-gray">Name:</th>
                <td>
                  {{ addCont.flName ? addCont.flName : "-" }}
                </td>
              </tr>
              <tr>
                <th width="40%" class="back-color-gray">Designation:</th>
                <td>{{ addCont.des ? addCont.des : "-" }}</td>
              </tr>
              <tr>
                <th width="40%" class="back-color-gray">Phone:</th>
                <td>{{ addCont.phone ? addCont.phone : "-" }}</td>
              </tr>
  
            </tbody>
          </table>
          </div>
          <div class="col-lg-6">
          <table class="table table-bordered m-0"  *ngFor="let addCont of unitData.addlCnt">
            <tbody>
  
              <tr>
                <th width="40%" class="back-color-gray">Email:</th>
                <td  class="text-lowercase">{{ addCont.email ? addCont.email : "-" }}</td>
              </tr>
              <tr>
                <th width="40%" class="back-color-gray">Fax:</th>
                <td>{{ addCont.fax ? addCont.fax : "-" }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        </div>
    </div>
  </div>
  
</ng-template>

<ng-template #showPhotoModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Profile Image</h5>
    <button type="button"
      (click)="modal.dismiss()"
      class="close" data-dismiss="modal" aria-label="Close">
      <i class="far fa-window-close modal-dismiss" style="font-size: 25px"> </i>
    </button>
  </div>
  <div class="modal-body text-dark">
      <div class="row">
        <div class="col-lg-12">
          <img [src]="profilePath" class="img-fluid rounded" height="200px" width="100%">
        </div>
      </div>
  </div>
</ng-template>



