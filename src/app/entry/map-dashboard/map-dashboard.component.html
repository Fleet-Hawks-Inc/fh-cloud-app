<style>
    .vehicle_idle,
    .vehicle_stop,
    .vehicle_moving {
        display: none;
    }
</style>
<section class="body">
    <div class="inner-wrapper">
        <section role="main" class="content-body">
            <header class="page-header flex align-items-center justify-content-start">
                <form class="formgrid grid">
                    <div class="row">
                        <div class="col" style="margin-left: 10px;margin-top: 5px;">

                            <label style="padding-top: 10px; font-size: 22px;"> Entire Fleet </label>
                            <button id="btnResetFilter" type="button" pButton class="pull-right" tooltipPosition="left" icon="pi pi-refresh" pTooltip="Refresh" (click)="refresh()"></button>


                        </div>




                    </div>

                </form>


            </header>
            <div style="height: calc(100vh - 110px);width: 100%;">
                <google-map [options]='mapOptions' [width]="width" [height]="height">
                    <map-marker #marker="mapMarker" *ngFor="let driverPosition of driverPositions" [position]="driverPosition.position" [options]="driverMarkerOptions" (mapClick)="openInfoWindow(marker, driverPosition.data,'driver')"></map-marker>
                    <map-info-window [innerHTML]="infoDetail"></map-info-window>
                    <map-marker #marker="mapMarker" *ngFor="let assetPosition of assetPositions" [position]="assetPosition.position" [options]="assetMarkerOptions" (mapClick)="openInfoWindow(marker, assetPosition.data,'asset')"></map-marker>
                    <map-marker #marker="mapMarker" *ngFor="let vehiclePosition of vehicleDashPositions" [position]="vehiclePosition.position" [options]="vehicleMarkerOptions" (mapClick)="openInfoWindow(marker, vehiclePosition.data,'vehicle')"></map-marker>


                </google-map>
            </div>
            <div class="mapclass drivermain">

                <!-- COLLAPSABLE BUTTON -->
                <div id="map_collapse_sidebar" *ngIf="!environment">
                    <section class="card">
                        <header class="card-header" style="border-radius: none">
                            <div class="card-actions">
                                <a class="card-action card-action-toggle" href="javascript:;" data-card-toggle=""></a>
                            </div>
                            <h2 class="card-title" style="width: 230px">
                                <i class="fas fa-sitemap"></i>&nbsp;&nbsp;&nbsp; Entire Fleet
                            </h2>
                            <div class="mt-3">
                                <select data-plugin-selectTwo class="form-control populate">
                  <optgroup label="Select Truck">
                    <option value="1">Groups</option>
                    <option value="2">Vehicles</option>
                    <option value="2">Drivers</option>
                    <option value="2">Assets</option>
                  </optgroup>
                </select>
                            </div>
                        </header>
                        <div class="card-body" style="display: block">
                            <div id="treeCheckbox">
                                <ul>
                                    <li data-jstree='{" opened" : true }'>
                                        Entire Fleet
                                        <ul>
                                            <li data-jstree='{" opened" : false }'>
                                                Long Haul
                                                <ul>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        John Smith
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Mike William
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Harry Johnson
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        James
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Juan Carlos
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Mike Jones
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Sarah Smith
                                                    </li>
                                                </ul>
                                            </li>
                                            <li data-jstree="">
                                                Short Haul
                                                <ul>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        John Smith
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Mike William
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Harry Johnson
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        James Rodriguez
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Juan Carlos
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Mike Jones
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Sarah Smith
                                                    </li>
                                                </ul>
                                            </li>
                                            <li data-jstree="">
                                                Regions
                                                <ul>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Canada
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Central
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Mexico
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Northeast
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Southeast
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        Southeast
                                                    </li>
                                                    <li data-jstree='{" icon" :" fas fa-user"
                                          }'>
                                                        West
                                                    </li>
                                                </ul>
                                            </li>
                                            <li data-jstree="">Ungrouped</li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- VEHICLE MAP LOCATIONS -->
                <div class="vehicle_moving vehicle-item" id="vehicleLoc1">
                    <a href="#"><i class="fas fa-location-arrow"></i>
            <p class="vehicle-description">
              <i class="fas fa-user"></i> Manjit Singh<br />
              <i class="fas fa-calendar-day"></i> Cycle: 10 D<br />
              <i class="fas fa-map-marker-alt"></i> Location: Kingston,
              Toronto<br />
              <strong>HOS Summary</strong><br />
              Break: 10 h, Hours: 5 h<br />
              Shift: 2nd, Cycle Reset: 4:25 h
            </p>
          </a>
                </div>
                <div class="vehicle_moving" id="vehicleLoc2">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_moving" id="vehicleLoc3">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_moving" id="vehicleLoc4">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_moving" id="vehicleLoc5">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_stop" id="vehicleStopLoc1">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_stop" id="vehicleStopLoc2">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_stop" id="vehicleStopLoc3">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_idle" id="vehicleIdleLoc1">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_idle" id="vehicleIdleLoc2">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_idle" id="vehicleIdleLoc3">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="vehicle_idle" id="vehicleIdleLoc4">
                    <i class="fas fa-location-arrow"></i>
                </div>
                <div class="iconR" id="arrowR" *ngIf="visible">
                    <a [routerLink]="" (click)="valuechange()"><i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="iconL" id="arrowL" *ngIf="!visible">
                    <a [routerLink]="" (click)="valuechange()"><i class="fas fa-arrow-left"></i></a>
                </div>

                <form method="">
                    <div class="drivelist" style="overflow: hidden scroll; height: 100%; display: block" id="driverList" *ngIf="visible" [@slideInOut]>
                        <div class="notrip-oview align-items-center" *ngIf="activeTrips.length == 0">
                            <img src="assets/img/notrip.png" /><br />
                            <div class="d-flex align-items-center justify-content-center">
                                <p class="font-weight-bold">
                                    There are no active trips.<br /> Only the started trips with driver driving will be shown here.
                                </p>
                            </div>
                        </div>

                        <div *ngIf="activeTrips.length > 0">
                            <!-- <div class="text-right pr-1">
                        <div style="display: inline-block;" class="mr-1">
                           <div class="input-group">
                              <input class="form-control" type="text"
                                 placeholder="Search">
                              <span class="input-group-append">
                                 <span class="input-group-text">
                                    <i class="fas fa-search"></i>
                                 </span>
                              </span>
                           </div>
                        </div>
                        <div class="btn-group flex-wrap">
                           <button type="button" class="mb-1 mx-1 btn
                              btn-success btn-sm dropdown-toggle"
                              data-toggle="dropdown" aria-expanded="false">Duty
                              Status<span
                                 class="caret"></span></button>
                           <div class="dropdown-menu" role="menu"
                              x-placement="bottom-start"
                              style="position: absolute; will-change: transform;
                              top: 0px; left: 0px; transform: translate3d(0px,
                              38px, 0px);">
                              <a class="dropdown-item text-1" href="">ON</a>
                              <a class="dropdown-item text-1" href="">OFF</a>
                              <a class="dropdown-item text-1" href="">D</a>
                              <a class="dropdown-item text-1" href="">SB</a>
                              <a class="dropdown-item text-1" href="">YM</a>
                           </div>
                        </div>
                        <div class="btn-group flex-wrap">
                           <button type="button" class="mb-1 mx-1 btn
                              btn-success btn-sm dropdown-toggle"
                              data-toggle="dropdown" aria-expanded="false">Schedule<span
                                 class="caret"></span></button>
                           <div class="dropdown-menu" role="menu"
                              x-placement="bottom-start"
                              style="position: absolute; will-change: transform;
                              top: 0px; left: 0px; transform: translate3d(0px,
                              38px, 0px);">
                              <a class="dropdown-item text-1" href="">On Time</a>
                              <a class="dropdown-item text-1" href="">Late</a>
                           </div>
                        </div>
                     </div> -->
                            <div class="driverdetail" *ngFor="let data of activeTrips">
                                <div class="driverleftmain">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <p class="mb-1 font-weight-semibold text-dark">
                                                <a href="javascript:;" class="text-5 text-capitalize">{{
                          data.driverData.main
                          ? data.driverData.main.fullName
                          : ""
                          }}
                        </a>
                                                <!-- <span
                                       class="badge badge-dark p-1">D</span> -->
                                                <a href="javascript:;" class="text-5 text-capitalize" *ngIf="data.driverData.other">
                                                    <span *ngIf="
                              data.driverData.main && data.driverData.other
                            ">
                            |
                          </span> {{ data.driverData.other ? data.driverData.other.fullName : "" }}
                                                </a>
                                                <!-- <span
                                       class="badge badge-dark p-1">{{
                                       (data.driverData.other) ? 'SB' : '' }}</span> -->
                                            </p>
                                        </div>
                                        <div class="col-lg-4 pl-0 text-right">
                                            <!--<a class="pull-right btn btn-dark btn-xs" href="live-view.php">Live View</a></p>-->
                                        </div>
                                    </div>

                                    <!-- <p class="mb-1"><span class="text-dark pl-0">Kingston,
                                 Toronto, ON K7L 5K4 <i
                                    class="fas fa-map-marker-alt" title="Share
                                    Location"></i></span> <span
                                 class="text-2 pl-1">(3 Min ago)</span></p> -->
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <p class="mb-1 text-3 font-weight-semibold text-dark">
                                                Vehicle: {{ data.vehicleData[0].vehicleIdentification }}
                                                <!-- <a
                                       href="javascript:;" data-toggle="tooltip"
                                       title="Share Live Location"><i class="fas
                                          fa-share-alt"></i></a> -->
                                            </p>
                                        </div>

                                        <div class="col-lg-6 text-right">
                                            <p class="mb-1 text-3 font-weight-semibold text-dark">
                                                Assets:
                                                <span *ngFor="
                            let asst of data.assetData;
                            let astInd = index
                          ">
                          {{ asst.assetIdentification }}
                          <span *ngIf="astInd < data.assetData.length - 1">,</span>
                                                </span>
                                                <!-- <a href="javascript:;" data-toggle="tooltip"
                                       title="Share Live Location"><i class="fas
                                          fa-share-alt"></i></a> -->
                                            </p>
                                        </div>
                                    </div>

                                    <!-- <p class="mb-2 text-4 font-weight-semibold
                              text-dark">Schedule Status
                              <span class="pull-right"><button class="mb-0
                                    mt-0
                                    mr-1 btn btn-xs btn-success">On
                                    Time</button></span>
                           </p> -->
                                    <p class="mb-1 text-4 font-weight-semibold text-dark">
                                        Trip
                                        <span class="badge badge-dark p-1">{{
                      data.tripStatus
                      }}</span>

                                        <a class="pull-right mx-1" href="javascript:;">
                      Trip#:
                      {{ data.tripNo }}</a>
                                        <span class="pull-right LTLload">{{ data.tripType }}</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </div>
</section>